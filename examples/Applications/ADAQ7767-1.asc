Version 4
SHEET 1 2696 1372
WIRE -384 -704 -416 -704
WIRE -112 -704 -384 -704
WIRE -416 -656 -416 -704
WIRE -112 -656 -112 -704
WIRE -576 -624 -688 -624
WIRE -480 -624 -576 -624
WIRE -688 -560 -688 -624
WIRE -416 -560 -416 -576
WIRE -736 -544 -912 -544
WIRE -576 -544 -576 -624
WIRE -736 -496 -784 -496
WIRE -688 -400 -688 -480
WIRE -576 -400 -576 -464
WIRE -576 -400 -688 -400
WIRE -480 -400 -480 -624
WIRE -352 -400 -480 -400
WIRE -320 -400 -352 -400
WIRE 608 -400 528 -400
WIRE 992 -400 928 -400
WIRE 1472 -400 1408 -400
WIRE 432 -368 368 -368
WIRE 528 -368 528 -400
WIRE 928 -368 928 -400
WIRE 1408 -368 1408 -400
WIRE 432 -352 432 -368
WIRE 480 -352 432 -352
WIRE -912 -304 -912 -544
WIRE -912 -304 -1184 -304
WIRE -688 -304 -688 -400
WIRE -688 -304 -832 -304
WIRE 480 -304 432 -304
WIRE 432 -288 432 -304
WIRE 432 -288 368 -288
WIRE -1184 -272 -1184 -304
WIRE -832 -272 -832 -304
WIRE 528 -256 528 -288
WIRE 928 -256 928 -288
WIRE 1408 -256 1408 -288
WIRE -688 -240 -688 -304
WIRE -576 -240 -688 -240
WIRE -352 -240 -480 -240
WIRE -320 -240 -352 -240
WIRE -1184 -160 -1184 -192
WIRE -832 -160 -832 -192
WIRE -576 -112 -576 -240
WIRE -688 -96 -688 -240
WIRE -912 -80 -912 -304
WIRE -736 -80 -912 -80
WIRE 672 -64 544 -64
WIRE 848 -64 720 -64
WIRE 544 -48 544 -64
WIRE -736 -32 -784 -32
WIRE 720 -32 720 -64
WIRE 672 -16 672 -64
WIRE 80 16 80 0
WIRE -688 32 -688 -16
WIRE -576 32 -576 -32
WIRE -576 32 -688 32
WIRE -480 32 -480 -240
WIRE -480 32 -576 32
WIRE -144 32 -144 0
WIRE -80 32 -80 0
WIRE -80 32 -144 32
WIRE -48 32 -80 32
WIRE 544 64 544 32
WIRE 672 64 672 32
WIRE 672 64 544 64
WIRE 720 64 720 48
WIRE 720 64 672 64
WIRE 544 80 544 64
FLAG -784 -496 0
FLAG -784 -32 0
FLAG -384 -704 5V
FLAG -416 -560 0
FLAG 80 16 0
FLAG -832 -160 0
FLAG -1184 -160 0
FLAG 528 -256 0
FLAG 608 -400 AFE_Out
FLAG -352 -400 IN+
FLAG -352 -240 IN-
FLAG -48 32 5V
FLAG 928 -256 0
FLAG 992 -400 RTO_Noise
FLAG 1408 -256 0
FLAG 1472 -400 RTI_Noise
FLAG 544 80 0
FLAG 848 -64 CoreADC_Noise
SYMBOL voltage -416 -672 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V4
SYMATTR Value 5
SYMBOL voltage -832 -288 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName Vicm
SYMATTR Value {Voffset}
SYMBOL voltage -1184 -288 R0
WINDOW 123 24 124 Left 2
WINDOW 39 0 0 Left 0
SYMATTR Value2 AC 1
SYMATTR InstName Vin
SYMATTR Value SINE(0 {Ampl} 10k)
SYMBOL e 528 -384 R0
SYMATTR InstName E3
SYMATTR Value 1
SYMBOL ADAQ7767-1 -112 -320 R0
SYMATTR InstName U1
SYMBOL bv 928 -384 R0
SYMATTR InstName B1
SYMATTR Value V=V(AFE_Out)+V(CoreADC_Noise)
SYMBOL bv 1408 -384 R0
WINDOW 3 32 130 Left 2
SYMATTR Value V=V(RTO_Noise)/{AFE_GAIN}
SYMATTR InstName B2
SYMBOL res 528 -64 R0
SYMATTR InstName R1
SYMATTR Value 60.343
SYMBOL e 720 -48 R0
SYMATTR InstName E4
SYMATTR Value {ADC_Noise}
SYMBOL g -688 -576 R0
SYMATTR InstName G1
SYMATTR Value 50k
SYMBOL res -592 -560 R0
SYMATTR InstName R2
SYMATTR Value 10µ
SYMBOL res -592 -128 R0
SYMATTR InstName R3
SYMATTR Value 10µ
SYMBOL g -688 -112 R0
SYMATTR InstName G2
SYMATTR Value 50k
TEXT -2056 112 Left 2 !.param Ampl    =28.672
TEXT -2104 -160 Left 3 ;Control Parameters:
TEXT -2088 16 Left 2 ;Input Signal Amplitude Parameter Table:
TEXT -2080 -384 Left 2 !.meas NOISE noise_integ INTEG V(onoise)
TEXT -2104 -456 Left 3 ;Measurements Commands: (View "Spice Error Log")
TEXT -2088 -416 Left 2 ;RMS Noise:
TEXT -2088 -344 Left 2 ;AC - 3dB BW:
TEXT -2072 -312 Left 2 !.meas AC GAIN FIND mag(V(AFE_Out)) AT 100
TEXT -2072 -280 Left 2 !.meas AC BW WHEN mag(V(AFE_Out)) = GAIN/sqrt(2)
TEXT -2104 -672 Left 3 ;Simulation Commands:
TEXT -2088 -632 Left 2 ;.noise V(RTI_Noise) Vin dec 50 100 {BW_3dB}
TEXT -2088 -560 Left 2 !.tran 200u
TEXT -2088 -592 Left 2 ;.AC dec 100 100 10Meg
TEXT -2064 -88 Left 2 ;.param AFE_GAIN=1
TEXT -2088 -120 Left 2 ;AAF_GAIN
TEXT -2064 -56 Left 2 ;.param AFE_GAIN=4/11
TEXT -2064 -24 Left 2 !.param AFE_GAIN=1/7
TEXT -2056 80 Left 2 ;.param Ampl    =11.264
TEXT -2056 48 Left 2 ;.param Ampl    =4.096
TEXT -2056 240 Left 2 !.param Voffset    =12
TEXT -2088 144 Left 2 ;Max Input Common Mode Parameter Table:
TEXT -2056 208 Left 2 ;.param Voffset    =6.2
TEXT -2056 176 Left 2 ;.param Voffset    =4.5
TEXT -1760 176 Left 2 ;.param Voffset    =0
TEXT 1488 -360 Left 2 ;RTI_Noise is approximately equal to ADAQ7767-1 datasheet\nNoise Spectral Density (at 1 kHz) and Integrated Voltage\nNoise using default test conditions.
TEXT 536 -112 Left 3 ;Core ADC Noise
TEXT 1080 136 Left 2 ;Example ADC settings: (See datasheet for complete list of settings)\nADC Power Mode = Fast\nMCLK = 16.384 MHz, 13.1072 MHz, 12.288 MHz\nMCLK_DIV = 2, 4, 8, 16\nFILTER = Wideband Low Ripple (BW*0.433), Sinc5 (BW*0.204), Sinc3 (BW*0.2617)\nDEC_RATE = 32 to 1024 for Wideband\nDefault ODR = 256 kSPS\nDefault BW_3dB = 110 kHz
TEXT 544 184 Left 2 !.param MCLK=16.384Meg
TEXT 544 216 Left 2 !.param MCLK_DIV=2
TEXT 1072 32 Left 2 !.param ADC_Noise=33*sqrt(16.384Meg/(2*MCLK/MCLK_DIV))
TEXT 544 344 Left 2 !.param BW_3dB=ODR*BW_Factor
TEXT 544 280 Left 2 !.param DEC_RATE=32
TEXT 544 312 Left 2 !.param ODR=MCLK/(MCLK_DIV*DEC_RATE)
TEXT 544 248 Left 2 !.param BW_Factor=0.433
TEXT 552 128 Left 2 ;ADC Settings:
RECTANGLE Normal -1312 272 -2144 -192 2
RECTANGLE Normal -1312 -240 -2144 -480 2
RECTANGLE Normal -1312 -528 -2144 -704 2
RECTANGLE Normal 2112 384 480 -160 2
