Version 4
SHEET 1 3988 996
WIRE -16 -272 -176 -272
WIRE 432 -272 -16 -272
WIRE -176 -256 -176 -272
WIRE -16 -224 -16 -272
WIRE 96 -224 -16 -224
WIRE 432 -224 432 -272
WIRE 432 -224 384 -224
WIRE -176 -160 -176 -176
WIRE -16 -128 -16 -224
WIRE 96 -128 -16 -128
WIRE 432 -128 432 -224
WIRE 432 -128 384 -128
WIRE -16 -32 -16 -128
WIRE 96 -32 -16 -32
WIRE 544 -32 384 -32
WIRE 640 -32 624 -32
WIRE 720 -32 640 -32
WIRE 832 -32 720 -32
WIRE 928 -32 832 -32
WIRE 640 -16 640 -32
WIRE 720 -16 720 -32
WIRE 832 -16 832 -32
WIRE 928 -16 928 -32
WIRE -16 64 -16 -32
WIRE 0 64 -16 64
WIRE 96 64 80 64
WIRE 464 64 384 64
WIRE 496 64 464 64
WIRE 608 64 576 64
WIRE 640 64 640 48
WIRE 640 64 608 64
WIRE 720 64 640 64
WIRE 720 80 720 64
WIRE 832 80 832 48
WIRE 928 80 928 64
WIRE 96 160 80 160
WIRE 400 160 384 160
WIRE 720 176 720 160
WIRE -16 256 -16 64
WIRE 96 256 -16 256
WIRE 432 256 432 -128
WIRE 432 256 384 256
WIRE -16 352 -16 256
WIRE 96 352 -16 352
WIRE 432 352 432 256
WIRE 432 352 384 352
WIRE -352 448 -480 448
WIRE -256 448 -352 448
WIRE -144 448 -256 448
WIRE -96 448 -144 448
WIRE 96 448 -16 448
WIRE 512 448 384 448
WIRE 608 448 592 448
WIRE 688 448 608 448
WIRE 800 448 688 448
WIRE 896 448 800 448
WIRE -480 464 -480 448
WIRE -352 464 -352 448
WIRE -256 464 -256 448
WIRE -144 464 -144 448
WIRE 608 464 608 448
WIRE 688 464 688 448
WIRE 800 464 800 448
WIRE 896 464 896 448
WIRE -144 544 -144 528
WIRE -144 544 -256 544
WIRE -80 544 -144 544
WIRE -48 544 -80 544
WIRE 48 544 32 544
WIRE 96 544 48 544
WIRE 416 544 384 544
WIRE 448 544 416 544
WIRE 560 544 528 544
WIRE 608 544 608 528
WIRE 608 544 560 544
WIRE 688 544 608 544
WIRE -480 560 -480 544
WIRE -352 560 -352 528
WIRE -256 560 -256 544
WIRE 688 560 688 544
WIRE 800 560 800 528
WIRE 896 560 896 544
WIRE 96 640 80 640
WIRE 400 640 384 640
WIRE -256 656 -256 640
WIRE 688 656 688 640
FLAG -176 -160 0
FLAG 80 160 0
FLAG 400 160 0
FLAG 720 176 0
FLAG 832 80 0
FLAG 928 80 0
FLAG 400 640 0
FLAG 688 656 0
FLAG 800 560 0
FLAG 896 560 0
FLAG 80 640 0
FLAG -256 656 0
FLAG -352 560 0
FLAG -480 560 0
FLAG 928 -32 OUT1
FLAG 896 448 OUT2
FLAG -480 448 OUT3
FLAG -176 -272 IN
FLAG 608 64 A
FLAG 464 64 B
FLAG 560 544 C
FLAG 416 544 D
FLAG -80 544 E
FLAG 48 544 F
SYMBOL PowerProducts\\LTC3569 240 208 R0
SYMATTR InstName U1
SYMBOL voltage -176 -272 R0
SYMATTR InstName V1
SYMATTR Value 3.6
SYMBOL res -16 80 R270
WINDOW 3 0 56 VBottom 0
WINDOW 0 32 56 VTop 0
SYMATTR Value 470K
SYMATTR InstName R1
SYMBOL ind 528 -16 R270
WINDOW 0 32 56 VTop 0
WINDOW 3 5 56 VBottom 0
SYMATTR InstName L1
SYMATTR Value 2.2µ
SYMBOL res 704 -32 R0
SYMATTR InstName R2
SYMATTR Value 510K
SYMBOL res 704 64 R0
SYMATTR InstName R3
SYMATTR Value 240K
SYMBOL cap 624 -16 R0
WINDOW 3 20 64 Left 0
SYMATTR Value 20p
SYMATTR InstName C1
SYMBOL cap 816 -16 R0
SYMATTR InstName C2
SYMATTR Value 10µ
SYMBOL ind 496 464 R270
WINDOW 0 32 56 VTop 0
WINDOW 3 5 56 VBottom 0
SYMATTR InstName L2
SYMATTR Value 2.5µ
SYMBOL res 672 448 R0
SYMATTR InstName R4
SYMATTR Value 300K
SYMBOL res 672 544 R0
SYMATTR InstName R5
SYMATTR Value 240K
SYMBOL cap 592 464 R0
WINDOW 3 20 64 Left 0
SYMATTR Value 20p
SYMATTR InstName C3
SYMBOL cap 784 464 R0
SYMATTR InstName C4
SYMATTR Value 4.7µ
SYMBOL ind 0 464 M270
WINDOW 0 32 56 VTop 0
WINDOW 3 5 56 VBottom 0
SYMATTR InstName L3
SYMATTR Value 2.5µ
SYMBOL res -272 448 R0
SYMATTR InstName R6
SYMATTR Value 150K
SYMBOL res -272 544 R0
SYMATTR InstName R7
SYMATTR Value 300K
SYMBOL cap -160 464 R0
WINDOW 3 20 64 Left 0
SYMATTR Value 20p
SYMATTR InstName C5
SYMBOL cap -368 464 R0
SYMATTR InstName C6
SYMATTR Value 4.7µ
SYMBOL res 912 -32 R0
SYMATTR InstName Rload1
SYMATTR Value 2
SYMBOL res 880 448 R0
SYMATTR InstName Rload2
SYMATTR Value 3
SYMBOL res -496 448 R0
SYMATTR InstName Rload3
SYMATTR Value 2
SYMBOL VOLTAGE 592 64 R90
WINDOW 0 -32 56 VBottom 0
WINDOW 3 32 56 VTop 0
SYMATTR InstName V2
SYMATTR Value SINE(0 2m {Freq1})
SYMBOL VOLTAGE 544 544 R90
WINDOW 0 -32 56 VBottom 0
WINDOW 3 32 56 VTop 0
SYMATTR InstName V3
SYMATTR Value SINE(0 2m {Freq2})
SYMBOL VOLTAGE -64 544 M90
WINDOW 0 -32 56 VBottom 0
WINDOW 3 32 56 VTop 0
SYMATTR InstName V4
SYMATTR Value SINE(0 2m {Freq3})
TEXT 768 680 Left 0 !.tran 0 1.2m 900u
TEXT 1120 -176 Left 0 !.measure Aavg avg V(a)\n.measure Bavg avg V(b)\n.measure Are avg  (V(a)-Aavg)*cos(360*time*Freq1)\n.measure Aim avg -(V(a)-Aavg)*sin(360*time*Freq1)\n.measure Bre avg  (V(b)-Bavg)*cos(360*time*Freq1)\n.measure Bim avg -(V(b)-Bavg)*sin(360*time*Freq1)\n.measure Gain1Mag param 20*log10(hypot(Are,Aim) / hypot(Bre,Bim))\n.measure Gain1Phi param mod(atan2(Aim, Are) - atan2(Bim, Bre)+180,360)-180
TEXT 1120 -288 Left 0 !.option plotwinsize=0  ; turn off waveform compression\n.option option_angle=degrees
TEXT 1120 120 Left 0 !.measure Cavg avg V(c)\n.measure Davg avg V(d)\n.measure Cre avg  (V(c)-Aavg)*cos(360*time*Freq2)\n.measure Cim avg -(V(c)-Aavg)*sin(360*time*Freq2)\n.measure Dre avg  (V(d)-Bavg)*cos(360*time*Freq2)\n.measure Dim avg -(V(d)-Bavg)*sin(360*time*Freq2)\n.measure Gain2Mag param 20*log10(hypot(Cre,Cim) / hypot(Dre,Dim))\n.measure Gain2Phi param mod(atan2(Cim, Cre) - atan2(Dim, Dre)+180,360)-180
TEXT 1120 400 Left 0 !.measure Eavg avg V(e)\n.measure Favg avg V(f)\n.measure Ere avg  (V(e)-Aavg)*cos(360*time*Freq3)\n.measure Eim avg -(V(e)-Aavg)*sin(360*time*Freq3)\n.measure Fre avg  (V(f)-Bavg)*cos(360*time*Freq3)\n.measure Fim avg -(V(f)-Bavg)*sin(360*time*Freq3)\n.measure Gain3Mag param 20*log10(hypot(Ere,Eim) / hypot(Dre,Dim))\n.measure Gain3Phi param mod(atan2(Eim, Ere) - atan2(Fim, Fre)+180,360)-180
TEXT 512 -136 Left 0 !.param Freq1=120K Freq2=125K Freq3=162K
TEXT 1096 680 Left 0 ;gain1mag: 20*log10(hypot(are,aim) / hypot(bre,bim))=0.0305726\ngain1phi: mod(atan2(aim, are) - atan2(bim, bre)+180,360)-180=50.0816\n \ngain2mag: 20*log10(hypot(cre,cim) / hypot(dre,dim))=0.0320756\ngain2phi: mod(atan2(cim, cre) - atan2(dim, dre)+180,360)-180=52.0314\n \ngain3mag: 20*log10(hypot(ere,eim) / hypot(dre,dim))=-0.00499951\ngain3phi: mod(atan2(eim, ere) - atan2(fim, fre)+180,360)-180=34.6064
TEXT 584 -192 Left 0 !.save V(a) V(b) V(c) V(d) V(e) V(f)
