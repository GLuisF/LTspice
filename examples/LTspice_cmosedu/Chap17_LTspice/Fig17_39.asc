Version 4
SHEET 1 2640 680
WIRE 80 -448 80 -480
WIRE 80 -336 80 -368
WIRE 80 -144 80 -176
WIRE 80 -32 80 -64
WIRE 192 -448 192 -480
WIRE 192 -336 192 -368
WIRE 208 -176 208 -208
WIRE 208 -64 208 -96
WIRE 336 -560 336 -592
WIRE 336 -448 336 -480
WIRE 336 -336 336 -368
WIRE 432 -272 432 -288
WIRE 448 -208 448 -224
WIRE 480 -288 432 -288
WIRE 480 -272 480 -288
WIRE 528 -288 480 -288
WIRE 528 -272 528 -288
WIRE 576 -240 560 -240
WIRE 576 -112 560 -112
WIRE 624 -496 608 -496
WIRE 624 -368 608 -368
WIRE 624 -240 576 -240
WIRE 624 -112 576 -112
WIRE 672 -608 672 -624
WIRE 672 -576 672 -608
WIRE 672 -448 672 -480
WIRE 672 -320 672 -352
WIRE 672 -208 448 -208
WIRE 672 -208 672 -224
WIRE 672 -192 672 -208
WIRE 672 -64 672 -96
WIRE 736 -704 720 -704
WIRE 736 -608 672 -608
WIRE 736 -608 736 -704
WIRE 816 -704 736 -704
WIRE 816 -496 784 -496
WIRE 816 -368 784 -368
WIRE 816 -240 624 -240
WIRE 816 -112 624 -112
WIRE 848 128 848 64
WIRE 848 272 848 192
WIRE 864 -576 864 -624
WIRE 864 -448 864 -480
WIRE 864 -320 864 -352
WIRE 864 -208 864 -224
WIRE 864 -192 864 -208
WIRE 864 -64 864 -96
WIRE 928 -576 864 -576
WIRE 928 -272 928 -288
WIRE 944 -208 864 -208
WIRE 944 -208 944 -224
WIRE 960 -448 960 -480
WIRE 960 -432 960 -448
WIRE 976 -576 928 -576
WIRE 976 -528 976 -576
WIRE 976 -288 928 -288
WIRE 976 -272 976 -288
WIRE 1008 -448 960 -448
WIRE 1008 -448 1008 -480
WIRE 1024 -288 976 -288
WIRE 1024 -272 1024 -288
WIRE 1056 -448 1008 -448
WIRE 1056 -448 1056 -480
WIRE 1104 -608 736 -608
WIRE 1136 -448 1136 -480
WIRE 1136 -432 1136 -448
WIRE 1152 -608 1104 -608
WIRE 1152 -528 1152 -608
WIRE 1184 -448 1136 -448
WIRE 1184 -448 1184 -480
WIRE 1232 -448 1184 -448
WIRE 1232 -448 1232 -480
WIRE 1296 48 1200 48
WIRE 1296 128 848 192
WIRE 1296 128 1296 48
WIRE 1296 192 848 128
WIRE 1296 304 1200 304
WIRE 1296 304 1296 192
WIRE 1312 48 1296 48
WIRE 1328 304 1296 304
WIRE 1344 48 1312 48
WIRE 1344 304 1328 304
WIRE 1376 -160 1376 -192
WIRE 1408 -288 1376 -288
WIRE 1440 -608 1440 -624
WIRE 1440 -592 1440 -608
WIRE 1440 -480 1440 -496
WIRE 1440 -464 1440 -480
WIRE 1440 -336 1440 -368
WIRE 1440 -304 1440 -336
WIRE 1440 -288 1408 -288
WIRE 1440 -288 1440 -304
WIRE 1440 -160 1440 -192
WIRE 1504 -576 1488 -576
WIRE 1504 -448 1488 -448
WIRE 1504 -336 1440 -336
WIRE 1504 -304 1440 -304
WIRE 1504 -208 1488 -208
WIRE 1616 -576 1504 -336
WIRE 1616 -336 1504 -576
WIRE 1616 -304 1504 -208
WIRE 1616 -208 1504 -304
WIRE 1632 -576 1616 -576
WIRE 1632 -448 1504 -448
WIRE 1632 -208 1616 -208
WIRE 1680 -608 1680 -624
WIRE 1680 -592 1680 -608
WIRE 1680 -480 1680 -496
WIRE 1680 -464 1680 -480
WIRE 1680 -336 1616 -336
WIRE 1680 -336 1680 -368
WIRE 1680 -304 1616 -304
WIRE 1680 -304 1680 -336
WIRE 1680 -288 1680 -304
WIRE 1680 -160 1680 -192
WIRE 1712 -288 1680 -288
WIRE 1744 -288 1712 -288
WIRE 1744 -160 1744 -192
FLAG 80 -336 0
FLAG 80 -480 VDD
FLAG 80 -32 0
FLAG 80 -176 Phi1
FLAG 208 -64 0
FLAG 208 -208 phi2
FLAG 864 -144 0
FLAG 864 -64 0
FLAG 864 -672 VDD
FLAG 864 -720 VDD
FLAG 192 -336 0
FLAG 192 -480 Vr
FLAG 336 -336 0
FLAG 336 -592 Vi
FLAG 672 -144 0
FLAG 672 -64 0
FLAG 576 -112 phi2
FLAG 864 -272 0
FLAG 672 -272 0
FLAG 576 -240 phi1
FLAG 864 -400 0
FLAG 672 -400 0
FLAG 608 -368 Q
FLAG 864 -528 0
FLAG 672 -528 0
FLAG 608 -496 Vr
FLAG 784 -496 Vi
FLAG 480 -288 VDD
FLAG 976 -288 VDD
FLAG 672 -672 VDD
FLAG 672 -720 VDD
FLAG 960 -432 0
FLAG 1136 -432 0
FLAG 1440 -672 VDD
FLAG 1440 -720 VDD
FLAG 928 -576 vbuck
FLAG 1104 -608 vbucki
FLAG 1680 -672 VDD
FLAG 1680 -720 VDD
FLAG 1392 -704 vbuck
FLAG 1728 -704 vbucki
FLAG 1440 -544 VDD
FLAG 1680 -544 VDD
FLAG 1440 -416 VDD
FLAG 1680 -416 VDD
FLAG 1504 -448 phi2
FLAG 1680 -240 0
FLAG 1680 -160 0
FLAG 1440 -240 0
FLAG 1440 -160 0
FLAG 1376 -240 0
FLAG 1376 -160 0
FLAG 1744 -240 0
FLAG 1744 -160 0
FLAG 1328 -208 phi2
FLAG 1792 -208 phi2
FLAG 1712 -288 Out
FLAG 1408 -288 Outi
FLAG 1024 112 0
FLAG 1024 -32 VDD
FLAG 1024 368 0
FLAG 1024 224 VDD
FLAG 848 16 Out
FLAG 848 320 Outi
FLAG 1328 304 Qi
FLAG 1312 48 Q
FLAG 1440 -608 n1
FLAG 1680 -608 n2
FLAG 1440 -480 n3
FLAG 1680 -480 n4
FLAG 784 -368 VDD
SYMBOL voltage 80 -464 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
WINDOW 3 40 53 Left 0
SYMATTR Value 1
SYMATTR InstName VDD
SYMBOL pmos4 528 -224 M270
WINDOW 0 56 32 Invisible 0
WINDOW 3 56 72 Invisible 0
WINDOW 123 -36 107 VLeft 0
SYMATTR InstName M3
SYMATTR Value P_50n
SYMATTR Value2 l=500n w=2.5u
SYMBOL voltage 80 -160 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
WINDOW 3 -42 171 Left 0
SYMATTR Value PULSE 0 1 1n 10p 10p 4n 10n)
SYMATTR InstName Vphi1
SYMBOL voltage 208 -192 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
WINDOW 3 -83 163 Left 0
SYMATTR Value PULSE 0 1 6n 10p 10p 4n 10n
SYMATTR InstName Vphi2
SYMBOL nmos4 816 -192 R0
WINDOW 0 56 32 Invisible 0
WINDOW 3 56 72 Invisible 0
SYMATTR InstName M5
SYMATTR Value N_50n
SYMATTR Value2 l=50n w=500n
SYMBOL pmos4 816 -624 M180
WINDOW 0 56 32 Invisible 0
WINDOW 3 56 72 Invisible 0
WINDOW 123 54 20 Left 0
SYMATTR InstName M7
SYMATTR Value P_50n
SYMATTR Value2 l=500n w=500n
SYMBOL voltage 192 -464 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
WINDOW 3 40 53 Left 0
SYMATTR Value 650m
SYMATTR InstName Vr
SYMBOL voltage 336 -464 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
WINDOW 3 40 53 Left 0
SYMATTR Value 640m
SYMATTR InstName Vi
SYMBOL nmos4 624 -192 R0
WINDOW 0 56 32 Invisible 0
WINDOW 3 56 72 Invisible 0
SYMATTR InstName M1
SYMATTR Value N_50n
SYMATTR Value2 l=50n w=500n
SYMBOL nmos4 816 -320 R0
WINDOW 0 56 32 Invisible 0
WINDOW 3 56 72 Invisible 0
SYMATTR InstName M2
SYMATTR Value N_50n
SYMATTR Value2 l=50n w=500n
SYMBOL nmos4 624 -320 R0
WINDOW 0 56 32 Invisible 0
WINDOW 3 56 72 Invisible 0
SYMATTR InstName M4
SYMATTR Value N_50n
SYMATTR Value2 l=50n w=500n
SYMBOL nmos4 816 -448 R0
WINDOW 0 56 32 Invisible 0
WINDOW 3 56 72 Invisible 0
SYMATTR InstName M6
SYMATTR Value N_50n
SYMATTR Value2 l=50n w=500n
SYMBOL nmos4 624 -448 R0
WINDOW 0 56 32 Invisible 0
WINDOW 3 56 72 Invisible 0
SYMATTR InstName M8
SYMATTR Value N_50n
SYMATTR Value2 l=50n w=500n
SYMBOL nmos4 816 -576 R0
WINDOW 0 56 32 Invisible 0
WINDOW 3 56 72 Invisible 0
SYMATTR InstName M9
SYMATTR Value N_50n
SYMATTR Value2 l=50n w=500n
SYMBOL nmos4 624 -576 R0
WINDOW 0 56 32 Invisible 0
WINDOW 3 56 72 Invisible 0
SYMATTR InstName M10
SYMATTR Value N_50n
SYMATTR Value2 l=50n w=500n
SYMBOL pmos4 1024 -224 M270
WINDOW 0 56 32 Invisible 0
WINDOW 3 56 72 Invisible 0
WINDOW 123 -35 136 VLeft 0
SYMATTR InstName M11
SYMATTR Value P_50n
SYMATTR Value2 l=500n w=2.5u
SYMBOL pmos4 720 -624 R180
WINDOW 0 56 32 Invisible 0
WINDOW 3 56 72 Invisible 0
WINDOW 123 57 16 Left 0
SYMATTR InstName M12
SYMATTR Value P_50n
SYMATTR Value2 l=500n w=500n
SYMBOL nmos4 1056 -528 R90
WINDOW 0 56 32 Invisible 0
WINDOW 3 56 72 Invisible 0
WINDOW 123 129 -41 VRight 0
SYMATTR InstName M13
SYMATTR Value N_50n
SYMATTR Value2 l=500n w=25u
SYMBOL nmos4 1232 -528 R90
WINDOW 0 56 32 Invisible 0
WINDOW 3 56 72 Invisible 0
WINDOW 123 129 -41 VRight 0
SYMATTR InstName M14
SYMATTR Value N_50n
SYMATTR Value2 l=500n w=25u
SYMBOL pmos4 1392 -624 M180
WINDOW 0 56 32 Invisible 0
WINDOW 3 56 72 Invisible 0
SYMATTR InstName M15
SYMATTR Value P_50n
SYMATTR Value2 l=50n w=10u
SYMBOL pmos4 1728 -624 R180
WINDOW 0 56 32 Invisible 0
WINDOW 3 56 72 Invisible 0
SYMATTR InstName M16
SYMATTR Value P_50n
SYMATTR Value2 l=50n w=10u
SYMBOL pmos4 1488 -496 R180
WINDOW 0 56 32 Invisible 0
WINDOW 3 56 72 Invisible 0
SYMATTR InstName M17
SYMATTR Value P_50n
SYMATTR Value2 l=50n w=10u
SYMBOL pmos4 1632 -496 M180
WINDOW 0 56 32 Invisible 0
WINDOW 3 56 72 Invisible 0
SYMATTR InstName M18
SYMATTR Value P_50n
SYMATTR Value2 l=50n w=10u
SYMBOL pmos4 1488 -368 R180
WINDOW 0 56 32 Invisible 0
WINDOW 3 56 72 Invisible 0
SYMATTR InstName M19
SYMATTR Value P_50n
SYMATTR Value2 l=50n w=10u
SYMBOL pmos4 1632 -368 M180
WINDOW 0 56 32 Invisible 0
WINDOW 3 56 72 Invisible 0
SYMATTR InstName M20
SYMATTR Value P_50n
SYMATTR Value2 l=50n w=10u
SYMBOL nmos4 1632 -288 R0
WINDOW 0 56 32 Invisible 0
WINDOW 3 56 72 Invisible 0
SYMATTR InstName M21
SYMATTR Value N_50n
SYMATTR Value2 l=50n w=5u
SYMBOL nmos4 1488 -288 M0
WINDOW 0 56 32 Invisible 0
WINDOW 3 56 72 Invisible 0
SYMATTR InstName M22
SYMATTR Value N_50n
SYMATTR Value2 l=50n w=5u
SYMBOL nmos4 1328 -288 R0
WINDOW 0 56 32 Invisible 0
WINDOW 3 56 72 Invisible 0
SYMATTR InstName M23
SYMATTR Value N_50n
SYMATTR Value2 l=50n w=5u
SYMBOL nmos4 1792 -288 M0
WINDOW 0 56 32 Invisible 0
WINDOW 3 56 72 Invisible 0
SYMATTR InstName M24
SYMATTR Value N_50n
SYMATTR Value2 l=50n w=5u
SYMBOL NOR_2 800 64 R0
SYMATTR InstName U1
SYMBOL NOR_2 800 320 R0
SYMATTR InstName U2
SYMBOL voltage 336 -464 R180
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
WINDOW 3 40 53 Left 0
SYMATTR Value 20m
SYMATTR InstName Vos
TEXT 40 48 Left 0 !.lib cmosedu_models.txt
TEXT 392 8 Left 0 !.tran 0 1500n 0 uic
TEXT 1016 -760 Left 0 ;Plot vbuck vbucki Qi
TEXT 1384 -104 Left 0 ;Note the widths in the comparator were \nincreased to by 10 for higher gain.
TEXT 1368 304 Left 0 ;Output
