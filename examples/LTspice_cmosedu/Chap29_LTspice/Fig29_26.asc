Version 4
SHEET 1 3500 932
WIRE 1920 -640 1776 -640
WIRE 2032 -640 1920 -640
WIRE 1776 -608 1776 -640
WIRE 672 -592 640 -592
WIRE 1152 -592 672 -592
WIRE 1296 -592 1152 -592
WIRE 1648 -592 1616 -592
WIRE 1728 -592 1648 -592
WIRE 640 -560 640 -592
WIRE 1296 -560 1248 -560
WIRE 1616 -560 1616 -592
WIRE 1568 -544 1472 -544
WIRE 992 -528 864 -528
WIRE 1296 -528 992 -528
WIRE 1776 -512 1776 -528
WIRE 1568 -496 1552 -496
WIRE 640 -448 640 -480
WIRE 864 -432 864 -528
WIRE 864 -400 864 -432
WIRE 1152 -352 1152 -592
WIRE 1552 -352 1552 -496
WIRE 2032 -352 2032 -640
WIRE 2352 -320 2352 -368
WIRE 2384 -320 2384 -368
WIRE 2416 -320 2416 -368
WIRE 2448 -320 2448 -368
WIRE 2480 -320 2480 -368
WIRE 2512 -320 2512 -368
WIRE 2544 -320 2544 -368
WIRE 2576 -320 2576 -368
WIRE 992 -304 992 -528
WIRE 640 -288 640 -320
WIRE 864 -256 864 -320
WIRE 1360 -256 1312 -256
WIRE 1392 -256 1360 -256
WIRE 640 -176 640 -208
WIRE 1120 -128 1120 -160
WIRE 1152 -128 1152 -160
WIRE 1184 -128 1184 -160
WIRE 1216 -128 1216 -160
WIRE 1488 -128 1488 -160
WIRE 1520 -128 1520 -160
WIRE 1552 -128 1552 -160
WIRE 1584 -128 1584 -160
WIRE 2000 -128 2000 -160
WIRE 2032 -128 2032 -160
WIRE 2064 -128 2064 -160
WIRE 2096 -128 2096 -160
WIRE 1024 -32 976 -32
WIRE 1088 -32 1072 -32
WIRE 1104 -32 1088 -32
FLAG 640 -448 0
FLAG 672 -592 Vin
FLAG 992 -272 VDD
FLAG 1360 -256 VDD
FLAG 992 -240 0
FLAG 1248 -560 0
FLAG 1616 -480 0
FLAG 1120 -128 D4
FLAG 1152 -128 D5
FLAG 1184 -128 D6
FLAG 1216 -128 D7
FLAG 1584 -128 D4
FLAG 1552 -128 D5
FLAG 1520 -128 D6
FLAG 1488 -128 D7
FLAG 1712 -240 VDD
FLAG 1712 -272 0
FLAG 1776 -432 0
FLAG 1728 -544 0
FLAG 1872 -272 VDD
FLAG 1872 -240 0
FLAG 2000 -128 D0
FLAG 2032 -128 D1
FLAG 2064 -128 D2
FLAG 2096 -128 D3
FLAG 2304 -240 VDD
FLAG 2304 -208 0
FLAG 2192 -256 VDD
FLAG 2624 -224 VDD
FLAG 2464 -128 Vout
FLAG 1040 -48 VDD
FLAG 976 -32 clk
FLAG 864 -256 0
FLAG 864 -432 clk
FLAG 1872 -304 clkb
FLAG 640 -176 0
FLAG 640 -320 VDD
FLAG 1088 -32 clkb
FLAG 2640 -480 VDD
FLAG 2288 -480 clk
FLAG 2352 -592 D0
FLAG 2384 -592 D1
FLAG 2416 -592 D2
FLAG 2448 -592 D3
FLAG 2480 -592 D4
FLAG 2512 -592 D5
FLAG 2544 -592 D6
FLAG 2576 -592 D7
FLAG 1648 -592 residue
FLAG 1920 -640 residue_amplified
SYMBOL voltage 1776 -528 R0
WINDOW 0 41 73 Left 0
WINDOW 3 46 40 Left 0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName VCM
SYMATTR Value 2.5
SYMBOL voltage 640 -576 R0
WINDOW 0 36 42 Left 0
WINDOW 3 -73 165 Left 0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName Vin1
SYMATTR Value SINE(2.5 2 2MEG)
SYMBOL Ideal_4_bit_ADC 1008 -336 R90
SYMATTR InstName X1
SYMBOL SpecialFunctions\\sample 1376 -560 R0
WINDOW 3 -28 112 Left 0
SYMATTR Value REF=2.5
SYMATTR InstName A1
SYMBOL e 1616 -576 R0
WINDOW 0 42 40 Left 0
WINDOW 3 45 74 Left 0
SYMATTR InstName E1
SYMATTR Value 1
SYMBOL Ideal_4_bit_DAC 1696 -176 R270
SYMATTR InstName X3
SYMBOL e 1776 -624 R0
WINDOW 0 38 39 Left 0
WINDOW 3 42 76 Left 0
SYMATTR InstName E2
SYMATTR Value 16
SYMBOL Ideal_4_bit_ADC 1888 -336 R90
SYMATTR InstName X4
SYMBOL Ideal_8_bit_DAC 2320 -304 R90
SYMATTR InstName X5
SYMBOL inverter 1024 -32 R0
SYMATTR InstName X6
SYMBOL voltage 864 -416 R0
WINDOW 0 36 42 Left 0
WINDOW 3 -85 257 VLeft 0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName Vb1
SYMATTR Value PULSE(0 5 5n 100p 100p 4.9n 10n)
SYMBOL voltage 640 -304 R0
WINDOW 0 36 42 Left 0
WINDOW 3 44 15 Left 0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName VDD
SYMATTR Value 5
SYMBOL 8_bit_register 2320 -560 R90
SYMATTR InstName X2
TEXT 752 -88 Left 0 !.tran 0 1u 0 .1n uic
TEXT 752 -120 Left 0 !.options plotwinsize=0
TEXT 1808 -432 Left 0 ;Level shift back \nup between 0 \nand VDD.
TEXT 1168 -400 Left 0 ;ADC has a S/H on\nits input.
TEXT 2024 -40 Left 0 ;Note the offset of (VREF/2^N/2)/2 (or 1/2 of the 4-bit LSB).\nHere this is 5/16 or 156 mV. This offset comes from shifting\nthe ADC transfer curve by 1/2 LSB so that we center the \nquantization error, see Fig. 28.20. We don't want this shift in \na two-step converter, see version 3 of this schematic.
