Version 4
SHEET 1 880 680
WIRE -2048 -1056 -2080 -1056
WIRE -1760 -1056 -2048 -1056
WIRE -1456 -1056 -1680 -1056
WIRE -2080 -1008 -2080 -1056
WIRE -1456 -1008 -1456 -1056
WIRE -1456 -944 -1456 -976
WIRE -1456 -928 -1456 -944
WIRE -2080 -880 -2080 -928
WIRE -1616 -848 -1936 -848
WIRE -1536 -848 -1584 -848
WIRE -1504 -848 -1536 -848
WIRE -1456 -816 -1456 -832
WIRE -1456 -768 -1456 -816
WIRE -1936 -688 -1936 -848
WIRE -1456 -688 -1456 -736
WIRE -1936 -576 -1936 -608
WIRE -1456 -576 -1456 -608
FLAG -2080 -880 0
FLAG -1536 -848 4
FLAG -1456 -944 3
FLAG -1456 -576 0
FLAG -1936 -576 0
FLAG -1456 -816 5
FLAG -2048 -1056 1
SYMBOL voltage -2080 -1024 R0
WINDOW 123 0 0 Left 0
WINDOW 39 36 74 Left 0
WINDOW 3 38 47 Left 0
SYMATTR Value 12
SYMATTR InstName V1
SYMBOL voltage -1936 -704 R0
WINDOW 123 0 0 Left 0
WINDOW 39 34 76 Left 0
WINDOW 3 36 46 Left 0
SYMATTR SpiceLine Rser=10
SYMATTR Value PULSE(0 10 01u 20n 20n 25u 50u)
SYMATTR InstName V2
SYMBOL voltage_0 -1456 -1024 R0
SYMATTR InstName V3
SYMBOL voltage_0 -1632 -848 R270
WINDOW 0 16 32 VTop 0
SYMATTR InstName V4
SYMBOL voltage_0 -1456 -720 M180
SYMATTR InstName V5
SYMBOL res -1472 -704 R0
SYMATTR InstName R1
SYMATTR Value 10
SYMBOL res -1776 -1040 R270
WINDOW 0 32 56 VTop 0
WINDOW 3 0 56 VBottom 0
SYMATTR InstName R2
SYMATTR Value 10
SYMBOL nmos -1504 -928 R0
SYMATTR InstName M1
SYMATTR Value IRF3711
SYMATTR Prefix X
TEXT -2114 -1174 Left 0 !.tran 0 100u 0 5n
TEXT -1048 -2128 Left 0 !.SUBCKT irf3711 1 2 3\n**************************************\n*      Model Generated by MODPEX     *\n*Copyright(c) Symmetry Design Systems*\n*         All Rights Reserved        *\n*    UNPUBLISHED LICENSED SOFTWARE   *\n*   Contains Proprietary Information *\n*      Which is The Property of      *\n*     SYMMETRY OR ITS LICENSORS      *\n*Commercial Use or Resale Restricted *\n*   by Symmetry License Agreement    *\n**************************************\n* Model generated on Aug  3, 01\n* MODEL FORMAT: SPICE3\n* Symmetry POWER MOS Model (Version 1.0)\n* External Node Designations\n* Node 1 -> Drain\n* Node 2 -> Gate\n* Node 3 -> Source\nM1 9 7 8 8 MM L=100u W=100u\n.MODEL MM NMOS LEVEL=1 IS=1e-32\n+VTO=1.7499 LAMBDA=0.0359899 KP=123.389\n+CGSO=2.66519e-05 CGDO=1e-11\nRS 8 3 0.005\nD1 3 1 MD\n.MODEL MD D IS=1.30055e-09 RS=0.00281702 N=1.28544 BV=20\n+IBV=0.00025 EG=1 XTI=3.27535 TT=0.0001\n+CJO=4.81728e-09 VJ=0.649441 M=0.458342 FC=0.5\nRDS 3 1 1e+06\nRD 9 1 9e-07\nRG 2 7 2.35743\nD2 4 5 MD1\n* Default values used in MD1:\n*   RS=0 EG=1.11 XTI=3.0 TT=0\n*   BV=infinite IBV=1mA\n.MODEL MD1 D IS=1e-32 N=50\n+CJO=1.84178e-09 VJ=0.754019 M=0.771731 FC=1e-08\nD3 0 5 MD2\n* Default values used in MD2:\n*   EG=1.11 XTI=3.0 TT=0 CJO=0\n*   BV=infinite IBV=1mA\n.MODEL MD2 D IS=1e-10 N=0.4 RS=3e-06\nRL 5 10 1\nFI2 7 9 VFI2 -1\nVFI2 4 0 0\nEV16 10 0 9 7 1\nCAP 11 10 2.31869e-09\nFI1 7 9 VFI1 -1\nVFI1 11 6 0\nRCAP 6 10 1\nD4 0 6 MD3\n* Default values used in MD3:\n*   EG=1.11 XTI=3.0 TT=0 CJO=0\n*   RS=0 BV=infinite IBV=1mA\n.MODEL MD3 D IS=1e-10 N=0.4\n.ENDS irf3711
TEXT -2112 -2056 Left 0 ;Using The MEASURE Command With Subcircuit Voltages And Currents\n \nUse the same names for current as you can use in the waveform viewer, e.g. Ix(M1:D)\n \n.meas TRAN pwrfetx INTEG (V(3)*Ix(M1:1)+V(4)*Ix(M1:2)+V(5)*Ix(M1:3))/100u\n \n \nDisplay Power in the Waveform Window:\nPress the Alt-key and move the cursor over the component. The cursor will change\nto a thermometer icon. Left-click the mouse and you will get the power plotted.\nPlotted quantity: V(3)*Ix(M1:D)+V(4)*Ix(M1:G)+V(5)*Ix(M1:S)\nMove the cursor over this plot label in the waveform window. Press the Alt-key \nand the left mouse button. The energy and the power will be displayed in a small box.\n \n-----\nAdditionally voltage sources with 0V can be also used for current mesurement.\nThe sources have to be placed in a way that the current is flowing\ntowards the subcircuit's pins. You can easily check this in the schematic\nwindow. Just move the cursor over the voltage sources and you will \nget the direction visualized with a red arrow. I have made a mini version\nof the normal voltage source for this application. \nThis method adds addional nodes to the circuit with the drawback of\na bigger circuit matrix.\n.meas TRAN pwrfetx1 INTEG (V(3)*I(V3)+V(4)*I(V4)+V(5)*I(V5))/100u
TEXT -2112 -1248 Left 0 !* Alternative method with additional V-sources\n.meas pwrfetx1 INTEG (V(3)*I(V3)+V(4)*I(V4)+V(5)*I(V5))/100u
TEXT -2120 -1144 Left 0 !.options plotwinsize=0
TEXT -2112 -1304 Left 0 !.meas pwrfetx INTEG (V(3)*Ix(M1:D)+V(4)*Ix(M1:G)+V(5)*Ix(M1:S))/100u
TEXT -1352 -1032 Left 0 ;Optional V-sources\nadded for current\nmeasurement
TEXT -1848 -1144 Left 0 ;-> Switch off data compression
TEXT -2112 -1344 Left 0 !.options gmin 1e-11
TEXT -2112 -2152 Left 0 ;USE THE ALTERNATE SOLVER WITH THIS EXAMPLE! \nControl Panel -> SPICE  Solver: Alternate
LINE Normal -1648 -1040 -1392 -1040
LINE Normal -1648 -704 -1648 -1040
LINE Normal -1392 -704 -1648 -704
LINE Normal -1392 -784 -1392 -704
LINE Normal -1568 -784 -1392 -784
LINE Normal -1568 -960 -1568 -784
LINE Normal -1392 -960 -1568 -960
LINE Normal -1392 -1040 -1392 -960
LINE Normal -1488 -976 -1488 -1008
LINE Normal -1488 -976 -1488 -976
LINE Normal -1488 -976 -1488 -976
LINE Normal -1495 -986 -1488 -976
LINE Normal -1481 -986 -1488 -976
LINE Normal -1488 -736 -1488 -768
LINE Normal -1488 -736 -1488 -736
LINE Normal -1488 -736 -1488 -736
LINE Normal -1584 -816 -1616 -816
LINE Normal -1596 -810 -1584 -816
LINE Normal -1596 -810 -1596 -810
LINE Normal -1584 -816 -1584 -816
LINE Normal -1584 -816 -1584 -816
LINE Normal -1596 -823 -1584 -816
LINE Normal -1481 -756 -1488 -768
LINE Normal -1495 -756 -1488 -768
