Version 4
SHEET 1 1200 680
WIRE 16 -80 16 -112
WIRE 16 32 16 0
WIRE 16 160 16 112
WIRE 16 272 16 240
WIRE 16 368 16 336
WIRE 16 480 16 448
WIRE 64 112 16 112
WIRE 64 336 16 336
WIRE 80 -112 16 -112
WIRE 112 112 64 112
WIRE 272 -80 272 -112
WIRE 272 32 272 0
WIRE 272 112 192 112
WIRE 272 176 272 112
WIRE 272 272 272 240
WIRE 336 -112 272 -112
WIRE 496 368 496 336
WIRE 496 480 496 448
WIRE 544 -80 544 -112
WIRE 544 32 544 0
WIRE 544 336 496 336
WIRE 608 -112 544 -112
WIRE 816 -80 816 -112
WIRE 816 32 816 0
WIRE 880 -112 816 -112
FLAG 16 272 0
FLAG 64 336 1
FLAG 16 480 0
FLAG 544 336 2
FLAG 496 480 0
FLAG 272 272 0
FLAG 64 112 s
FLAG 272 112 c
FLAG 16 32 0
FLAG 544 32 0
FLAG 80 -112 Js
FLAG 608 -112 Jc
FLAG 272 32 0
FLAG 336 -112 Jr
FLAG 816 32 0
FLAG 880 -112 Jsum
SYMBOL bv 16 144 R0
SYMATTR InstName B1
SYMATTR Value V=59*(1-exp(V(1)))
SYMBOL voltage 16 352 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V1
SYMATTR Value PULSE(0 1 3m 1u 2m 1p 500m)
SYMBOL voltage 496 352 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V2
SYMATTR Value PULSE(13.5 0 300m 1u 1p 200m 500m)
SYMBOL res 96 128 R270
WINDOW 0 32 56 VTop 0
WINDOW 3 0 56 VBottom 0
SYMATTR InstName Rs
SYMATTR Value 50
SYMBOL cap 256 176 R0
SYMATTR InstName C1
SYMATTR Value {CL}
SYMBOL bv 16 -96 R0
SYMATTR InstName B2
SYMATTR Value V=idt(V(s)*I(Rs))
SYMBOL bv 544 -96 R0
SYMATTR InstName B3
SYMATTR Value V=0.5*V(c)*V(c)*{CL}
SYMBOL bv 272 -96 R0
SYMATTR InstName B4
SYMATTR Value V=idt(V(s,c)*I(Rs))
SYMBOL bv 816 -96 R0
SYMATTR InstName B5
SYMATTR Value V=V(Jr)+V(Jc)
TEXT 8 -240 Left 0 !.tran 0 10m 0 .1u
TEXT 8 -208 Left 0 !.optons plotwinsize=0
TEXT 8 -272 Left 0 !.param CL 10u
TEXT 736 -200 Left 0 ;Js = Jsum = Jr + Jc
TEXT 520 -160 Left 0 ;energy of C1
TEXT 264 -152 Left 0 ;energy of Rs
TEXT 8 -152 Left 0 ;Energy from B1
TEXT 744 -160 Left 0 ;sum of energies should be equal to Js
TEXT 8 -384 Left 0 ;This simulation shows the energy in Rs and C1 over time.\nenergy = idt(power(t)) \nidt() is integal()
