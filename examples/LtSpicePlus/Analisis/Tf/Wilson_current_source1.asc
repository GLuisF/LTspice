Version 4
SHEET 1 1708 740
WIRE -16 -176 -128 -176
WIRE 208 -176 96 -176
WIRE 240 -176 208 -176
WIRE 464 -176 352 -176
WIRE 688 -176 576 -176
WIRE 720 -176 688 -176
WIRE -128 -144 -128 -176
WIRE 96 -144 96 -176
WIRE 352 -144 352 -176
WIRE 576 -144 576 -176
WIRE -16 -80 -16 -176
WIRE 464 -80 464 -176
WIRE -128 -32 -128 -64
WIRE 96 -32 96 -64
WIRE 352 -32 352 -64
WIRE 576 -32 576 -64
WIRE 208 32 208 -176
WIRE 688 32 688 -176
WIRE -16 80 -16 0
WIRE 144 80 -16 80
WIRE 464 80 464 0
WIRE 624 80 464 80
WIRE 208 176 208 128
WIRE 208 176 96 176
WIRE 688 176 688 128
WIRE 688 176 576 176
WIRE -16 256 -16 80
WIRE 208 256 208 176
WIRE 464 256 464 80
WIRE 688 256 688 176
WIRE 96 304 96 176
WIRE 96 304 48 304
WIRE 144 304 96 304
WIRE 576 304 576 176
WIRE 576 304 528 304
WIRE 624 304 576 304
WIRE -16 400 -16 352
WIRE 208 400 208 352
WIRE 464 400 464 352
WIRE 688 400 688 352
FLAG -16 400 0
FLAG 208 400 0
FLAG -128 -32 0
FLAG 96 -32 0
FLAG 464 400 0
FLAG 688 400 0
FLAG 352 -32 0
FLAG 240 -176 Q3
FLAG 576 -32 0
FLAG 720 -176 Q13
SYMBOL npn 48 256 M0
SYMATTR InstName Q1
SYMATTR Value 2N3904
SYMBOL npn 144 256 R0
SYMATTR InstName Q2
SYMATTR Value 2N3904
SYMBOL npn 144 32 R0
SYMATTR InstName Q3
SYMATTR Value 2N3904
SYMBOL current -16 -80 R0
SYMATTR InstName I1
SYMATTR Value 1m
SYMBOL voltage -128 -160 R0
SYMATTR InstName V1
SYMATTR Value 9
SYMBOL voltage 96 -160 R0
WINDOW 123 36 81 Left 0
WINDOW 39 0 0 Left 0
SYMATTR Value2 AC 1
SYMATTR InstName V3
SYMATTR Value 9
SYMBOL npn 528 256 M0
SYMATTR InstName Q11
SYMATTR Value Q2N3904
SYMBOL npn 624 256 R0
SYMATTR InstName Q12
SYMATTR Value Q2N3904
SYMBOL npn 624 32 R0
SYMATTR InstName Q13
SYMATTR Value Q2N3904
SYMBOL current 464 -80 R0
SYMATTR InstName I2
SYMATTR Value 1m
SYMBOL voltage 352 -160 R0
SYMATTR InstName V11
SYMATTR Value 9
SYMBOL voltage 576 -160 R0
WINDOW 123 36 81 Left 0
WINDOW 39 0 0 Left 0
SYMATTR Value2 AC 1
SYMATTR InstName V13
SYMATTR Value 9
TEXT 816 -232 Left 0 !.op
TEXT 456 464 Left 0 !* Model from PSPICE demo 10.5\n \n.model Q2N3904  NPN(Is=6.734f Xti=3 Eg=1.11 Vaf=74.03 \n+ Bf=416.4 Ne=1.259 Ise=6.734f Ikf=66.78m Xtb=1.5 \n+ Br=.7371 Nc=2 Isc=0 Ikr=0 Rc=1 \n+ Cjc=3.638p Mjc=.3085 Vjc=.75 Fc=.5 Cje=4.493p \n+ Mje=.2593 Vje=.75 \n+ Tr=239.5n Tf=301.2p Itf=.4 Vtf=4 Xtf=2 Rb=10)\n*                               National        pid=23                          case=TO92\n*                               88-09-08 bam    creation
TEXT 840 136 Left 0 ;.ac list 1\n.measure AC Ic3 FIND Ic(Q3) at 1\n.measure AC Rout3 param 1/Ic3\n.measure AC Ic13 FIND Ic(Q13) at 1\n.measure AC Rout13 param 1/Ic13
TEXT 840 24 Left 0 ;Alternative Method with .AC\nView -> SPICE Error Log \nto get the calculated value for Rout
TEXT -48 -240 Left 0 ;Rout3 = 15.8 MegOhm
TEXT 424 -232 Left 0 ;Rout13 = 6.7 MegOhm
TEXT -136 480 Left 0 ;* Model from LTspice in standard.bjt\n \n.model 2N3904 NPN(IS=1E-14 VAF=100\n+  Bf=300 IKF=0.4 XTB=1.5 BR=4\n+  CJC=4E-12  CJE=8E-12 RB=20 RC=0.1 RE=0.1\n+  TR=250E-9  TF=350E-12 ITF=1 VTF=2 XTF=3)\n* Vceo=40 Icrating=200m mfg=Philips)
TEXT -120 -320 Left 0 ;Output Impedance of Wilson Current Source
TEXT 840 -120 Left 0 ;.tf V(Q13) V13
TEXT 840 -160 Left 0 !.tf V(Q3) V3
TEXT 760 -280 Left 0 ;Either use .tf or .ac to get the output impedance.
RECTANGLE Normal 1248 272 816 0
RECTANGLE Normal 1248 -80 816 -192
