Version 4
SHEET 1 2772 3156
WIRE 16 -32 -160 -32
WIRE 80 -32 16 -32
WIRE 448 -32 80 -32
WIRE 1152 -32 448 -32
WIRE 1744 -32 1152 -32
WIRE -160 -16 -160 -32
WIRE 448 0 448 -32
WIRE 1152 0 1152 -32
WIRE 1744 0 1744 -32
WIRE -160 80 -160 64
WIRE 80 128 80 -32
WIRE 128 128 80 128
WIRE 544 128 384 128
WIRE 848 128 768 128
WIRE 1200 128 1104 128
WIRE 1600 144 1600 112
WIRE -16 160 -160 160
WIRE -160 176 -160 160
WIRE 1568 176 1488 176
WIRE 1744 176 1744 80
WIRE 1744 176 1648 176
WIRE 1792 176 1744 176
WIRE -16 192 -16 160
WIRE 128 192 -16 192
WIRE 448 192 448 80
WIRE 448 192 384 192
WIRE 544 192 448 192
WIRE 848 192 768 192
WIRE 1152 192 1152 80
WIRE 1152 192 1104 192
WIRE 1200 192 1152 192
WIRE 1568 208 1488 208
WIRE 1792 208 1648 208
WIRE 128 256 32 256
WIRE 432 256 384 256
WIRE 848 256 768 256
WIRE 1152 256 1104 256
WIRE -160 272 -160 256
WIRE 1584 272 1584 240
WIRE 1600 272 1600 240
WIRE 1600 272 1584 272
WIRE 1152 288 1152 256
WIRE 1616 288 1616 240
WIRE 128 320 80 320
WIRE 432 320 432 256
WIRE 432 320 384 320
WIRE 848 320 800 320
WIRE 1152 320 1104 320
WIRE 1584 320 1584 272
WIRE -16 352 -160 352
WIRE 32 352 32 256
WIRE 32 352 -16 352
WIRE 80 352 80 320
WIRE 432 352 432 320
WIRE -160 368 -160 352
WIRE 800 400 800 320
WIRE 1152 400 1152 320
WIRE 1152 400 800 400
WIRE 1184 400 1152 400
WIRE 800 448 800 400
WIRE -160 464 -160 448
WIRE 800 544 800 528
FLAG 16 -32 +5V
FLAG 80 352 0
FLAG 432 352 0
FLAG -160 272 0
FLAG -160 464 0
FLAG -16 160 in+
FLAG -16 352 in-
FLAG 544 128 _out
FLAG 544 192 out
FLAG -160 80 0
FLAG 768 128 +5V
FLAG 768 192 in+
FLAG 768 256 in-
FLAG 1200 128 _out1
FLAG 1200 192 out1
FLAG 1184 400 -5v
FLAG 800 544 0
FLAG 1152 288 0
FLAG 1600 112 +5V
FLAG 1488 208 in+
FLAG 1488 176 in-
FLAG 1792 176 out2
FLAG 1792 208 _out2
FLAG 1584 320 -5v
FLAG 1616 288 0
SYMBOL voltage -160 160 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V1
SYMATTR Value SINE(1 1 1e6)
SYMBOL voltage -160 -32 R0
SYMATTR InstName V2
SYMATTR Value 5
SYMBOL Comparators\\LT1671 256 224 R0
SYMATTR InstName U1
SYMBOL voltage -160 352 R0
SYMATTR InstName V3
SYMATTR Value 1
SYMBOL res 432 -16 R0
SYMATTR InstName R1
SYMATTR Value 470
SYMBOL voltage 800 432 R0
SYMATTR InstName V4
SYMATTR Value -5
SYMBOL LT1671x 976 224 R0
SYMATTR InstName U2
SYMBOL res 1136 -16 R0
SYMATTR InstName R2
SYMATTR Value 470
SYMBOL res 1728 -16 R0
SYMATTR InstName R3
SYMATTR Value 470
SYMBOL LT1671y 1600 192 R0
SYMATTR InstName U3
TEXT -168 -120 Left 0 !.tran 10u
TEXT 32 -232 Left 0 ;1. The output voltage should rise to 5V with a pullup resistor, shouldn't it?\nI left it as it is.\n2. The ouput is not referenced to the GND-pin in the original model.\nI have fixed this reference problem with a small modification -> LT1671x.sub.\nKeep the model file in the directory of your schematic.
TEXT 1520 24 Left 0 ;Symbol LT1671y
TEXT 896 40 Left 0 ;Symbol LT1671x
TEXT 1048 -88 Left 0 ;Both symbols use the model file LT1671x.sub
TEXT 48 624 Left 0 ;* Original section in "ltc.lib"\n \n.subckt LT1671 .....\n...\n* supply characteristic\nEGND 401 0 200 400 0.5\nRGND 400 0 1000000000\nIVDD 200 400 DC 0.00045\nIVSS 400 300 DC 7.5e-5\nFA1 51 0 VOUT1 -1\nFA2 51 0 VOUT2 -1\nDAP 200 51 DPC\nRGV 52 53 9.7531\nEGV 51 52 POLY(1) 200 400 -0.8 1.0\nDAN 53 400 DPC
TEXT 704 624 Left 0 ;*Modified section in "LT1671x.sub"\n \n.subckt LT1671x .....\n...\n* supply characteristic\nEGND 401 400 200 400 0.5\nRGND 400 0 1000000000\nIVDD 200 400 DC 0.00045\nIVSS 400 300 DC 7.5e-5\nFA1 51 400 VOUT1 -1\nFA2 51 400 VOUT2 -1\nDAP 200 51 DPC\nRGV 52 53 9.7531\nEGV 51 52 POLY(1) 200 400 -0.8 1.0\nDAN 53 400 DPC
