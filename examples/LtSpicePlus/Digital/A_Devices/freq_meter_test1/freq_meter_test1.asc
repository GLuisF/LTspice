Version 4
SHEET 1 1532 680
WIRE 352 -464 208 -464
WIRE 512 -464 352 -464
WIRE 560 -464 512 -464
WIRE 208 -448 208 -464
WIRE 352 -448 352 -464
WIRE 512 -448 512 -464
WIRE 208 -352 208 -368
WIRE 352 -352 352 -384
WIRE 512 -352 512 -368
WIRE 304 -192 208 -192
WIRE -96 -176 -192 -176
WIRE 96 -176 64 -176
WIRE 512 -144 480 -144
WIRE -352 -128 -400 -128
WIRE -96 -128 -112 -128
WIRE 96 -128 80 -128
WIRE 304 -128 272 -128
WIRE -64 0 -288 0
WIRE 208 32 208 -192
WIRE 208 32 64 32
WIRE 528 32 208 32
WIRE 640 32 528 32
WIRE -64 48 -64 0
WIRE 528 64 528 32
WIRE 480 80 448 80
WIRE 64 96 64 32
WIRE -288 112 -288 0
WIRE -256 112 -288 112
WIRE -32 112 -96 112
WIRE 16 112 -32 112
WIRE 640 112 640 32
WIRE -864 128 -976 128
WIRE -768 128 -864 128
WIRE 208 128 208 32
WIRE 368 128 336 128
WIRE 480 128 432 128
WIRE -976 160 -976 128
WIRE -528 160 -624 160
WIRE -400 160 -528 160
WIRE -304 160 -336 160
WIRE -256 160 -304 160
WIRE -64 160 -64 48
WIRE -64 160 -80 160
WIRE -400 192 -432 192
WIRE -432 240 -432 192
WIRE 16 240 16 160
WIRE 64 240 64 176
WIRE 208 240 208 192
WIRE 528 240 528 144
WIRE 640 240 640 192
WIRE -976 288 -976 240
FLAG 208 240 0
FLAG 64 240 0
FLAG 16 240 0
FLAG 528 240 0
FLAG -432 240 0
FLAG 448 80 0
FLAG -32 112 qf2
FLAG -976 288 0
FLAG 640 240 0
FLAG -64 48 qf2b
FLAG 272 -128 qf2b
FLAG 336 128 qf2b
FLAG -304 160 fc2
FLAG -400 -128 qf2
FLAG 512 -352 0
FLAG 208 -352 0
FLAG 512 -144 pf2
FLAG 560 -464 freq
IOPIN 560 -464 Out
FLAG -112 -128 qf2
FLAG 96 -176 qf2en
FLAG 352 -352 0
FLAG -528 160 ftest
FLAG -864 128 vmod
SYMBOL sw 528 48 R0
SYMATTR InstName S1
SYMATTR Value SW1
SYMBOL g 64 80 R0
SYMATTR InstName G1
SYMATTR Value 1m
SYMBOL cap 192 128 R0
SYMATTR InstName C1
SYMATTR Value {1m*VMAX/FMAX}
SYMBOL Digital\\dflop -176 64 R0
WINDOW 3 -109 171 Left 0
SYMATTR Value ref=0.5 td={2m/FMAX}
SYMATTR InstName A1
SYMATTR Value2 tripdt={0.3*2m/FMAX}
SYMBOL Digital\\diffschmitt -400 112 R0
WINDOW 3 -12 114 Invisible 0
SYMATTR Value vt=0 vh=1m
SYMATTR InstName A2
SYMBOL SpecialFunctions\\modulate -768 128 R0
WINDOW 3 -13 134 Left 0
SYMATTR Value space=1e6 mark=2e6
SYMATTR InstName A3
SYMBOL voltage -976 144 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V1
SYMATTR Value PWL(0 0 10m 1)
SYMBOL res 624 96 R0
SYMATTR InstName R1
SYMATTR Value 10g
SYMBOL SpecialFunctions\\sample 384 -160 R0
WINDOW 3 -64 -52 Left 0
SYMATTR Value vt=0.1
SYMATTR InstName A4
SYMBOL Digital\\dflop -272 -224 R0
WINDOW 3 -96 171 Left 0
SYMATTR Value ref=0.5 td={20m/FMAX}
SYMATTR InstName A5
SYMBOL bi2 208 -448 R0
WINDOW 3 -194 139 Left 0
SYMATTR Value I=if(V(qf2en)>0.5, 1/(V(pf2)+1m/VMAX)*1m, FMIN/FMAX*VMAX*1m)
SYMATTR InstName B1
SYMBOL res 496 -464 R0
SYMATTR InstName R3
SYMATTR Value 1k
SYMBOL Digital\\dflop -16 -224 R0
WINDOW 3 -68 171 Left 0
SYMATTR Value ref=0.5 td={20m/FMAX}
SYMATTR InstName A6
SYMBOL Digital\\buf1 368 64 R0
WINDOW 3 -15 107 Left 0
SYMATTR Value td={2m/FMAX}
SYMATTR InstName A7
SYMBOL cap 336 -448 R0
SYMATTR InstName C2
SYMATTR Value {2m/FMAX}
TEXT 168 288 Left 0 !.model sw1 sw(Vt=0.5 Ron=1 Roff=1G)
TEXT -968 -512 Left 0 !.tran 0 10m 0 .1u
TEXT -448 -528 Left 0 !.param FMAX=2e6\n.param VMAX=2\n.param FMIN=1e6
TEXT -968 -480 Left 0 !.options plotwinsize=0
TEXT -968 -448 Left 0 !.options reltol=0.0001
TEXT -208 -528 Left 0 ;Frequency Meter\n \nV(freq) = frequency/FMAX*VMAX\nV/freq) = FMIN/FMAX*VMAX @t=0
TEXT -960 -384 Left 0 ;Plot V(freq)/1V*1MegHz
RECTANGLE Normal 784 352 -480 -560 2
