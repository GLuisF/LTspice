* subtype
.PARAM BC856=0
.PARAM BC856A=1
.PARAM BC856B=2

* subcircuit type
*.PARAM BJT_SOT23_BEBR_PHI
*.PARAM BJT_SOT23_BEBR_INF

* source of model
* include in toplevel scematic
*.INC ModelSource.def

.SUBCKT BC856 1 2 3 PARAMS: QMODEL={PHI}
Q1 1 2 3 {QMODEL*10+BC856}
.ENDS BC856
.SUBCKT BC856_BEBR_P 1 2 3 PARAMS: QMODEL={PHI} DMODEL={2}
X1 1 2 3 PNP_SOT23_BEBR_PHI QMODEL={QMODEL*10+BC856} DMODEL={DMODEL}
.ENDS BC856_BEBR_P

.SUBCKT BC856A 1 2 3 PARAMS: QMODEL={PHI}
Q1 1 2 3 {QMODEL*10+BC856A}
.ENDS BC856A
.SUBCKT BC856A_BEBR_P 1 2 3 PARAMS: QMODEL={PHI} DMODEL={2}
X1 1 2 3 PNP_SOT23_BEBR_PHI QMODEL={QMODEL*10+BC856A} DMODEL={DMODEL}
.ENDS BC856A_BEBR_P

.SUBCKT BC856B 1 2 3 PARAMS: QMODEL={PHI}
Q1 1 2 3 {QMODEL*10+BC856B}
.ENDS BC856B
.SUBCKT BC856B_BEBR_P 1 2 3 PARAMS: QMODEL={PHI} DMODEL={2}
X1 1 2 3 PNP_SOT23_BEBR_PHI QMODEL={QMODEL*10+BC856B} DMODEL={DMODEL}
.ENDS BC856B_BEBR_P

* Transistors
* 10...19 Philips
.MODEL 10 ako:BC856_PHI
.MODEL 11 ako:BC856A_PHI
.MODEL 12 ako:BC856B_PHI
.MODEL BC856_PHI    PNP(IS=2.014E-14 NF=0.9974 ISE=6.578E-15 NE=1.45  BF=315.3 IKF=0.079 VAF=39.15 NR=0.9952 ISC=1.633E-14 NC=1.15 BR=8.68  IKR=0.09  VAR=9.5  RB=10  IRB=5E-06   RBM=5E-06 RE=0.663 RC=0.718 XTB=0 EG=1.11 XTI=3 CJE=1.135E-11 VJE=0.7071 MJE=0.3808 TF=6.546E-10 XTF=5.387 VTF=6.245 ITF=0.2108 PTF=0 CJC=6.395E-12 VJC=0.4951 MJC=0.44   XCJC=0.6288 TR=5.5E-08 CJS=0 VJS=0.75 MJS=0.333 FC=0.9059)
.MODEL BC856A_PHI   PNP(IS=1.731E-14 NF=1.001  ISE=1.349E-16 NE=1.15  BF=201.9 IKF=0.12  VAF=78    NR=1.002  ISC=4.264E-18 NC=1.15 BR=6.608 IKR=0.045 VAR=12.1 RB=150 IRB=4.5E-05 RBM=0.1   RE=0.7   RC=0.53  XTB=0 EG=1.11 XTI=3 CJE=1.27E-11  VJE=0.7408 MJE=0.3839 TF=8E-10     XTF=5     VTF=5     ITF=0.1    PTF=0 CJC=6.05E-12  VJC=0.7186 MJC=0.4775 XCJC=1      TR=9E-08   CJS=0 VJS=0.75 MJS=0.333 FC=0.85)
* PSPICE: .MODEL BC856A_PHI  PNP(IS=1.17E-14  NF=0.9972 ISE=1.762E-14 NE=1.661 BF=161.3 IKF=0.15  VAF=59.62 NR=0.9967 ISC=1.506E-13 NC=1.32 BR=6.78  IKR=0.048 VAR=15.4 RB=10  IRB=5E-06   RBM=5     RE=0.689 RC=0.61  XTB=0 EG=1.11 XTI=3 CJE=1.325E-11 VJE=0.8514 MJE=0.3999 TF=8.333E-10 XTF=2.41  VTF=6.262 ITF=0.097  PTF=0 CJC=6.396E-12 VJC=0.2182 MJC=0.333  XCJC=0.6288 TR=7E-08   CJS=0 VJS=0.75 MJS=0.333 FC=0.8981) 
.MODEL BC856B_PHI   PNP(IS=2.014E-14 NF=0.9974 ISE=6.578E-15 NE=1.45  BF=315.3 IKF=0.079 VAF=39.15 NR=0.9952 ISC=1.633E-14 NC=1.15 BR=8.68  IKR=0.09  VAR=9.5  RB=10  IRB=5E-06   RBM=5E-06 RE=0.663 RC=0.718 XTB=0 EG=1.11 XTI=3 CJE=1.135E-11 VJE=0.7071 MJE=0.3808 TF=6.546E-10 XTF=5.387 VTF=6.245 ITF=0.2108 PTF=0 CJC=6.395E-12 VJC=0.4951 MJC=0.44   XCJC=0.6288 TR=5.5E-08 CJS=0 VJS=0.75 MJS=0.333 FC=0.9059)
* 20...29 Diodes Inc.
*.MODEL 20 ako:BC856_DIO not available
 .MODEL 21 ako:BC856A_DIO
*.MODEL 21 ako:BC856AW_DIO
 .MODEL 22 ako:BC856B_DIO
*.MODEL 22 ako:BC856BW_DIO
.MODEL BC856A_DIO   PNP(IS=10.2f     NF=1.00 BF=342   VAF=145  IKF=72.9m ISE=5.59p NE=2.00 BR=4.00 NR=1.00 VAR=20.0 IKR=0.180 RE=0.715 RB=2.86 RC=0.286 XTB=1.5 CJE=13.3p VJE=1.10 MJE=0.500 CJC=8.67p VJC=0.300 MJC=0.300 TF=581p TR=97.8n EG=1.12)
.MODEL BC856AW_DIO  PNP(IS=10.2f     NF=1.00 BF=342   VAF=145  IKF=72.9m ISE=5.59p NE=2.00 BR=4.00 NR=1.00 VAR=20.0 IKR=0.180 RE=0.715 RB=2.86 RC=0.286 XTB=1.5 CJE=13.3p VJE=1.10 MJE=0.500 CJC=7.80p VJC=0.300 MJC=0.300 TF=581p TR=97.8n EG=1.12)
.MODEL BC856B_DIO   PNP(IS=3.90f     NF=1.00 BF=408   VAF=161  IKF=91.1m ISE=3.25p NE=2.00 BR=4.00 NR=1.00 VAR=20.0 IKR=0.225 RE=0.782 RB=3.13 RC=0.313 XTB=1.5 CJE=26.8p VJE=1.10 MJE=0.500 CJC=8.67p VJC=0.300 MJC=0.300 TF=548p TR=94.5n EG=1.12)
.MODEL BC856BW_DIO  PNP(IS=3.90f     NF=1.00 BF=408   VAF=161  IKF=91.1m ISE=3.25p NE=2.00 BR=4.00 NR=1.00 VAR=20.0 IKR=0.225 RE=0.782 RB=3.13 RC=0.313 XTB=1.5 CJE=26.8p VJE=1.10 MJE=0.500 CJC=8.67p VJC=0.300 MJC=0.300 TF=548p TR=94.5n EG=1.12)
* 30...39 Infineon
.MODEL 30 ako:BC856_INF
*.MODEL 31 ako:BC856A_INF not available
*.MODEL 32 ako:BC856B_INF not available
*.MODEL 33 ako:BC856C_INF not available
.MODEL BC856_INF   PNP(IS=28.000F NF=1.000 BF=284.436 VAF=43.000 IKF=0.380 ISE=24.903F NE=2.234 NR=1.005 BR=4.800 VAR=6.960 IKR=0.932 ISC=0.125P NC=2.074 RB=2.200 IRB=0.100M RBM=1.500 RE=0.300 RC=2.251 CJE=11.800P VJE=1.000 MJE=0.435 FC=0.750 CJC=8.700P VJC=0.900 MJC=0.600 XCJC=0.650 TF=0.600N TR=2.604N PTF=1.000 XTF=6.500 VTF=2.000 ITF=0.314 XTB=1.600 EG=1.110 XTI=3.300 KF=5.000F AF=1.000)
* PSPICE: .model BC856A_INF PNP(Is=336.7f           Bf=180.6   Vaf=106.8  Ikf=.1094 Ise=2.666p  Ne=1.944          Br=7.16            Ikr=9.677 Isc=196p   Nc=1.815                                        Rc=2.791 Cje=8.397p  Vje=.5    Mje=.3865 Fc=.5    Cjc=11.51p Vjc=.5    Mjc=.3626            Tf=605.1p Tr=10n              Xtf=20.43 Vtf=10    Itf=2.326 Xtb=1.5   Eg=1.11  Xti=3                        Nk=.4986)
* PSPICE: .model BC856B_INF PNP(Is=336.7f           Bf=277.7   Vaf=62.37  Ikf=.1686 Ise=1.966p  Ne=2.123          Br=7.16            Ikr=9.677 Isc=196p   Nc=1.815                                        Rc=2.891 Cje=8.397p  Vje=.5    Mje=.3865 Fc=.5    Cjc=11.51p Vjc=.5    Mjc=.3626            Tf=605.9p Tr=10n              Xtf=23.02 Vtf=10    Itf=2.133 Xtb=1.5   Eg=1.11  Xti=3                        Nk=.545)
* 40...49 ON Semiconductors
* not available
* 50...59 Zetex
*.MODEL 50 ako:BC856_ZTX not available
 .MODEL 51 ako:BC856A_ZTX
*.MODEL 52 ako:BC856B_ZTX not available
.MODEL BC856A_ZTX  PNP(IS=1.149E-14 ISE=5E-14 NF=.9872 NE=1.4 BF=330 BR=13 IKF=.1 IKR=.012 ISC=1.43E-14 NC=1.1 NR=.996 RB=.2 RE=.4 RC=.95 VAR=8.15 VAF=84.56 CJE=16E-12 TF=.493E-9 CJC=10.5E-12 TR=73.55E-9 MJC=.415 VJC=.565)

* Z-Diodes for BE breakdown
* 1...9 D for V(BR)EB0
.MODEL 1 ako:VBREB0_PHI
.MODEL 2 ako:VBREB0_MYPHI
.MODEL 3 ako:VBREB0_HEL
* Philips
.MODEL VBREB0_PHI   D(IS=2.593E-14 N=1.296 BV=1000 IBV=0.001 RS=100 CJO=0 VJ=1 M=0.5 FC=0 TT=0 XTI=2 EG=1.11 XTI=2)
* modified Philips
.MODEL VBREB0_MYPHI D(IS=2.593E-14 N=1.296 BV=5 IBV=0.001 RS=100 CJO=0 VJ=1 M=0.5 FC=0 TT=0 XTI=2 EG=1.11 XTI=2)
* Helmut Sennewald (Choose IS of the diode a factor of 10^-10 lower than IS of the transistor.)
.MODEL VBREB0_HEL   D(Is=2e-24 BV=5 IBV=1m RS=20)

* general subcircuit
.LIB PackagedSpecial.sub

