Version 4
SHEET 1 980 1528
WIRE -1200 832 -1200 688
WIRE -1200 912 -1200 832
WIRE -1200 1072 -1200 992
WIRE -1200 1184 -1200 1152
WIRE -1136 592 -1168 592
WIRE -1136 688 -1200 688
WIRE -1136 832 -1200 832
WIRE -1024 512 -1072 512
WIRE -1024 592 -1056 592
WIRE -1024 592 -1024 512
WIRE -1024 688 -1056 688
WIRE -1024 688 -1024 592
WIRE -896 752 -928 752
WIRE -896 832 -1056 832
WIRE -896 832 -896 752
WIRE -848 832 -896 832
WIRE -816 560 -848 560
WIRE -816 656 -848 656
WIRE -720 560 -752 560
WIRE -720 656 -752 656
WIRE -720 656 -720 560
WIRE -720 704 -720 656
WIRE -720 832 -784 832
WIRE -720 832 -720 784
WIRE -720 864 -720 832
WIRE -720 960 -720 928
WIRE -688 656 -720 656
WIRE -608 656 -624 656
WIRE -608 832 -720 832
WIRE -544 784 -544 768
WIRE -544 896 -544 880
WIRE -544 992 -544 896
WIRE -544 1024 -544 992
WIRE -544 1136 -544 1104
WIRE -544 1168 -544 1136
WIRE -544 1280 -544 1248
WIRE -528 560 -720 560
WIRE -480 992 -544 992
WIRE -480 1136 -544 1136
WIRE -416 560 -448 560
WIRE -416 560 -416 464
WIRE -416 672 -416 656
WIRE -416 768 -544 768
WIRE -416 768 -416 736
WIRE -416 800 -416 768
WIRE -416 896 -544 896
WIRE -416 896 -416 864
WIRE -400 992 -416 992
WIRE -400 1136 -416 1136
WIRE -384 464 -416 464
WIRE -352 768 -416 768
WIRE -288 464 -320 464
WIRE -240 768 -272 768
WIRE -208 560 -416 560
WIRE -208 576 -208 560
WIRE -208 656 -208 640
WIRE -112 560 -208 560
WIRE -112 624 -112 560
WIRE -112 768 -160 768
WIRE -112 768 -112 704
WIRE -112 800 -112 768
WIRE -112 896 -112 864
WIRE -64 560 -112 560
WIRE -32 768 -112 768
WIRE 48 560 16 560
WIRE 80 464 48 464
WIRE 80 768 32 768
WIRE 80 816 80 768
WIRE 80 944 80 896
WIRE 112 768 80 768
WIRE 176 464 144 464
WIRE 176 560 128 560
WIRE 176 560 176 464
WIRE 208 560 176 560
WIRE 336 560 288 560
WIRE 336 592 336 560
WIRE 336 704 336 672
FLAG -544 1280 0
FLAG -400 992 0
FLAG -400 1136 0
FLAG 80 944 0
FLAG -1200 1184 0
FLAG -848 560 0
FLAG -848 656 0
FLAG -288 464 0
FLAG 48 464 0
FLAG 336 704 0
FLAG -928 752 in
IOPIN -928 752 In
FLAG 112 768 out
IOPIN 112 768 Out
FLAG -1072 512 ref
IOPIN -1072 512 In
FLAG -112 896 0
FLAG -416 656 0
FLAG -720 960 0
FLAG -608 656 0
FLAG -208 656 0
FLAG -1168 592 0
SYMBOL npn -608 784 R0
SYMATTR InstName Q1
SYMATTR Value BFG425W
SYMATTR Prefix X
SYMBOL ind -560 1008 R0
SYMATTR InstName Le1
SYMATTR Value 1n
SYMBOL cap -480 1008 R270
WINDOW 0 32 32 VTop 0
WINDOW 3 0 32 VBottom 0
SYMATTR InstName Ce1
SYMATTR Value 0.2p
SYMBOL cap -416 1120 R90
WINDOW 0 0 32 VBottom 0
WINDOW 3 32 32 VTop 0
SYMATTR InstName Ce2
SYMATTR Value 0.5p
SYMBOL ind -560 1152 R0
SYMATTR InstName Le2
SYMATTR Value 0.3n
SYMBOL ind -736 688 R0
SYMATTR InstName L1
SYMATTR Value 22n
SYMATTR SpiceLine Cpar=0.2p
SYMBOL res -544 576 R270
WINDOW 0 32 56 VTop 0
WINDOW 3 0 56 VBottom 0
SYMATTR InstName R1
SYMATTR Value 8.2k
SYMBOL cap -816 672 R270
WINDOW 0 32 32 VTop 0
WINDOW 3 0 32 VBottom 0
SYMATTR InstName C2
SYMATTR Value 27p
SYMATTR SpiceLine Lser={LS}
SYMBOL res 192 576 R270
WINDOW 0 32 56 VTop 0
WINDOW 3 0 56 VBottom 0
SYMATTR InstName R4
SYMATTR Value 150
SYMBOL cap -816 576 R270
WINDOW 0 32 32 VTop 0
WINDOW 3 0 32 VBottom 0
SYMATTR InstName C6
SYMATTR Value 100n
SYMATTR SpiceLine Lser={LS}
SYMBOL cap -384 480 R270
WINDOW 0 32 32 VTop 0
WINDOW 3 0 32 VBottom 0
SYMATTR InstName C3
SYMATTR Value 27p
SYMATTR SpiceLine Lser={LS}
SYMBOL res -80 576 R270
WINDOW 0 32 56 VTop 0
WINDOW 3 0 56 VBottom 0
SYMATTR InstName R3
SYMATTR Value 22
SYMBOL cap 80 480 R270
WINDOW 0 32 32 VTop 0
WINDOW 3 0 32 VBottom 0
SYMATTR InstName C4
SYMATTR Value 100n
SYMATTR SpiceLine Lser={LS}
SYMBOL cap -848 848 R270
WINDOW 0 32 32 VTop 0
WINDOW 3 0 32 VBottom 0
SYMATTR InstName C1
SYMATTR Value 8.2p
SYMATTR SpiceLine Lser={LS}
SYMBOL res -1152 848 R270
WINDOW 0 32 56 VTop 0
WINDOW 3 0 56 VBottom 0
SYMATTR InstName RG
SYMATTR Value 50
SYMBOL voltage -1200 896 R0
WINDOW 123 24 132 Left 0
WINDOW 39 0 0 Left 0
SYMATTR Value2 AC 2
SYMATTR InstName V1
SYMATTR Value SINE(0 40m 900e6)
SYMBOL res -368 784 R270
WINDOW 0 32 56 VTop 0
WINDOW 3 0 56 VBottom 0
SYMATTR InstName R2
SYMATTR Value 10
SYMBOL ind -128 608 R0
SYMATTR InstName L2
SYMATTR Value 12n
SYMBOL cap -432 800 R0
SYMATTR InstName C7
SYMATTR Value 3.3p
SYMATTR SpiceLine Lser={LS}
SYMBOL cap -32 784 R270
WINDOW 0 32 32 VTop 0
WINDOW 3 0 32 VBottom 0
SYMATTR InstName C5
SYMATTR Value 22p
SYMATTR SpiceLine Lser={LS}
SYMBOL res 64 800 R0
WINDOW 123 36 104 Left 0
SYMATTR InstName RL
SYMATTR Value 50
SYMATTR Value2 noiseless
SYMBOL voltage 336 576 R0
SYMATTR InstName Vsup
SYMATTR Value 3.7V
SYMBOL cap -128 800 R0
SYMATTR InstName Cs5
SYMATTR Value 0.5p
SYMBOL cap -432 672 R0
SYMATTR InstName Cs7
SYMATTR Value 0.5p
SYMBOL cap -736 864 R0
SYMATTR InstName Cs1
SYMATTR Value 0.5p
SYMBOL ind -256 784 R270
WINDOW 0 32 56 VTop 0
WINDOW 3 5 56 VBottom 0
SYMATTR InstName Ls2
SYMATTR Value 2n
SYMBOL ind 32 576 R270
WINDOW 0 32 56 VTop 0
WINDOW 3 5 56 VBottom 0
SYMATTR InstName Ls3
SYMATTR Value 2n
SYMBOL cap -688 672 R270
WINDOW 0 32 32 VTop 0
WINDOW 3 0 32 VBottom 0
SYMATTR InstName Cs2
SYMATTR Value 0.5p
SYMBOL cap -224 576 R0
SYMATTR InstName Cs3
SYMATTR Value 0.5p
SYMBOL voltage -1200 1056 R0
WINDOW 123 24 132 Left 0
WINDOW 39 0 0 Left 0
SYMATTR Value2 AC 0
SYMATTR InstName V3
SYMATTR Value SINE(0 40m 905e6)
SYMBOL res -1152 704 R270
WINDOW 0 32 56 VTop 0
WINDOW 3 0 56 VBottom 0
SYMATTR InstName R5
SYMATTR Value 50
SYMBOL res -1152 608 R270
WINDOW 0 32 56 VTop 0
WINDOW 3 0 56 VBottom 0
SYMATTR InstName R6
SYMATTR Value 50
TEXT 480 -112 Left 0 !* Filename:  BFG425W_SPICE.PRM\n.SUBCKT BFG425W 1 2 3 \nL1   2 5 1.1E-09\nL2   1 4 1.1E-09\nL3   3 6 0.25E-09\nCcb  4 5 2.0E-15\nCbe  5 6 80.0E-15\nCce  4 6 80.0E-15\nCbpb 5 7 1.45E-13 \nCbpc 4 8 1.45E-13 \nRsb1 6 7 25 \nRsb2 6 8 19 \nQ1 4 5 6 NPN1 \n.MODEL NPN1  NPN \n+ IS = 4.717E-17 \n+ BF = 145 \n+ NF = 0.9934 \n+ VAF = 31.12 \n+ IKF = 0.304 \n+ ISE = 3.002E-13 \n+ NE = 3 \n+ BR = 11.37 \n+ NR = 0.985 \n+ VAR = 1.874 \n+ IKR = 0.121 \n+ ISC = 4.848E-16 \n+ NC = 1.546 \n+ RB = 14.41\n+ IRB = 0 \n+ RBM = 6.175 \n+ RE = 0.1779 \n+ RC = 1.780\n+ CJE = 3.109E-13 \n+ VJE = 0.9 \n+ MJE = 0.3456 \n+ CJC = 1.377E-13 \n+ VJC = 0.5569 \n+ MJC = 0.2079 \n+ CJS = 6.675E-13 \n+ VJS = 0.4183 \n+ MJS = 0.2391 \n+ XCJC = 0.5 \n+ TR = 0.0 \n+ TF = 4.122E-12 \n+ XTF = 68.2 \n+ VTF = 2.004 \n+ ITF = 1.525 \n+ PTF = 0 \n+ FC = 0.5501 \n+ EG = 1.11 \n+ XTI = 3 \n+ XTB = 1.5 \n.ENDS
TEXT -1208 -120 Left 0 ;LNA 900MHZ
TEXT -744 -120 Left 0 ;Calculation of the Intercept Point IP3\n \nIP3 = P_dbm + dP/2\nIP3 = -8.5dB +  (-21.4dB -  -74.4dB)/2 = -8.5dB +26.5dB \nIP3 = +18dBm\n \nP_dbm  = output power at f1 or f2       They must be equal!\nP_dbM = 10*log10(84.5m*84.5m/50/1m) = -8.5dBm\n \ndP is the difference in dB in the FFT window    dP =P1_dB - P12_dB\nP1 is the dB reading of V(out) in the FFT window.\nP12_dB is the dB reading of V(out) at  f12=2*f1-f2 or  f21=2*f2-f1 whatever is greater.\n \nFFT setting:\nN=4194304  \nTime: 0..20.000us    must be multiple of 1/(f2-f1)\nWindow: Hann  \nBin.Smooth.: 1
TEXT -1224 288 Left 0 ;.ac dec 100 5e8 1.5e9
TEXT -1224 392 Left 0 !* Series inductance of all capacitors\n.param LS=2n
TEXT -1224 336 Left 0 !.OP
TEXT -1224 176 Left 0 !.tran 0 20.201u 0.2u 4.7683716p
TEXT -1224 216 Left 0 !.options plotwinsize=0
TEXT -1224 256 Left 0 ;.noise V(out) V1 dec 100 500e6 1.5e9
TEXT -1224 144 Left 0 !.SAVE V(out)  ; Minimze .raw file size
TEXT -288 1024 Left 0 ;All the capacitors <=1pF are only parasitics and not real parts!\nThe same applies to inductors <=2nH.
