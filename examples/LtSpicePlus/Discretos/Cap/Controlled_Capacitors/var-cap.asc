Version 4
SHEET 1 1464 680
WIRE 16 240 16 224
WIRE 16 400 16 320
WIRE 96 224 16 224
WIRE 96 256 96 224
WIRE 96 400 96 320
WIRE 144 224 96 224
WIRE 208 224 144 224
WIRE 208 288 208 224
WIRE 208 400 208 368
WIRE 240 224 208 224
WIRE 256 400 256 352
WIRE 368 208 304 208
WIRE 368 304 256 304
WIRE 368 304 368 208
WIRE 592 240 592 224
WIRE 592 400 592 320
WIRE 880 240 880 224
WIRE 880 400 880 320
WIRE 960 224 880 224
WIRE 960 256 960 224
WIRE 960 400 960 320
WIRE 1008 224 960 224
WIRE 1072 224 1008 224
WIRE 1072 288 1072 224
WIRE 1072 400 1072 368
WIRE 1104 224 1072 224
WIRE 1120 400 1120 352
WIRE 1232 208 1168 208
WIRE 1232 304 1120 304
WIRE 1232 304 1232 208
FLAG 208 400 0
FLAG 96 400 0
FLAG 16 400 0
FLAG 256 400 0
FLAG 144 224 ramp
FLAG 1072 400 0
FLAG 960 400 0
FLAG 880 400 0
FLAG 1120 400 0
FLAG 1008 224 ramp2
FLAG 592 400 0
FLAG 592 224 control
SYMBOL cap 80 256 R0
WINDOW 3 -21 187 Left 0
SYMATTR InstName C1
SYMATTR Value Q=x*(10u*time+1n)
SYMBOL Digital\\schmitt 240 160 R0
WINDOW 3 2 -6 Left 0
SYMATTR InstName A1
SYMATTR Value vt=2 vh=1 tripdt=10n td=100n
SYMBOL sw 208 384 R180
SYMATTR InstName S1
SYMBOL current 16 320 R180
WINDOW 0 24 88 Left 0
WINDOW 3 24 0 Left 0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName I1
SYMATTR Value 100µ
SYMBOL cap 944 256 R0
WINDOW 3 -21 187 Left 0
SYMATTR InstName C2
SYMATTR Value Q=x*1n*(v(control)+1)
SYMBOL Digital\\schmitt 1104 160 R0
WINDOW 3 2 -6 Left 0
SYMATTR InstName A2
SYMATTR Value vt=2 vh=1 tripdt=10n td=100n
SYMBOL sw 1072 384 R180
SYMATTR InstName S2
SYMBOL current 880 320 R180
WINDOW 0 24 88 Left 0
WINDOW 3 24 0 Left 0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName I2
SYMATTR Value 100µ
SYMBOL voltage 592 224 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V1
SYMATTR Value PWL(0 0 1m 10)
TEXT 56 472 Left 0 !.model sw sw(ron=100 roff=10meg vt=0.5 vh=-0.2)
TEXT 10 82 Left 0 !.tran 1m
