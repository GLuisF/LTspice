Version 4
SHEET 1 1832 792
WIRE 704 -240 576 -240
WIRE 816 -240 768 -240
WIRE 576 -192 576 -240
WIRE 640 -192 576 -192
WIRE 816 -192 816 -240
WIRE 816 -192 720 -192
WIRE -832 -144 -832 -176
WIRE -688 -144 -688 -176
WIRE 736 -96 736 -112
WIRE -336 -80 -496 -80
WIRE -64 -80 -240 -80
WIRE 96 -80 -64 -80
WIRE 528 -80 96 -80
WIRE 576 -80 576 -192
WIRE 576 -80 528 -80
WIRE 704 -80 576 -80
WIRE 96 -64 96 -80
WIRE 816 -64 816 -192
WIRE 816 -64 768 -64
WIRE 864 -64 816 -64
WIRE -832 -48 -832 -64
WIRE -752 -48 -832 -48
WIRE -688 -48 -688 -64
WIRE -608 -48 -688 -48
WIRE -496 -48 -496 -80
WIRE 704 -48 576 -48
WIRE -832 -32 -832 -48
WIRE -752 -32 -752 -48
WIRE -688 -32 -688 -48
WIRE -608 -32 -608 -48
WIRE 576 16 576 -48
WIRE 736 16 736 -32
WIRE 96 32 96 16
WIRE 176 32 96 32
WIRE 256 32 240 32
WIRE -496 48 -496 32
WIRE 96 48 96 32
WIRE -64 64 -64 -80
WIRE -832 80 -832 48
WIRE -688 80 -688 48
WIRE 96 144 96 128
WIRE 176 144 96 144
WIRE -240 176 -240 -80
WIRE 160 208 160 192
WIRE -336 224 -336 -80
WIRE -304 224 -336 224
WIRE -272 224 -304 224
WIRE -176 224 -192 224
WIRE 96 224 96 144
WIRE 128 224 96 224
WIRE -64 240 -64 128
WIRE -16 240 -64 240
WIRE 240 240 240 144
WIRE 240 240 192 240
WIRE 304 240 240 240
WIRE 416 240 384 240
WIRE 448 240 416 240
WIRE 576 240 576 96
WIRE 576 240 528 240
WIRE -16 256 -16 240
WIRE 128 256 96 256
WIRE 576 256 576 240
WIRE 160 288 160 272
WIRE 416 288 416 240
WIRE -640 304 -720 304
WIRE -576 304 -640 304
WIRE -496 304 -576 304
WIRE -448 304 -496 304
WIRE -288 304 -368 304
WIRE -176 304 -176 224
WIRE -176 304 -288 304
WIRE -64 320 -64 240
WIRE -720 336 -720 304
WIRE -640 336 -640 304
WIRE -576 336 -576 304
WIRE -496 336 -496 304
WIRE 96 352 96 256
WIRE 416 368 416 352
WIRE 576 368 576 336
WIRE 720 432 576 432
WIRE 816 432 784 432
WIRE 96 448 96 432
WIRE 160 448 96 448
WIRE 240 448 224 448
WIRE -720 464 -720 400
WIRE -640 464 -640 416
WIRE -640 464 -720 464
WIRE -576 464 -576 400
WIRE -576 464 -640 464
WIRE -496 464 -496 416
WIRE -496 464 -576 464
WIRE 96 464 96 448
WIRE 576 496 576 432
WIRE 608 496 576 496
WIRE 816 496 816 432
WIRE 816 496 688 496
WIRE -640 544 -640 464
WIRE 720 576 720 560
WIRE -240 592 -240 256
WIRE -64 592 -64 384
WIRE -64 592 -240 592
WIRE 96 592 96 544
WIRE 96 592 -64 592
WIRE 512 592 96 592
WIRE 576 592 576 496
WIRE 576 592 512 592
WIRE 688 592 576 592
WIRE 816 608 816 496
WIRE 816 608 752 608
WIRE 848 608 816 608
WIRE 688 624 560 624
WIRE -640 656 -640 624
WIRE 560 656 560 624
WIRE 720 688 720 640
WIRE 560 768 560 736
FLAG 864 -64 Vout1
IOPIN 864 -64 Out
FLAG 560 768 0
FLAG 848 608 Vout2
IOPIN 848 608 Out
FLAG -752 -32 0
FLAG -832 -176 +12V
FLAG -832 80 -12V
FLAG 736 -112 +12V
FLAG 720 560 +12V
FLAG 720 688 -12V
FLAG 736 16 -12V
FLAG -608 -32 0
FLAG -688 -176 +3V
FLAG -688 80 -3V
FLAG 160 288 -3V
FLAG 160 192 +3V
FLAG 416 368 0
FLAG 528 -80 Vd1
FLAG 512 592 Vd2
FLAG -16 256 0
FLAG -496 48 0
FLAG -304 224 pos
FLAG -288 304 vpd
FLAG 240 448 0
FLAG 256 32 0
FLAG -640 656 0
FLAG 576 368 0
SYMBOL diode -736 336 R0
SYMATTR InstName D1
SYMBOL voltage 576 0 R0
WINDOW 3 26 91 Left 0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR Value -2m
SYMATTR InstName Vos1
SYMBOL res 624 -176 R270
WINDOW 0 35 55 VTop 0
WINDOW 3 -32 59 VTop 0
SYMATTR InstName Rv1
SYMATTR Value 2Meg
SYMBOL res 592 512 R270
WINDOW 0 35 53 VTop 0
WINDOW 3 -30 44 VTop 0
SYMATTR InstName Rv2
SYMATTR Value 2Meg
SYMBOL voltage 560 640 R0
WINDOW 3 14 98 Left 0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR Value 2m
SYMATTR InstName Vos2
SYMBOL current -640 416 R180
WINDOW 0 24 88 Left 0
WINDOW 3 24 0 Left 0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName I1
SYMATTR Value 2µ
SYMBOL Opamps\\LT1464 736 -128 R0
SYMATTR InstName U1
SYMBOL Opamps\\LT1464 720 544 R0
SYMATTR InstName U2
SYMBOL voltage -832 -160 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V1
SYMATTR Value 12
SYMBOL voltage -832 -48 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V2
SYMATTR Value 12
SYMBOL cap 240 128 R90
WINDOW 0 0 32 VBottom 0
WINDOW 3 32 32 VTop 0
SYMATTR InstName C1
SYMATTR Value 1µ
SYMBOL voltage -688 -160 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V3
SYMATTR Value 12
SYMBOL voltage -688 -48 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V4
SYMATTR Value 12
SYMBOL res 400 224 R90
WINDOW 0 0 56 VBottom 0
WINDOW 3 32 56 VTop 0
SYMATTR InstName Roc1
SYMATTR Value 100k
SYMBOL cap 400 352 M180
WINDOW 0 24 64 Left 0
WINDOW 3 24 8 Left 0
SYMATTR InstName Coc1
SYMATTR Value 1µ
SYMBOL cap 704 -224 R270
WINDOW 0 24 -15 VTop 0
WINDOW 3 51 68 VBottom 0
SYMATTR InstName C3
SYMATTR Value 10p
SYMBOL cap 720 448 R270
WINDOW 0 40 31 VTop 0
WINDOW 3 3 35 VBottom 0
SYMATTR InstName C4
SYMATTR Value 10p
SYMBOL cap -560 400 R180
WINDOW 0 -2 55 Right 0
WINDOW 3 2 8 Right 0
SYMATTR InstName C5
SYMATTR Value 50p
SYMBOL res -480 432 R180
WINDOW 0 -1 32 Right 0
WINDOW 3 -11 -3 Right 0
SYMATTR InstName Rparallel
SYMATTR Value 1Meg
SYMBOL Opamps\\LTC2055 160 240 R0
SYMATTR InstName U4
SYMBOL cap -48 128 R180
WINDOW 0 -2 55 Right 0
WINDOW 3 2 8 Right 0
SYMATTR InstName C6
SYMATTR Value 25p
SYMBOL cap -48 384 R180
WINDOW 0 -2 55 Right 0
WINDOW 3 2 8 Right 0
SYMATTR InstName C7
SYMATTR Value 25p
SYMBOL res -464 320 R270
WINDOW 0 69 27 VTop 0
WINDOW 3 64 31 VBottom 0
SYMATTR InstName Rserial
SYMATTR Value 100
SYMBOL potentiometer_vc -256 160 R0
SYMATTR InstName PSD
SYMATTR Description Resistor Potentiometer with voltage control input
SYMBOL voltage -496 -64 R0
WINDOW 3 -76 -44 Left 0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR Value PULSE(0.1 0.9 100u 1u 1u 5m 10m)
SYMATTR InstName V7
SYMBOL res 80 32 R0
SYMATTR InstName R1b
SYMATTR Value 100k
SYMBOL res 80 448 R0
SYMATTR InstName R2b
SYMATTR Value 100k
SYMBOL res 80 336 R0
SYMATTR InstName R2
SYMATTR Value 100k
SYMBOL cap 160 464 R270
WINDOW 0 32 32 VTop 0
WINDOW 3 0 32 VBottom 0
SYMATTR InstName C2b
SYMATTR Value .01µ
SYMBOL cap 176 48 R270
WINDOW 0 32 32 VTop 0
WINDOW 3 0 32 VBottom 0
SYMATTR InstName C1b
SYMATTR Value .01µ
SYMBOL voltage -640 528 R0
SYMATTR InstName VBIAS
SYMATTR Value 0
SYMBOL res 80 -80 R0
SYMATTR InstName R1
SYMATTR Value 100k
SYMBOL res 560 240 R0
SYMATTR InstName Roc3
SYMATTR Value 1k
SYMBOL res 432 256 R270
WINDOW 0 32 56 VTop 0
WINDOW 3 0 56 VBottom 0
SYMATTR InstName Roc2
SYMATTR Value 100k
TEXT -752 408 VLeft 0 ;Iphoto
TEXT -328 344 Right 0 ;Iphoto + Ios
TEXT -72 -96 Right 0 ;Iphoto1
TEXT -72 576 Right 0 ;Iphoto2
TEXT -464 776 Left 0 !.tran 20m
TEXT -464 744 Left 0 !.op
TEXT -464 680 Left 0 !.include potentiometer_vc.sub
TEXT -464 712 Left 0 !.options  plotwinsize=0; data compression off
TEXT -440 -32 Left 0 ;control \nvoltage\n0..1V
TEXT -600 592 Left 0 ;optional extenal Vbias
TEXT -680 224 Left 0 ;PSD Model
TEXT -576 -376 Left 0 ;PSD (Position Sensitive Device)\n(Voltage controlled potentiometer used for the PSD model)\nUse reasonable rise/fall times for the position change.\nU4 compensates for any offset voltage of U1 and U2.\nThe loop filter attenuates the noise of U4.
TEXT 0 -144 Left 0 ;Maybe there is some noise striking back \nfrom U4. R1b,C1b, R2b,C2b can filter it.
TEXT 408 168 Left 0 ;loop filter
LINE Normal -384 192 -736 192
LINE Normal -384 128 -384 192
LINE Normal -112 128 -384 128
LINE Normal -112 384 -112 128
LINE Normal -304 384 -112 384
LINE Normal -304 496 -304 384
LINE Normal -800 496 -304 496
LINE Normal -800 192 -800 496
LINE Normal -736 192 -800 192
RECTANGLE Normal 656 400 288 144
