Version 4
SHEET 1 880 680
WIRE 32 304 32 272
WIRE 32 144 32 80
WIRE 32 80 144 80
WIRE 32 272 96 272
WIRE 32 272 32 224
WIRE 96 272 96 448
WIRE 96 448 192 448
WIRE 192 448 192 416
WIRE 192 336 192 272
WIRE 192 272 336 272
WIRE -112 352 -112 448
WIRE -112 448 96 448
WIRE -112 272 -112 32
WIRE -112 32 144 32
WIRE 336 272 352 272
FLAG 32 304 0
FLAG 144 80 Vsin
FLAG 144 32 Vsin1
FLAG 336 272 out
SYMBOL voltage 32 128 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V1
SYMATTR Value SINE(0 1 {freq} 0)
SYMBOL bv 192 320 R0
SYMATTR InstName B1
SYMATTR Value V=V(Vsin)*(V(Vsin1)>0)
SYMBOL voltage -112 256 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V2
SYMATTR Value SINE(0 1 {freq/(2*cycles)} 0)
TEXT 352 104 Left 0 !.tran 10
TEXT 352 136 Left 0 !.param freq=10
TEXT 360 168 Left 0 !.param cycles=3
