Version 4
SHEET 1 2104 1220
WIRE -80 272 -128 272
WIRE 32 240 32 160
WIRE 32 304 32 240
WIRE 32 416 32 384
WIRE 32 448 32 416
WIRE 32 464 32 448
WIRE 112 240 32 240
WIRE 112 272 0 272
WIRE 144 224 144 96
WIRE 144 416 32 416
WIRE 144 416 144 288
WIRE 176 160 32 160
WIRE 320 160 256 160
WIRE 320 256 176 256
WIRE 320 256 320 160
WIRE 320 320 320 256
WIRE 320 416 144 416
WIRE 320 416 320 400
WIRE 528 272 496 272
WIRE 528 880 496 880
WIRE 640 240 640 160
WIRE 640 304 640 240
WIRE 640 416 640 384
WIRE 640 448 640 416
WIRE 640 464 640 448
WIRE 640 848 640 768
WIRE 640 912 640 848
WIRE 640 1024 640 992
WIRE 640 1056 640 1024
WIRE 720 240 640 240
WIRE 720 272 608 272
WIRE 720 848 640 848
WIRE 720 880 608 880
WIRE 752 224 752 96
WIRE 752 416 640 416
WIRE 752 416 752 288
WIRE 752 576 752 544
WIRE 752 688 752 656
WIRE 752 832 752 688
WIRE 752 1024 640 1024
WIRE 752 1024 752 896
WIRE 784 160 640 160
WIRE 784 768 640 768
WIRE 928 160 864 160
WIRE 928 256 784 256
WIRE 928 256 928 160
WIRE 928 320 928 256
WIRE 928 416 752 416
WIRE 928 416 928 400
WIRE 928 864 784 864
WIRE 944 928 944 912
WIRE 976 688 752 688
WIRE 976 816 976 688
WIRE 976 1024 752 1024
WIRE 976 1024 976 912
WIRE 1120 272 1088 272
WIRE 1136 768 864 768
WIRE 1136 864 1024 864
WIRE 1136 864 1136 768
WIRE 1136 928 1136 864
WIRE 1136 1024 976 1024
WIRE 1136 1024 1136 1008
WIRE 1200 752 1200 720
WIRE 1200 896 1200 832
WIRE 1232 240 1232 160
WIRE 1232 304 1232 240
WIRE 1232 416 1232 384
WIRE 1232 448 1232 416
WIRE 1232 464 1232 448
WIRE 1312 240 1232 240
WIRE 1312 272 1200 272
WIRE 1344 224 1344 96
WIRE 1344 416 1232 416
WIRE 1344 416 1344 288
WIRE 1376 160 1232 160
WIRE 1520 160 1456 160
WIRE 1520 256 1376 256
WIRE 1520 256 1520 160
WIRE 1520 320 1520 256
WIRE 1520 416 1344 416
WIRE 1520 416 1520 400
WIRE 1520 752 1520 720
WIRE 1520 896 1520 832
FLAG 1200 896 0
FLAG 144 96 vdd
FLAG 1344 96 vdd
FLAG 32 448 0
FLAG 752 96 vdd
FLAG 1200 720 vdd
FLAG 1520 896 0
FLAG 1520 720 in
FLAG -128 272 in
FLAG 640 448 0
FLAG 1232 448 0
FLAG 496 272 in
FLAG 1088 272 in
FLAG 752 544 vdd
FLAG 640 1056 0
FLAG 496 880 in
FLAG 944 928 0
SYMBOL voltage 1200 736 R0
WINDOW 3 15 126 Left 0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR Value PWL(0 2 1 30)
SYMATTR InstName V1
SYMBOL res 272 144 R90
WINDOW 0 0 56 VBottom 0
WINDOW 3 32 56 VTop 0
SYMATTR InstName R2
SYMATTR Value 220k
SYMBOL res 16 400 M180
WINDOW 0 36 76 Left 0
WINDOW 3 36 40 Left 0
SYMATTR InstName R3
SYMATTR Value 470k
SYMBOL res 16 288 M270
WINDOW 0 32 56 VTop 0
WINDOW 3 0 56 VBottom 0
SYMATTR InstName R1
SYMATTR Value 150k
SYMBOL res 304 304 R0
SYMATTR InstName R4
SYMATTR Value {rload}
SYMBOL res 1472 144 R90
WINDOW 0 0 56 VBottom 0
WINDOW 3 32 56 VTop 0
SYMATTR InstName R200
SYMATTR Value 220k
SYMBOL res 1216 400 M180
WINDOW 0 36 76 Left 0
WINDOW 3 36 40 Left 0
SYMATTR InstName R300
SYMATTR Value 470k
SYMBOL res 1216 288 M270
WINDOW 0 32 56 VTop 0
WINDOW 3 0 56 VBottom 0
SYMATTR InstName R100
SYMATTR Value 150k
SYMBOL res 1504 304 R0
SYMATTR InstName R400
SYMATTR Value {rload}
SYMBOL res 880 144 R90
WINDOW 0 0 56 VBottom 0
WINDOW 3 32 56 VTop 0
SYMATTR InstName R20
SYMATTR Value 220k
SYMBOL res 624 400 M180
WINDOW 0 36 76 Left 0
WINDOW 3 36 40 Left 0
SYMATTR InstName R30
SYMATTR Value 470k
SYMBOL res 624 288 M270
WINDOW 0 32 56 VTop 0
WINDOW 3 0 56 VBottom 0
SYMATTR InstName R10
SYMATTR Value 150k
SYMBOL res 912 304 R0
SYMATTR InstName R40
SYMATTR Value {rload}
SYMBOL bv 1520 736 R0
WINDOW 3 -269 -5 Left 0
SYMATTR Value V=limit(0, (0.2*V(vdd)), 2)
SYMATTR InstName B2
SYMBOL res 880 752 R90
WINDOW 0 0 56 VBottom 0
WINDOW 3 32 56 VTop 0
SYMATTR InstName R20b
SYMATTR Value 220k
SYMBOL res 624 1008 M180
WINDOW 0 36 76 Left 0
WINDOW 3 36 40 Left 0
SYMATTR InstName R30b
SYMATTR Value 470k
SYMBOL res 624 896 M270
WINDOW 0 32 56 VTop 0
WINDOW 3 0 56 VBottom 0
SYMATTR InstName R10b
SYMATTR Value 150k
SYMBOL res 1120 912 R0
SYMATTR InstName R40b
SYMATTR Value {rload}
SYMBOL XOPPS 976 864 R0
WINDOW 3 9 94 Left 0
SYMATTR Value IQ=0.5m
SYMATTR InstName U_Xopps
SYMBOL res 736 560 R0
SYMATTR InstName R_ON1
SYMATTR Value 1
SYMBOL Var\\OPAMP5 144 192 R0
SYMATTR InstName U_NS
SYMATTR SpiceModel LM358/NS
SYMBOL Var\\OPAMP5 752 192 R0
SYMATTR InstName U_ON
SYMATTR SpiceModel LM358/MC
SYMBOL Var\\OPAMP5 1344 192 R0
SYMATTR InstName U_ST
SYMATTR SpiceModel LM158
SYMBOL Var\\OPAMP5 752 800 R0
SYMATTR InstName U_ON1
SYMATTR SpiceModel LM358/MC
TEXT 398 650 Left 0 !.tran 0 1.5 0 1m
TEXT 392 472 Left 0 ;.param rload = 1k
TEXT -176 648 Left 0 ;QUIESCENT CURRENT TEST,  LM358\nHelmut Sennewald    8/3/2004\n \nNone of the models has correct quiescent current.\nThe NATIONAL and ONSEMI part fail totally for Vdd < 1V.\nThe NATIONAL part has negative supply current for Vdd < 10V.\nThe ONSEMI and the ST part don't draw the load current from the supply.\nThe supply current of the ST part is far off for Vdd < 2.5V .\n \nChoose  R1 = R2*R3/(R2+R3)  for offset current compensation.\n \nThe ST parts needs a different symbol(XOPAMP_ST.ASY).
TEXT 1024 96 Left 0 ;ST(SGS-THOMPSON)\nSymbol  XOPAMP_ST.ASY\nVdd >2V
TEXT 448 96 Left 0 ;ONSEMI \nSymbol  XOPAMP.ASY\nVdd > 1V
TEXT -200 88 Left 0 ;NATIONAL SEMICONDUCTOR\nSymbol  XOPAMP.ASY\nVdd > 1V
TEXT 880 576 Left 0 ;Additional load current mirror\nONSEMI \nSymbol  XOPAMP.ASY + XOPPS.ASY\nVdd > 1V
TEXT 392 504 Left 0 !.param rload = 1G
