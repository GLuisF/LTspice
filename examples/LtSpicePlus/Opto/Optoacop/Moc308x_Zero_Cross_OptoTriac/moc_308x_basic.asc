Version 4
SHEET 1 1284 692
WIRE 512 -192 336 -192
WIRE 1008 -192 512 -192
WIRE 1136 -192 1008 -192
WIRE -816 -176 -816 -224
WIRE 1008 -176 1008 -192
WIRE 512 -144 512 -192
WIRE 1008 -144 1008 -176
WIRE -32 -80 -112 -80
WIRE 16 -80 -32 -80
WIRE 32 -80 16 -80
WIRE 224 -80 224 -112
WIRE -816 -64 -816 -96
WIRE -112 -64 -112 -80
WIRE -32 -64 -32 -80
WIRE 32 -64 32 -80
WIRE 512 -48 512 -80
WIRE 512 -48 416 -48
WIRE 912 -48 752 -48
WIRE 1008 -48 1008 -80
WIRE 1008 -48 912 -48
WIRE 416 -16 416 -48
WIRE 512 -16 512 -48
WIRE 912 -16 912 -48
WIRE 1008 -16 1008 -48
WIRE 752 0 752 -48
WIRE 704 16 672 16
WIRE -112 32 -112 16
WIRE -32 32 -32 0
WIRE -32 32 -112 32
WIRE 32 32 32 16
WIRE 32 32 -32 32
WIRE 224 32 224 -16
WIRE -112 48 -112 32
WIRE -816 64 -816 16
WIRE 512 64 512 -16
WIRE 1008 64 1008 -16
WIRE -816 96 -816 64
WIRE 416 112 416 64
WIRE 448 112 416 112
WIRE 752 112 752 80
WIRE 800 112 752 112
WIRE 912 112 912 64
WIRE 912 112 880 112
WIRE 944 112 912 112
WIRE 1136 144 1136 -192
WIRE -816 192 -816 176
WIRE 512 192 512 160
WIRE 512 192 400 192
WIRE 1008 192 1008 160
WIRE 1008 192 896 192
WIRE 416 256 416 112
WIRE 464 256 416 256
WIRE 512 256 464 256
WIRE 912 256 912 112
WIRE 960 256 912 256
WIRE 1008 256 960 256
WIRE 512 272 512 256
WIRE 1008 272 1008 256
WIRE -816 304 -816 256
WIRE -352 320 -512 320
WIRE -256 320 -352 320
WIRE -224 320 -256 320
WIRE 288 320 256 320
WIRE 400 320 400 192
WIRE 400 320 368 320
WIRE 448 320 400 320
WIRE 896 320 896 192
WIRE 944 320 896 320
WIRE -512 352 -512 320
WIRE -112 352 -112 336
WIRE -16 352 -112 352
WIRE 48 352 -16 352
WIRE -352 368 -352 320
WIRE -256 368 -256 320
WIRE -112 368 -112 352
WIRE -16 368 -16 352
WIRE 48 368 48 352
WIRE 400 368 400 320
WIRE 896 368 896 320
WIRE 512 400 512 368
WIRE 1008 400 1008 368
WIRE -816 416 -816 384
WIRE -512 464 -512 432
WIRE -352 464 -352 432
WIRE -352 464 -512 464
WIRE -256 464 -256 448
WIRE -256 464 -352 464
WIRE -208 464 -256 464
WIRE -112 464 -112 448
WIRE -16 464 -16 448
WIRE -16 464 -112 464
WIRE 48 464 48 432
WIRE 48 464 -16 464
WIRE 400 464 400 448
WIRE 400 464 304 464
WIRE 512 464 512 400
WIRE 512 464 400 464
WIRE 704 464 704 64
WIRE 704 464 512 464
WIRE 896 464 896 448
WIRE 896 464 704 464
WIRE 1008 464 1008 400
WIRE 1008 464 896 464
WIRE 1136 464 1136 224
WIRE 1136 464 1008 464
WIRE -816 544 -816 496
WIRE -816 576 -816 544
WIRE -816 672 -816 656
FLAG 512 192 vb1
FLAG 464 256 vb1p
FLAG 512 -16 vd1
FLAG 512 400 4
FLAG 224 -112 A
IOPIN 224 -112 In
FLAG 224 32 K
IOPIN 224 32 Out
FLAG -224 320 ctrl10
FLAG 1008 192 vb2p
FLAG 960 256 vb2
FLAG 1008 -16 vd2
FLAG 1008 400 4
FLAG 1008 -176 3
FLAG 672 16 ctrl1
FLAG 336 -192 Mt2
IOPIN 336 -192 In
FLAG 304 464 Mt1
IOPIN 304 464 In
FLAG 256 320 ctrl1
FLAG -208 464 4
FLAG -816 192 0
FLAG -816 64 4
FLAG -816 -224 3
FLAG -816 672 0
FLAG -816 544 2
FLAG -816 256 1
FLAG -112 336 ctrl1
FLAG -112 464 4
FLAG -112 48 0
FLAG 16 -80 34
SYMBOL npn 448 272 R0
SYMATTR InstName Q1
SYMATTR Value NPN1
SYMBOL pnp 448 160 M180
SYMATTR InstName Q2
SYMATTR Value PNP1
SYMBOL res 384 352 R0
SYMATTR InstName R3
SYMATTR Value {RH2}
SYMBOL diode 208 -80 R0
SYMATTR InstName D1
SYMATTR Value DL
SYMBOL res -272 352 R0
SYMATTR InstName R1
SYMATTR Value 1
SYMBOL cap -368 368 R0
SYMATTR InstName C1
SYMATTR Value 10µ
SYMBOL res 272 336 R270
WINDOW 0 32 56 VTop 0
WINDOW 3 0 56 VBottom 0
SYMATTR InstName R2
SYMATTR Value {RH1}
SYMBOL res 400 -32 R0
SYMATTR InstName R4
SYMATTR Value {RH3}
SYMBOL bi -512 352 R0
WINDOW 3 -16 132 Left 0
SYMATTR Value I=-500*I(D1)*3m/Itrig
SYMATTR InstName B1
SYMBOL res 880 352 R0
SYMATTR InstName R7
SYMATTR Value {RH3}
SYMBOL res 896 -32 R0
SYMATTR InstName R6
SYMATTR Value {RH2}
SYMBOL npn 944 160 M180
SYMATTR InstName Q3
SYMATTR Value NPN1
SYMBOL pnp 944 272 R0
SYMATTR InstName Q4
SYMATTR Value PNP1
SYMBOL diode 992 -80 M180
WINDOW 0 24 72 Left 0
WINDOW 3 24 0 Left 0
SYMATTR InstName D3
SYMATTR Value D1
SYMBOL diode 496 -144 R0
SYMATTR InstName D2
SYMATTR Value D1
SYMBOL res 784 128 R270
WINDOW 0 32 56 VTop 0
WINDOW 3 0 56 VBottom 0
SYMATTR InstName R5
SYMATTR Value {RH1}
SYMBOL e 752 -16 R0
SYMATTR InstName E1
SYMATTR Value -1
SYMBOL res 1120 128 R0
SYMATTR InstName R34
SYMATTR Value 100MEG
SYMBOL voltage -816 -80 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V1
SYMATTR Value SINE(0 400 50)
SYMBOL res -832 80 R0
SYMATTR InstName R8
SYMATTR Value 1
SYMBOL res -832 -192 R0
SYMATTR InstName R9
SYMATTR Value 10k
SYMBOL voltage -816 400 R0
WINDOW 3 65 232 Left 0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR Value PWL(0 0 1m 0 1.001m 5 1.1m 5 1.101m 0 2m 0 2.1m 5 10.1m 5 10.101m 0 20.04m 0 20.041m 5 20.2m 5 20.201m 0)
SYMATTR InstName V2
SYMBOL res -832 560 R0
SYMATTR InstName R10
SYMATTR Value 1
SYMBOL res -832 400 M180
WINDOW 0 36 76 Left 0
WINDOW 3 36 40 Left 0
SYMATTR InstName R11
SYMATTR Value 220
SYMBOL res -32 352 R0
SYMATTR InstName R12
SYMATTR Value 1
SYMBOL bi -112 368 R0
WINDOW 3 18 136 Left 0
SYMATTR Value V=IF(V(ctrl10)>1.45 & abs(V(34)) < 12, 2, 0)
SYMATTR InstName B2
SYMBOL cap 32 368 R0
SYMATTR InstName C2
SYMATTR Value 1µ
SYMBOL bi -112 -64 R0
WINDOW 3 28 121 Left 0
SYMATTR Value I=-V(Mt2,Mt1)/1000
SYMATTR InstName B3
SYMBOL res 16 -80 R0
SYMATTR InstName R13
SYMATTR Value 1k
SYMBOL cap -48 -64 R0
SYMATTR InstName C3
SYMATTR Value .1µ
TEXT -568 -136 Left 0 !* OPTO TRIAC\n* Helmut Sennewald  8/10/2004\n* MOC3081  I_trig=15mA\n*.SUBCKT MOC3081 A K MT2 MT1\n.PARAM Itrig=15m\n.PARAM RH1=20k\n.PARAM RH2=20k\n.PARAM RH3=16.7k\n*\n.MODEL PNP1 PNP(Is=1e-15 BF=10 Cjc=10p Cje=20p Tf=0.1u Ise=1e-12)\n.MODEL NPN1 NPN(Is=1e-15 BF=10 Cjc=10p Cje=20p Tf=0.1u Ise=1e-12)\n.MODEL D1 D(Is=0.1u Rs=2 Cj0=50p)\n.MODEL DL D(Is=1e-20 Rs=5)
TEXT -744 -288 Left 0 !.tran 40m
TEXT -112 -176 Left 0 ;zero cross switch
TEXT -168 -248 Left 0 ;MOC302x doesn't have this block,\ninstead ctrl10 is connected to ctrl1
RECTANGLE Normal 1280 576 -576 -288
RECTANGLE Normal 96 528 -160 -144 2
