Version 4
SHEET 1 2532 980
WIRE 1664 -192 1424 -192
WIRE 1664 -128 1664 -192
WIRE 1728 -128 1664 -128
WIRE -304 -32 -432 -32
WIRE -176 -32 -224 -32
WIRE -128 -32 -176 -32
WIRE 64 -32 -128 -32
WIRE 320 -32 192 -32
WIRE 464 -32 320 -32
WIRE 64 -16 64 -32
WIRE 192 -16 192 -32
WIRE -432 0 -432 -32
WIRE 1664 16 1664 -128
WIRE 1664 16 1600 16
WIRE 1712 16 1664 16
WIRE -176 32 -176 -32
WIRE 464 32 464 -32
WIRE 1712 80 1712 16
WIRE 64 96 64 64
WIRE 64 96 -64 96
WIRE 1600 96 1600 16
WIRE 64 128 64 96
WIRE 192 128 192 64
WIRE -432 144 -432 80
WIRE -176 144 -176 96
WIRE 304 192 256 192
WIRE 336 192 304 192
WIRE 464 192 464 96
WIRE 464 192 416 192
WIRE 512 192 464 192
WIRE 656 192 592 192
WIRE 768 192 656 192
WIRE 928 192 768 192
WIRE 992 192 928 192
WIRE 1040 192 992 192
WIRE 1152 192 1040 192
WIRE 1600 208 1600 160
WIRE 1712 208 1712 160
WIRE 1712 208 1600 208
WIRE 768 256 768 192
WIRE -64 272 -64 96
WIRE 0 272 -64 272
WIRE 416 272 256 272
WIRE 656 272 656 192
WIRE 656 272 496 272
WIRE 1712 272 1712 208
WIRE 928 288 928 192
WIRE 1152 288 1152 192
WIRE 1600 288 1600 208
WIRE 656 304 656 272
WIRE 1424 304 1424 -192
WIRE 1040 320 1040 192
WIRE 304 352 256 352
WIRE 368 352 304 352
WIRE 1600 400 1600 352
WIRE 1712 400 1712 352
WIRE 1712 400 1600 400
WIRE 368 416 368 352
WIRE 400 416 368 416
WIRE 656 416 656 368
WIRE 656 416 480 416
WIRE 768 416 768 336
WIRE 768 416 656 416
WIRE 1712 432 1712 400
WIRE 128 448 128 400
WIRE 768 480 768 416
WIRE 928 480 928 368
WIRE 1040 480 1040 384
WIRE 1152 480 1152 368
WIRE 1424 480 1424 384
WIRE 1712 560 1712 512
WIRE 768 624 768 560
FLAG 128 448 0
FLAG -432 144 0
FLAG 992 192 3V3
FLAG 1040 480 0
FLAG 768 624 0
FLAG 928 480 0
FLAG 1152 480 0
FLAG -176 144 0
FLAG -128 -32 vin
FLAG 320 -32 2
FLAG 304 352 4
FLAG 304 192 3
FLAG 1424 480 0
FLAG 1712 560 0
FLAG 1728 -128 Tj
IOPIN 1728 -128 Out
SYMBOL voltage -432 -16 R0
WINDOW 123 0 0 Left 0
WINDOW 39 20 128 Left 0
SYMATTR SpiceLine Rser=0.01
SYMATTR InstName V1
SYMATTR Value 12
SYMBOL ind 496 208 R270
WINDOW 0 32 56 VTop 0
WINDOW 3 5 56 VBottom 0
SYMATTR InstName L1
SYMATTR Value 33µ
SYMATTR SpiceLine Ipk=1.57 Rser=0.12 Rpar=0 Cpar=0
SYMBOL res 752 240 R0
SYMATTR InstName R1
SYMATTR Value 164k
SYMBOL cap 640 304 R0
SYMATTR InstName C2
SYMATTR Value 22p
SYMBOL cap 1024 320 R0
SYMATTR InstName C3
SYMATTR Value 47µ
SYMATTR SpiceLine V=6.3 Irms=0 Rser=0.002 MTBF=0 Lser=0 ppPkg=1
SYMBOL res 752 464 R0
SYMATTR InstName R2
SYMATTR Value 100k
SYMBOL cap 448 32 R0
SYMATTR InstName C4
SYMATTR Value 0.22µ
SYMATTR SpiceLine V=16 Irms=0 Rser=0.007 MTBF=0 Lser=0 ppPkg=1
SYMBOL res 912 272 R0
SYMATTR InstName R4
SYMATTR Value 100
SYMBOL PowerProducts\\LT3470 128 272 R0
SYMATTR InstName U2
SYMBOL current 1152 288 R0
WINDOW 123 0 0 Left 0
WINDOW 39 24 116 Left 0
SYMATTR SpiceLine load
SYMATTR InstName I1
SYMATTR Value .01A
SYMBOL cap -192 32 R0
WINDOW 39 24 92 Left 0
SYMATTR SpiceLine Rser=.1
SYMATTR InstName C1
SYMATTR Value 22µ
SYMBOL ind -320 -16 R270
WINDOW 0 32 56 VTop 0
WINDOW 3 5 56 VBottom 0
SYMATTR InstName L2
SYMATTR Value {LF}
SYMATTR SpiceLine Rser={1e4*LF}
SYMBOL res 1696 256 R0
SYMATTR InstName R3
SYMATTR Value 20
SYMBOL cap 1584 288 R0
SYMATTR InstName C5
SYMATTR Value 1
SYMBOL bi 1424 384 R180
WINDOW 0 24 88 Left 0
WINDOW 3 24 0 Left 0
SYMATTR InstName Bpower
SYMATTR Value I=ltpower()
SYMBOL res 1696 64 R0
SYMATTR InstName R5
SYMATTR Value 80
SYMBOL cap 1584 96 R0
SYMATTR InstName C6
SYMATTR Value .02m
SYMBOL voltage 1712 416 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V2
SYMATTR Value 25
SYMBOL voltage 64 -32 R0
SYMATTR InstName V_vin
SYMATTR Value 0
SYMBOL voltage 192 -32 R0
SYMATTR InstName V_2
SYMATTR Value 0
SYMBOL voltage 432 192 R90
WINDOW 0 -32 56 VBottom 0
WINDOW 3 32 56 VTop 0
SYMATTR InstName V_3
SYMATTR Value 0
SYMBOL voltage 512 272 R90
WINDOW 0 -32 56 VBottom 0
WINDOW 3 32 56 VTop 0
SYMATTR InstName V_3V3
SYMATTR Value 0
SYMBOL voltage 496 416 R90
WINDOW 0 -32 56 VBottom 0
WINDOW 3 32 56 VTop 0
SYMATTR InstName V_4
SYMATTR Value 0
TEXT -424 -320 Left 0 !.tran 5m
TEXT -424 -272 Left 0 !.ic v(3V3)=3
TEXT -424 -232 Left 0 ;Watch I(V1) and I(C1)
TEXT -280 -104 Left 0 ;optional
TEXT -424 -192 Left 0 ;.step param LF list 1p 1u
TEXT -128 520 Left 0 ;The LT3470 doesn't have "steady state" implemented.
TEXT -40 -552 Left 0 ;How to plot the power dissipation of the LT3470?\nPreparation: Give every node of the device a node name to avoid node names like N001 in the later formula.\nRun the simulation!\n \n1. Alt-LeftMouseButton onto the LT3470 device to get the equation for power dissipation.\n \n2. Add a plot definition\nPlot Settings -> Edit Plot Defs File\n.func LT3470power() V(vin)*Ix(U2:_SHDN)+V(vin)*Ix(U2:Vin)+V(3)*Ix(U2:SW)+V(2)*Ix(U2:Boost)+V(3V3)*Ix(U2:BIAS)+V(4)*Ix(U2:FB)\n \n3. Now you can plot this function for power dissipation in a convenient way.\n "Add Trace"\nLT3470power()\n \nHint: Always keep the formula as a comment in your schematic for the case you loose your plot definition file.\nThe file will be lost with a new installation of LTspice, but not with Sync-Release of course.
TEXT 960 616 Left 0 !.func ltpower() V(vin)*I(V_vin)+V(3)*I(V_3)+V(2)*I(V_2)+V(3V3)*I(V_3V3)+V(4)*I(V_4)
TEXT 1240 -552 Left 0 ;Set R's and C's to so that transient thermal analysis\ncould be performed using RC thermal analysis.
TEXT -168 672 Left 0 ;.func ltpower() V(vin)*Ix(U2:_SHDN)+V(vin)*Ix(U2:Vin)+V(3)*Ix(U2:SW)+V(2)*Ix(U2:Boost)+V(3V3)*Ix(U2:BIAS)+V(4)*Ix(U2:FB)
TEXT -424 -160 Left 0 !.param LF=1u
TEXT 1312 536 Left 0 ;0.02W*80deg/W=1.6degree
TEXT -416 -368 Left 0 !.options plotwinsize=0
