Version 4
SHEET 1 1492 1088
WIRE -416 64 -496 64
WIRE -352 64 -416 64
WIRE 32 64 -352 64
WIRE 560 64 160 64
WIRE -352 80 -352 64
WIRE -496 96 -496 64
WIRE 32 96 32 64
WIRE 160 96 160 64
WIRE -416 112 -416 64
WIRE -64 160 -352 160
WIRE 560 160 560 64
WIRE 560 160 256 160
WIRE -352 176 -352 160
WIRE -496 208 -496 176
WIRE -416 208 -416 176
WIRE -240 240 -256 240
WIRE -160 240 -176 240
WIRE -64 240 -80 240
WIRE 288 240 256 240
WIRE 384 240 288 240
WIRE 448 240 384 240
WIRE 560 240 560 160
WIRE 560 240 528 240
WIRE 656 240 560 240
WIRE 752 240 656 240
WIRE 848 240 752 240
WIRE -352 256 -352 240
WIRE 288 256 288 240
WIRE 384 256 384 240
WIRE 752 256 752 240
WIRE 848 256 848 240
WIRE 560 272 560 240
WIRE -208 320 -256 320
WIRE -64 320 -128 320
WIRE 288 320 256 320
WIRE 384 336 384 320
WIRE 656 336 656 240
WIRE 752 352 752 320
WIRE 848 352 848 336
WIRE -64 400 -96 400
WIRE 336 400 256 400
WIRE 384 400 336 400
WIRE 496 400 464 400
WIRE 560 400 560 352
WIRE 560 400 496 400
WIRE 560 416 560 400
WIRE 96 464 96 448
WIRE 560 512 560 496
WIRE -96 544 -96 400
WIRE 656 544 656 416
WIRE 656 544 -96 544
FLAG 384 336 0
FLAG 752 352 0
FLAG 560 512 0
FLAG -256 240 0
FLAG -496 208 0
FLAG 96 464 0
FLAG 848 352 0
FLAG -256 320 0
FLAG -352 256 0
FLAG 848 240 OUT
FLAG -496 64 IN
FLAG -416 208 0
FLAG 496 400 A
FLAG 336 400 B
SYMBOL ind 432 256 R270
WINDOW 0 32 56 VTop 0
WINDOW 3 5 56 VBottom 0
SYMATTR InstName L1
SYMATTR Value 4.7µ
SYMATTR SpiceLine Rpar=2K
SYMBOL schottky 368 320 M180
WINDOW 0 28 62 Left 0
WINDOW 3 24 0 Left 0
SYMATTR InstName D1
SYMATTR Value MBRS340
SYMATTR Description Diode
SYMATTR Type diode
SYMBOL cap 736 256 R0
SYMATTR InstName C1
SYMATTR Value 22µ
SYMBOL voltage -496 80 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V1
SYMATTR Value 11.5
SYMBOL res 544 256 R0
SYMATTR InstName R1
SYMATTR Value 97.6K
SYMATTR SpiceLine tol=1 pwr=0.1
SYMBOL res 544 400 R0
SYMATTR InstName R2
SYMATTR Value 100K
SYMBOL cap 272 256 R0
WINDOW 3 30 49 Left 0
SYMATTR Value .47µ
SYMATTR InstName C2
SYMBOL cap -176 224 R90
WINDOW 0 0 32 VBottom 0
WINDOW 3 32 32 VTop 0
SYMATTR InstName C3
SYMATTR Value 330p
SYMBOL res -64 224 R90
WINDOW 0 0 56 VBottom 0
WINDOW 3 32 56 VTop 0
SYMATTR InstName R3
SYMATTR Value 16.2K
SYMBOL PowerProducts\\LT3481 96 288 R0
SYMATTR InstName U1
SYMBOL res -112 304 R90
WINDOW 0 0 56 VBottom 0
WINDOW 3 32 56 VTop 0
SYMATTR InstName R5
SYMATTR Value 60.4K
SYMBOL res 640 320 R0
SYMATTR InstName R6
SYMATTR Value 100K
SYMBOL res -368 64 R0
SYMATTR InstName R4
SYMATTR Value 100K
SYMBOL cap -368 176 R0
SYMATTR InstName C4
SYMATTR Value .1µ
SYMBOL res 832 240 R0
SYMATTR InstName R7
SYMATTR Value 1.65
SYMBOL cap -432 112 R0
SYMATTR InstName C5
SYMATTR Value 10µ
SYMATTR SpiceLine V=25 Irms=0 Rser=0.001 MTBF=0 Lser=0 mfg="TDK" pn="C575OX7RIE106M" type="X7R" ppPkg=1
SYMBOL VOLTAGE 480 400 R90
WINDOW 0 -32 56 VBottom 0
WINDOW 3 32 56 VTop 0
SYMATTR InstName V2
SYMATTR Value SINE(0 1m {Freq})
TEXT -448 -176 Left 0 !.tran 0 2.4m 1.4m startup
TEXT 88 40 Bottom 0 ;LT3481 - 2A, 36V switching regulator with 50uA quiescent current\nInput: 24V       Output: 2.5V@2A
TEXT 160 -392 Left 0 !.param Freq=100K       ; iterate frequency until Gain_dB is close to zero dB.\n*.save V(a) V(b) ; I(L1)   ; don't save extra waveform data\n.option plotwinsize=0  ; turn off waveform compression for better accuracy.\n.option option_angle=degrees\n \n.measure Aavg avg V(a)\n.measure Bavg avg V(b)\n.measure Are avg  (V(a)-Aavg)*cos(360*time*Freq)\n.measure Aim avg -(V(a)-Aavg)*sin(360*time*Freq)\n.measure Bre avg  (V(b)-Bavg)*cos(360*time*Freq)\n.measure Bim avg -(V(b)-Bavg)*sin(360*time*Freq)\n.measure Gain_dB param 20*log10(hypot(Are,Aim) / hypot(Bre,Bim))\n.measure Phase param mod(atan2(Aim, Are) - atan2(Bim, Bre)+180,360)-180
TEXT -448 -144 Left 0 ;.options plotwinsize=0
TEXT 160 -432 Left 0 !.step param freq list  10k 20k 50k 100k
