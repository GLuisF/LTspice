Version 4
SHEET 1 1172 852
WIRE 240 -112 144 -112
WIRE 304 -112 240 -112
WIRE 448 -112 304 -112
WIRE 448 -96 448 -112
WIRE 144 -48 144 -112
WIRE 304 -32 304 -112
WIRE 448 0 448 -16
WIRE 144 48 144 16
WIRE 304 128 304 48
WIRE 384 128 304 128
WIRE 416 128 384 128
WIRE 448 128 416 128
WIRE 592 128 512 128
WIRE 784 128 592 128
WIRE 864 128 784 128
WIRE 912 128 864 128
WIRE 784 192 784 128
WIRE 304 208 304 128
WIRE 592 208 592 128
WIRE 912 208 912 128
WIRE 256 224 224 224
WIRE -368 272 -448 272
WIRE -64 272 -112 272
WIRE 16 272 -64 272
WIRE 128 272 96 272
WIRE 224 272 128 272
WIRE 256 272 224 272
WIRE 416 272 416 128
WIRE 784 288 784 272
WIRE 784 288 752 288
WIRE -448 304 -448 272
WIRE -112 304 -112 272
WIRE 128 304 128 272
WIRE 784 304 784 288
WIRE -448 416 -448 384
WIRE -112 416 -112 384
WIRE -112 416 -448 416
WIRE 128 416 128 368
WIRE 128 416 -112 416
WIRE 304 416 304 288
WIRE 304 416 128 416
WIRE 416 416 416 336
WIRE 416 416 304 416
WIRE 592 416 592 272
WIRE 592 416 416 416
WIRE 784 416 784 384
WIRE 784 416 592 416
WIRE 912 416 912 288
WIRE 912 416 784 416
WIRE -448 448 -448 416
WIRE -336 576 -368 576
WIRE -224 576 -256 576
WIRE -192 576 -224 576
WIRE 240 576 160 576
WIRE 384 576 304 576
WIRE -224 608 -224 576
WIRE 160 656 160 576
WIRE 160 656 112 656
WIRE 192 656 160 656
WIRE 272 656 256 656
WIRE 384 656 384 576
WIRE 384 656 352 656
WIRE 416 656 384 656
WIRE 448 656 416 656
WIRE 608 656 528 656
WIRE 848 656 832 656
WIRE 608 672 608 656
WIRE 688 688 656 688
WIRE 848 688 848 656
WIRE -224 704 -224 672
WIRE 160 704 160 656
WIRE 688 736 656 736
WIRE 608 784 608 752
WIRE 848 784 848 768
WIRE 160 816 160 784
FLAG -368 272 triangle
FLAG 384 128 vd
FLAG -448 448 0
FLAG 448 0 0
FLAG 864 128 +12V
FLAG 224 224 0
FLAG 224 272 vg
FLAG -368 576 pwm
FLAG -224 704 0
FLAG -192 576 test1
FLAG -64 272 pwm
FLAG 608 784 0
FLAG 160 816 0
FLAG 752 288 fb
FLAG 688 688 fb
FLAG 416 656 in-
FLAG 848 784 0
FLAG 688 736 ref
FLAG 832 656 ref
FLAG 112 656 ctrl
FLAG 144 48 0
FLAG 240 -112 +5V
SYMBOL voltage -448 288 R0
WINDOW 3 9 107 Left 0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR Value PULSE(0 5 0 5u 5u 0 10u)
SYMATTR InstName V2
SYMBOL voltage 448 -112 R0
WINDOW 123 0 0 Left 0
WINDOW 39 31 71 Left 0
SYMATTR SpiceLine Rser=0.1
SYMATTR InstName V3
SYMATTR Value 5
SYMBOL ind 288 -48 R0
WINDOW 39 36 108 Left 0
SYMATTR SpiceLine Rser=.2
SYMATTR InstName L1
SYMATTR Value 20µ
SYMBOL schottky 448 144 R270
WINDOW 0 32 32 VTop 0
WINDOW 3 0 32 VBottom 0
SYMATTR InstName D1
SYMATTR Value SD
SYMATTR Description Diode
SYMATTR Type diode
SYMBOL res 896 192 R0
SYMATTR InstName RLOAD
SYMATTR Value 100
SYMBOL cap 576 208 R0
WINDOW 39 24 92 Left 0
SYMATTR SpiceLine Rser=.1
SYMATTR InstName C1
SYMATTR Value 100µ
SYMBOL bv -112 288 R0
WINDOW 3 -19 154 Left 0
SYMATTR Value V=5*IF(V(triangle)<V(ctrl),1,0)
SYMATTR InstName B1
SYMBOL res -352 592 R270
WINDOW 0 32 56 VTop 0
WINDOW 3 0 56 VBottom 0
SYMATTR InstName R1
SYMATTR Value 1k
SYMBOL cap -240 608 R0
SYMATTR InstName C2
SYMATTR Value .1µ
SYMBOL res 0 288 R270
WINDOW 0 32 56 VTop 0
WINDOW 3 0 56 VBottom 0
SYMATTR InstName R2
SYMATTR Value 10
SYMBOL cap 112 304 R0
SYMATTR InstName C3
SYMATTR Value 100p
SYMBOL bv 160 688 R0
SYMATTR InstName B2
SYMATTR Value V=1.25-1.25*tanh(10000*V(in-))
SYMBOL cap 192 672 R270
WINDOW 0 32 32 VTop 0
WINDOW 3 0 32 VBottom 0
SYMATTR InstName C5
SYMATTR Value .1µ
SYMBOL res 256 672 R270
WINDOW 0 32 56 VTop 0
WINDOW 3 0 56 VBottom 0
SYMATTR InstName R3
SYMATTR Value 10k
SYMBOL e 608 656 M0
SYMATTR InstName E1
SYMATTR Value 1
SYMBOL res 432 672 R270
WINDOW 0 32 56 VTop 0
WINDOW 3 0 56 VBottom 0
SYMATTR InstName R4
SYMATTR Value 5k
SYMBOL res 768 176 R0
SYMATTR InstName R5
SYMATTR Value 9.5k
SYMBOL res 768 288 R0
SYMATTR InstName R6
SYMATTR Value 2.5k
SYMBOL voltage 848 672 R0
SYMATTR InstName V4
SYMATTR Value 2.5
SYMBOL cap 240 592 R270
WINDOW 0 32 32 VTop 0
WINDOW 3 0 32 VBottom 0
SYMATTR InstName C6
SYMATTR Value 5n
SYMBOL sw 304 192 R0
SYMATTR InstName S1
SYMATTR Value msw
SYMBOL cap 128 -48 R0
WINDOW 39 39 92 Left 0
SYMATTR InstName C7
SYMATTR Value 100µ
SYMATTR SpiceLine Rser=0.05
SYMBOL schottky 400 336 M180
WINDOW 0 24 72 Left 0
WINDOW 3 24 0 Left 0
SYMATTR InstName D2
SYMATTR Value SD
SYMATTR Description Diode
SYMATTR Type diode
TEXT -440 0 Left 0 !.model msw sw (ron=0.05 vt=2.5 vh=0)
TEXT -440 112 Left 0 !.tran 0 20m 0 .05u startup
TEXT -440 64 Left 0 !.ic I(L1)=0 V(ctrl)=0 V(in-)=2.5
TEXT 48 616 Left 0 ;0 ... 2.5V
TEXT -432 -80 Left 0 ;Voltage Mode Boost Converter
TEXT 344 528 Left 0 ;Error Amplifier plus Reference
TEXT -152 232 Left 0 ;comparator
TEXT -440 -24 Left 0 !.model SD D(Is=1e-9 Rs=0.1)
TEXT -440 144 Left 0 !.options plotwinsize=0
TEXT 24 152 Left 0 ;smooth edge\nconvergence
LINE Normal 736 672 736 320 2
LINE Normal 752 656 736 672 2
LINE Normal 752 656 752 656 2
LINE Normal 752 656 752 656 2
LINE Normal 720 656 736 672 2
LINE Normal 720 656 720 656 2
LINE Normal 736 736 800 672 2
LINE Normal 736 720 736 736 2
LINE Normal 736 720 736 720 2
LINE Normal 752 736 736 736 2
LINE Normal 752 736 752 736 2
LINE Normal 96 464 96 592 2
LINE Normal 80 480 96 464 2
LINE Normal 112 480 96 464 2
LINE Normal -256 256 -288 288 2
LINE Normal -224 288 -256 256 2
LINE Normal -192 256 -224 288 2
RECTANGLE Normal 976 848 -16 496
RECTANGLE Normal 192 432 0 208 2
