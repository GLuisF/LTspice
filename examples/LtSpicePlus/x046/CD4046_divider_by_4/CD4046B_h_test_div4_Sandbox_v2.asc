Version 4
SHEET 1 2020 1976
WIRE -4704 -80 -5088 -80
WIRE -4512 -80 -4704 -80
WIRE -4368 -80 -4512 -80
WIRE -4080 -80 -4368 -80
WIRE -4048 -80 -4080 -80
WIRE -3744 -80 -4048 -80
WIRE -3504 -80 -3744 -80
WIRE -3216 -80 -3504 -80
WIRE -3184 -80 -3216 -80
WIRE -2864 -80 -3184 -80
WIRE -4048 16 -4048 -80
WIRE -3184 16 -3184 -80
WIRE -2864 16 -2864 -80
WIRE -3744 32 -3744 -80
WIRE -5088 48 -5088 -80
WIRE -4704 48 -4704 -80
WIRE -4512 64 -4512 -80
WIRE -4336 192 -4416 192
WIRE -4080 192 -4080 -80
WIRE -4080 192 -4112 192
WIRE -3472 192 -3552 192
WIRE -3216 192 -3216 -80
WIRE -3216 192 -3248 192
WIRE -4416 224 -4416 192
WIRE -3552 224 -3552 192
WIRE -5088 256 -5088 128
WIRE -4704 256 -4704 128
WIRE -4624 256 -4704 256
WIRE -4512 256 -4512 144
WIRE -4512 256 -4560 256
WIRE -4336 256 -4512 256
WIRE -4048 256 -4048 96
WIRE -4048 256 -4112 256
WIRE -3952 256 -4048 256
WIRE -3472 256 -3648 256
WIRE -3184 256 -3184 96
WIRE -3184 256 -3248 256
WIRE -3088 256 -3184 256
WIRE -4336 320 -4464 320
WIRE -4048 320 -4048 256
WIRE -4048 320 -4112 320
WIRE -3472 320 -3600 320
WIRE -3184 320 -3184 256
WIRE -3184 320 -3248 320
WIRE -736 320 -1360 320
WIRE -464 320 -576 320
WIRE -1504 368 -1520 368
WIRE -4704 384 -4704 256
WIRE -4560 384 -4704 384
WIRE -4368 384 -4368 -80
WIRE -4336 384 -4368 384
WIRE -3952 384 -4112 384
WIRE -3888 384 -3888 256
WIRE -3504 384 -3504 -80
WIRE -3472 384 -3504 384
WIRE -3088 384 -3248 384
WIRE -3024 384 -3024 256
WIRE -2864 400 -2864 96
WIRE -2576 400 -2864 400
WIRE -1472 416 -1520 416
WIRE -4704 448 -4704 384
WIRE -1744 448 -2704 448
WIRE -1472 448 -1520 448
WIRE -3888 464 -3888 384
WIRE -3744 464 -3744 112
WIRE -3440 464 -3744 464
WIRE -3024 480 -3024 384
WIRE -1472 480 -1520 480
WIRE -4944 496 -5088 496
WIRE -4768 496 -4864 496
WIRE -1744 496 -1776 496
WIRE -1472 512 -1520 512
WIRE -1232 512 -1280 512
WIRE -1104 512 -1152 512
WIRE -992 512 -1104 512
WIRE -944 512 -992 512
WIRE -2864 528 -2864 400
WIRE -1472 544 -1520 544
WIRE -1104 544 -1104 512
WIRE -992 544 -992 512
WIRE -4512 576 -4512 256
WIRE -3648 576 -3648 256
WIRE -3648 576 -4512 576
WIRE -3600 576 -3600 320
WIRE -3072 576 -3600 576
WIRE -2928 576 -2992 576
WIRE -1520 576 -1520 544
WIRE -1360 576 -1360 320
WIRE -1360 576 -1520 576
WIRE -5088 592 -5088 496
WIRE -3184 592 -3184 320
WIRE -1520 608 -1520 576
WIRE -3440 640 -3440 464
WIRE -3248 640 -3440 640
WIRE -1104 656 -1104 624
WIRE -992 656 -992 608
WIRE -992 656 -1104 656
WIRE -2272 672 -2320 672
WIRE -1776 672 -1776 496
WIRE -1776 672 -2112 672
WIRE -1504 672 -1520 672
WIRE -1392 672 -1392 640
WIRE -3440 688 -3440 640
WIRE -3440 688 -3504 688
WIRE -992 688 -992 656
WIRE -1744 704 -1792 704
WIRE -3568 736 -3712 736
WIRE -1744 736 -2016 736
WIRE -1520 784 -1520 752
WIRE -1392 784 -1392 752
WIRE -992 784 -992 752
WIRE -5088 816 -5088 672
WIRE -4704 816 -4704 544
WIRE -3712 832 -3712 736
WIRE -2576 896 -2576 400
WIRE -2016 896 -2016 736
WIRE -2016 896 -2576 896
WIRE -4464 960 -4464 320
WIRE -2704 960 -2704 448
WIRE -2704 960 -4464 960
WIRE -1136 960 -1168 960
WIRE -992 960 -1056 960
WIRE -992 976 -992 960
WIRE -4560 1040 -4560 384
WIRE -3712 1040 -3712 912
WIRE -3712 1040 -4560 1040
WIRE -3504 1056 -3504 784
WIRE -3184 1056 -3184 688
WIRE -2864 1056 -2864 624
WIRE -992 1072 -992 1056
FLAG -1392 784 0
FLAG -1392 640 vcc
FLAG -992 784 0
FLAG -1280 512 pc2
FLAG -944 512 vco_in
FLAG -1792 704 vco_in
FLAG -1472 416 pc1
FLAG -1472 448 pc2
FLAG -1472 480 pcp
FLAG -1472 512 v7
FLAG -1520 784 0
FLAG -1504 368 vcc
FLAG -992 1072 0
FLAG -1168 960 v7
FLAG -1504 672 vdem
FLAG -1472 544 fvco
IOPIN -1472 544 Out
FLAG -2320 672 fvco
FLAG -4416 224 0
FLAG -3888 464 0
FLAG -4704 816 0
FLAG -5088 816 0
FLAG -5088 256 0
FLAG -3552 224 0
FLAG -3024 480 0
FLAG -3504 1056 0
FLAG -3184 1056 0
FLAG -2864 1056 0
SYMBOL voltage -1392 656 R0
SYMATTR InstName V3
SYMATTR Value 5
SYMBOL res -1248 528 R270
WINDOW 0 32 56 VTop 0
WINDOW 3 0 56 VBottom 0
SYMATTR InstName R3
SYMATTR Value 100k
SYMBOL cap -1008 688 R0
SYMATTR InstName C2
SYMATTR Value 10µ
SYMBOL res -1120 528 R0
SYMATTR InstName R4
SYMATTR Value 21k
SYMBOL cap -1008 544 R0
SYMATTR InstName C3
SYMATTR Value 2.2µ
SYMBOL res -1040 976 M270
WINDOW 0 32 56 VTop 0
WINDOW 3 0 56 VBottom 0
SYMATTR InstName R1
SYMATTR Value 1.8k
SYMBOL voltage -992 960 R0
SYMATTR InstName V2
SYMATTR Value 9
SYMBOL cd4046b_h -1632 320 R0
WINDOW 39 -313 517 Left 0
SYMATTR SpiceLine VCC1=5 FMIN=0 FMAX=160 SPEED=1.0 TDEL1=20n TRIPDT1=8n
SYMATTR InstName X1
SYMBOL counter1 -2192 624 R0
WINDOW 123 -120 170 Left 0
WINDOW 39 -120 198 Left 0
SYMATTR Value2 cycles=5 duty={2/4}
SYMATTR SpiceLine vhigh=5
SYMATTR InstName A1
SYMBOL counter1 -656 272 R0
WINDOW 123 -120 170 Left 0
WINDOW 39 -120 198 Left 0
SYMATTR Value2 cycles=2 duty={2/4}
SYMATTR SpiceLine vhigh=5
SYMATTR InstName A2
SYMBOL Misc\\NE555 -4224 288 R0
SYMATTR InstName U1
SYMBOL cap -4560 240 R90
WINDOW 0 0 32 VBottom 0
WINDOW 3 32 32 VTop 0
SYMATTR InstName C1
SYMATTR Value 100n
SYMBOL res -4720 32 R0
SYMATTR InstName R2
SYMATTR Value 47k
SYMBOL cap -3888 240 R90
WINDOW 0 0 32 VBottom 0
WINDOW 3 32 32 VTop 0
SYMATTR InstName C4
SYMATTR Value 100n
SYMBOL cap -3888 368 R90
WINDOW 0 0 32 VBottom 0
WINDOW 3 32 32 VTop 0
SYMATTR InstName C5
SYMATTR Value 10n
SYMBOL res -4064 0 R0
SYMATTR InstName R5
SYMATTR Value 100k
SYMBOL res -4528 48 R0
SYMATTR InstName R6
SYMATTR Value 4.7k
SYMBOL npn -4768 448 R0
SYMATTR InstName Q1
SYMBOL voltage -5088 576 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V4
SYMATTR Value PULSE(0 5 0 3µ 3µ .005 .042 96)
SYMBOL voltage -5088 32 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V5
SYMATTR Value 5
SYMBOL res -4848 480 R90
WINDOW 0 0 56 VBottom 0
WINDOW 3 32 56 VTop 0
SYMATTR InstName R7
SYMATTR Value 47k
SYMBOL Misc\\NE555 -3360 288 R0
SYMATTR InstName U2
SYMBOL cap -3024 240 R90
WINDOW 0 0 32 VBottom 0
WINDOW 3 32 32 VTop 0
SYMATTR InstName C6
SYMATTR Value 100n
SYMBOL cap -3024 368 R90
WINDOW 0 0 32 VBottom 0
WINDOW 3 32 32 VTop 0
SYMATTR InstName C7
SYMATTR Value 10n
SYMBOL res -3200 0 R0
SYMATTR InstName R8
SYMATTR Value 500k
SYMBOL npn -3568 688 R0
SYMATTR InstName Q2
SYMBOL res -3728 816 R0
SYMATTR InstName R9
SYMATTR Value 1Meg
SYMBOL npn -3248 592 R0
SYMATTR InstName Q3
SYMBOL res -3760 16 R0
SYMATTR InstName R10
SYMATTR Value 47k
SYMBOL res -2880 0 R0
SYMATTR InstName R11
SYMATTR Value 47k
SYMBOL npn -2928 528 R0
SYMATTR InstName Q4
SYMBOL res -2976 560 R90
WINDOW 0 0 56 VBottom 0
WINDOW 3 32 56 VTop 0
SYMATTR InstName R12
SYMATTR Value 47k
TEXT -2128 368 Left 0 !.tran 0 4.5s 0 500n
TEXT -2128 400 Left 0 !.options plotwinsize=0
TEXT -1968 896 Left 0 ;The visible parameters are from the CD4046 model. \nThey can be made invisible in the symbol's dialog.\nTherefore RightMouseClick on the symbol and uncheck it.\n \nFMAX = max. VCO frequency\nFMIN = min. VCO frequency\nTDEL1=20n  internal gate delay; don't change it\nTRIPDT1=8n  change it to 8n for Fvco>=2.5e5, 8n*2.5e5/Fvco_max\nExample: Fvco_max=1kHz -> TRIPDT=2u
TEXT -2128 -112 Left 0 ;The CD4046 PLL\nHelmut Sennewald, V0.8\nPlease refer to TI, Fairchild, Onsemi and  Philips datasheets.\nhttp://focus.ti.com/lit/ds/symlink/cd4046b.pdf\nhttp://www.fairchildsemi.com/ds/CD/CD4046BC.pdf\nhttp://www.onsemi.com/pub/Collateral/MC14046B-D.PDF\nhttp://www.semiconductors.philips.com/acrobat_download/datasheets/HEF4046B_CNV_3.pdf\nCheck carefully the datasheets, because there may be differences.\n \nThis is a hierarchical design. You can RightMouseClick \non the instance(symbol) and probe down the hierarchy. \nTo probe signals down the hierarchy requires\nControl Panel -> Save Defaults \n...Save Subcircuit Voltages\n...Save Subcircuit Currents
TEXT -1296 376 Left 0 ;Loop Filter\nReference designators according to \nPLL-design program pll.zip from Philips.
TEXT -1264 928 Left 0 ;Zener diode
TEXT -1176 184 Left 0 !.optons cshunt=1e-15
TEXT -1976 624 Left 0 ;Divider by 4
TEXT -5088 -200 Left 0 !.INCLUDE CD4000.lib
RECTANGLE Normal -1168 864 -1968 816
CIRCLE Normal -856 240 -1240 128
