Version 4
SHEET 1 4564 1120
WIRE 144 -672 112 -672
WIRE 240 -672 224 -672
WIRE 496 -544 480 -544
WIRE 576 -528 560 -528
WIRE 576 -512 576 -528
WIRE 592 -512 576 -512
WIRE 496 -480 480 -480
WIRE 592 -464 560 -464
WIRE 768 -464 704 -464
WIRE -272 -416 -304 -416
WIRE -352 -400 -496 -400
WIRE -480 -352 -496 -352
WIRE -352 -352 -480 -352
WIRE 576 -352 560 -352
WIRE 768 -352 640 -352
WIRE -480 -320 -480 -352
WIRE -480 -320 -608 -320
WIRE -320 -320 -352 -352
WIRE -272 -320 -272 -416
WIRE -272 -320 -320 -320
WIRE 576 -320 544 -320
WIRE -608 -304 -608 -320
WIRE 912 -272 768 -272
WIRE 0 -256 -16 -256
WIRE 96 -256 80 -256
WIRE 112 -256 96 -256
WIRE 208 -256 192 -256
WIRE 384 -240 384 -640
WIRE 608 -240 384 -240
WIRE 768 -224 768 -272
WIRE 768 -224 736 -224
WIRE 784 -224 768 -224
WIRE 912 -224 912 -272
WIRE 928 -224 912 -224
WIRE 1056 -224 1008 -224
WIRE 1104 -224 1056 -224
WIRE 1152 -224 1104 -224
WIRE 352 -208 352 -640
WIRE 592 -208 352 -208
WIRE 608 -208 592 -208
WIRE 1056 -208 1056 -224
WIRE 1104 -208 1104 -224
WIRE -688 -176 -688 -192
WIRE -272 -176 -304 -176
WIRE 96 -176 96 -256
WIRE 96 -176 -48 -176
WIRE 240 -176 96 -176
WIRE -352 -160 -496 -160
WIRE -48 -160 -48 -176
WIRE 240 -160 240 -176
WIRE 1104 -128 1104 -144
WIRE 1104 -128 1056 -128
WIRE -480 -112 -496 -112
WIRE -352 -112 -480 -112
WIRE 592 -112 592 -208
WIRE 864 -112 592 -112
WIRE 1104 -112 1104 -128
WIRE -480 -80 -480 -112
WIRE -480 -80 -608 -80
WIRE -320 -80 -352 -112
WIRE -272 -80 -272 -176
WIRE -272 -80 -320 -80
WIRE -688 -64 -688 -96
WIRE -608 -64 -608 -80
WIRE -48 -64 -48 -80
WIRE 64 -64 -48 -64
WIRE 240 -64 240 -80
WIRE 240 -64 128 -64
WIRE 864 -64 864 -112
WIRE 864 -64 592 -64
WIRE 32 -48 -48 -64
WIRE 160 -48 240 -64
WIRE -48 -32 -48 -64
WIRE 240 -32 240 -64
WIRE 1104 -32 1104 -48
WIRE 592 0 592 -64
WIRE 640 0 592 0
WIRE 768 0 640 0
WIRE 592 16 592 0
WIRE -272 48 -304 48
WIRE -96 48 -96 32
WIRE -48 48 -96 48
WIRE 96 48 -48 48
WIRE 240 48 96 48
WIRE 288 48 288 32
WIRE 288 48 240 48
WIRE -352 64 -416 64
WIRE 96 64 96 48
WIRE 640 96 640 80
WIRE -480 112 -496 112
WIRE -352 112 -480 112
WIRE -480 144 -480 112
WIRE -480 144 -608 144
WIRE -320 144 -352 112
WIRE -272 144 -272 48
WIRE -272 144 -320 144
WIRE -608 160 -608 144
WIRE 32 304 32 -48
WIRE 64 304 32 304
WIRE 160 304 160 -48
WIRE 160 304 128 304
WIRE 32 320 32 304
WIRE 160 320 160 304
FLAG 96 64 0
FLAG 32 320 6
IOPIN 32 320 BiDir
FLAG 160 320 7
IOPIN 160 320 BiDir
FLAG 288 -96 0
FLAG -96 -96 0
FLAG -96 -144 7
FLAG 288 -16 7
FLAG -96 -16 6
FLAG 288 -144 6
FLAG -16 -256 0
FLAG 768 0 4
IOPIN 768 0 Out
FLAG 592 96 0
FLAG 640 96 0
FLAG -608 -224 0
FLAG -272 -240 0
FLAG -304 -336 0
FLAG -496 -352 11
IOPIN -496 -352 Out
FLAG -608 16 0
FLAG -272 0 0
FLAG -304 -96 0
FLAG -496 -160 16
IOPIN -496 -160 In
FLAG -496 -112 12
IOPIN -496 -112 Out
FLAG -688 -64 0
FLAG -688 -192 16
FLAG 208 -256 0
FLAG 1104 -32 0
FLAG 384 -640 14
IOPIN 384 -640 In
FLAG 352 -640 3
IOPIN 352 -640 In
FLAG 1152 -224 9
FLAG -496 -400 9
IOPIN -496 -400 In
FLAG 112 -672 0
FLAG 240 -672 14
FLAG -608 240 0
FLAG -272 224 0
FLAG -304 128 0
FLAG -416 64 9
FLAG -496 112 10
IOPIN -496 112 Out
FLAG 560 -352 14
FLAG 544 -320 3
FLAG 768 -352 2
IOPIN 768 -352 Out
FLAG 480 -544 14
FLAG 480 -480 3
FLAG 768 -464 15
IOPIN 768 -464 Out
FLAG 784 -224 13
IOPIN 784 -224 Out
SYMBOL sw -48 -64 M180
SYMATTR InstName S1
SYMBOL sw 240 64 R180
SYMATTR InstName S2
SYMBOL sw 240 -64 R180
SYMATTR InstName S3
SYMBOL sw -48 64 M180
SYMATTR InstName S4
SYMBOL cap 128 -80 R90
WINDOW 0 0 32 VBottom 0
WINDOW 3 32 32 VTop 0
SYMATTR InstName C1
SYMATTR Value 10p
SYMBOL cap 128 288 R90
WINDOW 0 0 32 VBottom 0
WINDOW 3 32 32 VTop 0
SYMATTR InstName C2
SYMATTR Value 2.2n
SYMBOL bi2 80 -256 M270
WINDOW 3 -32 40 VBottom 0
WINDOW 0 32 40 VTop 0
SYMATTR Value I=I(R1)*36
SYMATTR InstName B1
SYMBOL bv 592 0 M0
WINDOW 3 24 104 Invisible 0
SYMATTR Value V=ddt(V(6,7))>0 ? 5 : 0
SYMATTR InstName B2
SYMATTR Value2 Tripdt=0.007u Tripdv=0.007m
SYMBOL res 624 -16 R0
SYMATTR InstName R3
SYMATTR Value 1G
SYMBOL res -592 -320 M0
SYMATTR InstName R1
SYMATTR Value 10k
SYMBOL res -288 -336 R0
SYMATTR InstName R_by-pass-1
SYMATTR Value 2.7k
SYMBOL g -304 -432 R0
WINDOW 3 -475 544 Invisible 0
WINDOW 0 -37 9 Left 0
SYMATTR Value TABLE(0.05, 0.001m) (0.31, 0.005m) (0.5, 0.011m) (2.29V, 0.091m) (3V, 0.12m)
SYMATTR InstName G1
SYMBOL res -592 -80 M0
SYMATTR InstName R2
SYMATTR Value 100k
SYMBOL res -288 -96 R0
SYMATTR InstName R_by-pass-2
SYMATTR Value 2.7k
SYMBOL g -304 -192 R0
WINDOW 3 -475 544 Invisible 0
WINDOW 0 -41 9 Left 0
SYMATTR Value TABLE(0.05, 0.001m) (0.31, 0.005m) (0.5, 0.011m) (2.29V, 0.091m) (3V, 0.12m)
SYMATTR InstName G2
SYMBOL voltage -688 -192 M0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
WINDOW 3 61 106 Left 0
SYMATTR Value 5
SYMATTR InstName V2
SYMBOL bi2 112 -256 M90
WINDOW 3 32 40 VTop 0
WINDOW 0 -32 40 VBottom 0
SYMATTR Value I=I(R2)*90
SYMATTR InstName B3
SYMBOL res 1024 -240 R90
WINDOW 0 0 56 VBottom 0
WINDOW 3 32 56 VTop 0
SYMATTR InstName R4
SYMATTR Value 110k
SYMBOL res 1072 -224 M0
SYMATTR InstName R5
SYMATTR Value 15k
SYMBOL cap 1088 -208 R0
SYMATTR InstName C3
SYMATTR Value 1n
SYMBOL cap 1088 -112 R0
SYMATTR InstName C4
SYMATTR Value 10n
SYMBOL voltage 240 -672 M270
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
WINDOW 3 48 47 VRight 0
SYMATTR Value PULSE(0 5 0 10n 10n 5u 10u)
SYMATTR InstName V1
SYMBOL Digital\\phidet 640 -224 R0
WINDOW 3 0 64 Invisible 0
SYMATTR Value Vhigh={Vhigh1}
SYMATTR InstName A1
SYMATTR Value2 Td={td1} ref={ref1}
SYMBOL res -592 144 M0
SYMATTR InstName R6
SYMATTR Value 100k
SYMBOL res -288 128 R0
SYMATTR InstName R_by-pass-3
SYMATTR Value 2.7k
SYMBOL g -304 32 R0
WINDOW 3 -475 544 Invisible 0
WINDOW 0 -25 14 Left 0
SYMATTR Value 1
SYMATTR InstName G3
SYMBOL Digital\\xor 624 -400 R0
WINDOW 3 0 0 Invisible 0
SYMATTR Value Vhigh={Vhigh1}
SYMATTR InstName A2
SYMBOL Digital\\srflop 640 -560 R0
WINDOW 3 -40 28 Invisible 0
SYMATTR Value Vhigh={Vhigh2} ref={ref2}
SYMATTR InstName A3
SYMBOL Digital\\buf 496 -608 R0
WINDOW 3 8 120 Invisible 0
SYMATTR Value Vhigh={Vhigh2} ref={ref2}
SYMATTR InstName A4
SYMATTR Value2 Trise={Trise2} Tfall={Tfall2}
SYMBOL Digital\\buf 496 -544 R0
WINDOW 3 8 120 Invisible 0
SYMATTR Value Vhigh={Vhigh2} ref={ref2}
SYMATTR InstName A5
SYMATTR SpiceLine Td={Td2}
TEXT -480 -536 Left 0 !.ic V(6)=0.5 V(Q)=0 V(_Q)=5\n.params: Vhigh1=5 ref1=2.5 Td1=50n Vhigh2=5 ref2=0.5 Td2=50n Trise2=5n Tfall2=5n\n.model SW SW(Ron=5 Roff=1Meg Vt=500m Vh=600m)
TEXT 264 232 Left 0 !.tran 0 120m
TEXT -632 -432 Left 0 ;9 --- VCO_in
TEXT 760 -32 Left 0 ;4 --VCO_out
TEXT 616 -144 Left 0 ;13 --Phase_COMP II OUT
TEXT 440 -176 Left 0 ;3 --COMP_in
TEXT -552 -200 Left 0 ;VCC
TEXT 408 -280 Left 0 ;14 --(VCO)SIG_in
TEXT -600 80 Left 0 ;DEM_OUT
TEXT 1024 -296 Left 0 ;LPF
TEXT 384 320 Left 0 ;author Paksutov Konstantin, Ulyanovsk State University, aka Pogankin@yahoo.com
TEXT -416 -872 Left 0 ;Hello, Helmut. I wrote CD54/74HC/HCT4046A behavioral model.\n Approximation for F(VCO_in) is made by http://www.fairchildsemi.com/ds/74/74VHC4046.pdf (p.6)\nAnd is not enough correct.  Please, send me your note if possible to complete this work.\nOther circuit ideas are taken from http://www.ee.nmt.edu/~thomas/data_sheets/phase-ll-scha003b.pdf (\nApplication Report SCHA003B - September 2002 by W. M. Austin) and from LTSPice group.
RECTANGLE Normal 752 256 -480 -608
RECTANGLE Normal 1200 16 896 -320
