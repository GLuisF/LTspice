Version 4
SHEET 1 3656 1236
WIRE -320 -592 -320 -608
WIRE 144 -592 128 -592
WIRE 224 -592 224 -608
WIRE 320 -592 304 -592
WIRE -112 -496 -176 -496
WIRE 112 -496 80 -496
WIRE -176 -464 -176 -496
WIRE 208 -400 208 -416
WIRE 368 -400 208 -400
WIRE 464 -400 368 -400
WIRE -176 -368 -176 -384
WIRE -112 -368 -176 -368
WIRE 96 -368 80 -368
WIRE 208 -368 208 -400
WIRE 240 -368 208 -368
WIRE 96 -352 96 -368
WIRE 208 -336 208 -368
WIRE 240 -336 240 -368
WIRE 368 -240 368 -400
WIRE -384 -224 -384 -240
WIRE -384 -224 -544 -224
WIRE -288 -208 -288 -240
WIRE 48 -208 -288 -208
WIRE 208 -208 208 -272
WIRE 464 -208 464 -400
WIRE -544 -176 -544 -224
WIRE -544 -176 -576 -176
WIRE -528 -176 -544 -176
WIRE -384 -176 -384 -224
WIRE -384 -176 -400 -176
WIRE -288 -160 -288 -208
WIRE -272 -160 -288 -160
WIRE 32 -160 -64 -160
WIRE 128 -160 112 -160
WIRE -800 -144 -832 -144
WIRE -576 -144 -576 -176
WIRE 368 -144 368 -160
WIRE -48 -128 -64 -128
WIRE 16 -128 -48 -128
WIRE -528 -112 -656 -112
WIRE -384 -112 -400 -112
WIRE -48 -112 -48 -128
WIRE -384 -96 -384 -112
WIRE 16 -96 16 -128
WIRE -800 -80 -816 -80
WIRE 208 -64 208 -112
WIRE 240 -64 240 -272
WIRE 240 -64 208 -64
WIRE 368 -64 368 -80
WIRE 368 -64 240 -64
WIRE 608 -64 608 -112
WIRE 608 -64 368 -64
WIRE 704 -64 608 -64
WIRE 864 -64 768 -64
WIRE 976 -64 944 -64
WIRE 1056 -64 976 -64
WIRE -544 -48 -544 -176
WIRE -528 -48 -544 -48
WIRE -272 -48 -400 -48
WIRE -48 -48 -64 -48
WIRE 208 -48 208 -64
WIRE 208 -48 -48 -48
WIRE -288 -32 -288 -160
WIRE 1056 -32 1056 -64
WIRE 1296 -32 1184 -32
WIRE 1600 -32 1376 -32
WIRE 1696 -32 1696 -80
WIRE 1696 -32 1664 -32
WIRE 208 -16 208 -48
WIRE 240 -16 208 -16
WIRE 368 -16 368 -64
WIRE 464 -16 464 -144
WIRE 512 -16 464 -16
WIRE 1568 -16 1568 -80
WIRE -272 0 -368 0
WIRE -48 0 -64 0
WIRE 16 0 16 -32
WIRE 16 0 -48 0
WIRE 48 0 48 -208
WIRE 48 0 16 0
WIRE 208 0 208 -16
WIRE 512 0 512 -16
WIRE 672 0 672 -112
WIRE 672 0 512 0
WIRE 976 0 976 -64
WIRE -576 16 -576 -80
WIRE -544 16 -576 16
WIRE -528 16 -544 16
WIRE -368 16 -368 0
WIRE -368 16 -400 16
WIRE -48 16 -48 0
WIRE 464 32 464 -16
WIRE -544 48 -544 16
WIRE -288 80 -288 32
WIRE -272 80 -288 80
WIRE -48 80 -64 80
WIRE 240 80 240 -16
WIRE -48 96 -48 80
WIRE 1968 96 1872 96
WIRE 208 112 208 64
WIRE 1248 112 1184 112
WIRE 1520 112 1248 112
WIRE 1600 112 1520 112
WIRE -288 128 -288 80
WIRE -272 128 -288 128
WIRE 32 128 -64 128
WIRE 1520 128 1520 112
WIRE 1968 128 1968 96
WIRE 512 144 512 0
WIRE 576 144 512 144
WIRE 848 144 656 144
WIRE 880 144 848 144
WIRE 976 144 976 80
WIRE 976 144 960 144
WIRE 1056 144 1056 112
WIRE 1056 144 976 144
WIRE 1696 144 1696 -32
WIRE 1872 144 1872 96
WIRE -288 160 -288 128
WIRE 32 160 32 128
WIRE 128 160 112 160
WIRE 368 176 368 64
WIRE 1600 192 1600 112
WIRE 208 240 208 208
WIRE 240 240 240 144
WIRE 240 240 208 240
WIRE 368 240 240 240
WIRE 464 240 464 96
WIRE 464 240 368 240
WIRE -208 256 -368 256
WIRE 368 256 368 240
WIRE 848 256 848 144
WIRE 1248 256 1248 112
WIRE 1472 256 1440 256
WIRE -144 272 -144 256
WIRE -368 288 -368 256
WIRE 1472 288 1472 256
WIRE 1520 288 1520 208
WIRE -224 352 -272 352
WIRE -160 352 -160 336
WIRE 224 352 -160 352
WIRE 848 368 848 336
WIRE 1248 368 1248 336
WIRE -368 384 -368 368
WIRE -368 384 -432 384
WIRE 1472 384 1472 368
WIRE 1472 384 1424 384
WIRE 1520 384 1520 368
WIRE 1600 384 1600 272
WIRE 1600 384 1520 384
WIRE 1696 384 1568 -16
WIRE 1696 384 1696 224
WIRE 1696 384 1600 384
WIRE 1872 384 1872 224
WIRE 1872 384 1696 384
WIRE 1968 384 1968 208
WIRE 1968 384 1872 384
WIRE -368 400 -368 384
WIRE -320 400 -320 320
WIRE -320 400 -368 400
WIRE -160 400 -160 352
WIRE -160 400 -176 400
WIRE -96 416 -128 416
WIRE -64 416 -96 416
WIRE -368 432 -368 400
WIRE -272 432 -272 416
WIRE -224 432 -224 352
WIRE -176 432 -176 400
WIRE -128 432 -128 416
WIRE 224 448 224 352
WIRE 224 448 112 448
WIRE -96 464 -96 416
WIRE 48 464 -96 464
WIRE 448 480 368 480
WIRE 464 480 448 480
WIRE 368 512 368 480
WIRE 560 576 512 576
WIRE 592 576 560 576
WIRE 720 576 592 576
WIRE 832 576 720 576
WIRE 448 592 448 480
WIRE 512 608 512 576
WIRE 512 608 480 608
WIRE 368 624 368 592
WIRE 368 624 160 624
WIRE 416 624 368 624
WIRE -320 640 -320 624
WIRE -304 640 -320 640
WIRE -272 640 -272 624
WIRE -224 640 -224 624
WIRE -208 640 -208 256
WIRE -208 640 -224 640
WIRE -128 640 -128 624
WIRE -96 640 -128 640
WIRE 48 640 48 624
WIRE 96 640 48 640
WIRE 512 640 480 640
WIRE -368 656 -368 624
WIRE -368 656 -384 656
WIRE 560 656 560 640
WIRE 592 656 592 640
WIRE 592 656 560 656
WIRE 608 656 592 656
WIRE 720 656 688 656
WIRE 816 656 720 656
WIRE 832 656 816 656
WIRE -304 672 -304 640
WIRE 448 672 448 656
WIRE 512 672 512 640
WIRE 560 672 560 656
WIRE 560 672 512 672
WIRE -176 688 -176 624
WIRE 48 688 48 640
WIRE 48 688 -176 688
WIRE -272 736 -272 720
WIRE 816 768 816 736
FLAG 368 256 0
FLAG 208 -416 310
IOPIN 208 -416 In
FLAG -320 -608 0
FLAG -240 -592 Vdd
IOPIN -240 -592 Out
FLAG -400 -592 -Vdd
IOPIN -400 -592 Out
FLAG 224 -608 0
FLAG 320 -592 Vcc
IOPIN 320 -592 Out
FLAG 128 -592 -Vcc
IOPIN 128 -592 Out
FLAG -96 640 Vcc
IOPIN -96 640 In
FLAG -384 736 0
FLAG -304 752 0
FLAG -272 736 0
FLAG -496 384 0
FLAG -64 416 vco
IOPIN -64 416 Out
FLAG -320 432 0
FLAG 608 -112 CH1-sig
IOPIN 608 -112 Out
FLAG -320 320 control
IOPIN -320 320 BiDir
FLAG 48 624 sig
IOPIN 48 624 In
FLAG 1248 368 0
FLAG 1440 256 X2.2
IOPIN 1440 256 Out
FLAG 1424 384 X2.1
IOPIN 1424 384 Out
FLAG 832 656 X2.1
IOPIN 832 656 Out
FLAG 832 576 X2.2
IOPIN 832 576 Out
FLAG 816 768 Vdd
IOPIN 816 768 In
FLAG 720 736 0
FLAG -48 96 0
FLAG -288 -240 Vdd
IOPIN -288 -240 In
FLAG -288 160 0
FLAG -384 -96 0
FLAG -544 48 0
FLAG -384 -240 Vdd
IOPIN -384 -240 In
FLAG 448 672 0
FLAG -832 -144 Gate
IOPIN -832 -144 In
FLAG -144 256 Gate
IOPIN -144 256 Out
FLAG 464 480 Vcc
IOPIN 464 480 In
FLAG 1696 -80 CH2-comm
IOPIN 1696 -80 Out
FLAG 848 368 0
FLAG 672 -112 CH1-comm
IOPIN 672 -112 Out
FLAG 1568 -80 CH2-sig
IOPIN 1568 -80 Out
FLAG -816 -80 Vcc
IOPIN -816 -80 Out
FLAG 112 -496 310
IOPIN 112 -496 In
FLAG 96 -352 0
SYMBOL voltage -176 -480 R0
WINDOW 0 -32 56 VBottom 2
WINDOW 3 -22 123 Top 2
WINDOW 123 0 0 Left 2
WINDOW 39 -4 56 VBottom 2
SYMATTR InstName V1
SYMATTR Value SINE(0 310 50)
SYMBOL voltage -224 -592 R90
WINDOW 0 -32 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName V2
SYMATTR Value 15
SYMBOL voltage -304 -592 R90
WINDOW 0 -32 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName V3
SYMATTR Value 15
SYMBOL voltage 320 -592 R90
WINDOW 0 -32 56 VBottom 2
WINDOW 3 32 56 VTop 2
WINDOW 123 0 0 Left 2
WINDOW 39 0 0 Left 2
SYMATTR InstName V4
SYMATTR Value 5
SYMBOL voltage 240 -592 R90
WINDOW 0 -32 56 VBottom 2
WINDOW 3 32 56 VTop 2
WINDOW 123 0 0 Left 2
WINDOW 39 0 0 Left 2
SYMATTR InstName V5
SYMATTR Value 5
SYMBOL cap -256 416 R180
WINDOW 0 24 64 Left 2
WINDOW 3 -17 85 Left 2
SYMATTR InstName C11
SYMATTR Value 500p
SYMBOL res -368 640 M0
SYMATTR InstName R1
SYMATTR Value 100k
SYMBOL res -288 656 M0
SYMATTR InstName R10
SYMATTR Value 10k
SYMBOL res -288 624 R0
SYMATTR InstName R11
SYMATTR Value 100k
SYMBOL cap -432 400 M270
WINDOW 0 32 32 VTop 2
WINDOW 3 0 32 VBottom 2
SYMATTR InstName C13
SYMATTR Value 10n
SYMBOL res -352 272 M0
SYMATTR InstName R13
SYMATTR Value 10k
SYMBOL ind 992 -16 M0
SYMATTR Value 5m
SYMATTR InstName Lm
SYMBOL ind2 1680 240 M180
WINDOW 0 36 80 Left 2
WINDOW 3 36 40 Left 2
SYMATTR InstName L8
SYMATTR Value {Lw}
SYMATTR Type ind
SYMBOL cap 1664 -48 R90
WINDOW 3 32 32 VTop 2
WINDOW 0 0 32 VBottom 2
SYMATTR Value {Ctank}
SYMATTR InstName C14
SYMBOL 4046L -240 512 R90
SYMATTR InstName U3
SYMBOL Digital\\buf -96 336 M270
WINDOW 3 8 120 Invisible 2
SYMATTR Value Vhigh=5
SYMATTR InstName A2
SYMATTR Value2 Td=10n
SYMBOL res 352 -256 R0
WINDOW 0 -28 40 Left 2
WINDOW 3 -31 74 Left 2
SYMATTR InstName R5
SYMATTR Value 35
SYMBOL res 352 -32 R0
WINDOW 0 -38 52 Left 2
WINDOW 3 -41 83 Left 2
SYMATTR InstName R8
SYMATTR Value 35
SYMBOL res 736 672 R180
WINDOW 0 36 76 Left 2
WINDOW 3 36 40 Left 2
SYMATTR InstName R4
SYMATTR Value 10
SYMBOL res 736 640 M0
SYMATTR InstName R6
SYMATTR Value 510
SYMBOL res 832 640 M0
SYMATTR InstName R7
SYMATTR Value 510
SYMBOL diode 608 640 R180
WINDOW 0 24 72 Left 2
WINDOW 3 -62 111 Left 2
SYMATTR InstName D3
SYMATTR Value 1N4148
SYMBOL res 592 672 R270
WINDOW 0 32 56 VTop 2
WINDOW 3 0 56 VBottom 2
SYMATTR InstName R21
SYMATTR Value 10k
SYMBOL diode 576 576 M0
WINDOW 0 31 -18 Left 2
WINDOW 3 10 -48 Left 2
SYMATTR InstName D4
SYMATTR Value 1N4148
SYMBOL res 384 608 R180
WINDOW 0 36 76 Left 2
WINDOW 3 36 40 Left 2
SYMATTR InstName R9
SYMATTR Value 3k
SYMBOL Digital\\buf 160 688 R180
WINDOW 3 8 120 Invisible 2
SYMATTR Value Vhigh=5
SYMATTR InstName A1
SYMATTR Value2 Td=10n
SYMBOL cap 768 -80 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C1
SYMATTR Value {Cdc}
SYMBOL ind2 1536 272 M0
WINDOW 0 -33 24 Left 2
WINDOW 3 -59 91 Left 2
SYMATTR InstName L1
SYMATTR Value 0.01µ
SYMATTR Type ind
SYMBOL res 128 -176 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R14
SYMATTR Value 12
SYMBOL res 128 144 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R18
SYMATTR Value 12
SYMBOL IR2110A -176 -16 R0
SYMATTR InstName X2
SYMBOL cap -64 -112 R0
SYMATTR InstName C2
SYMATTR Value 47µ
SYMBOL cap -64 16 R0
SYMATTR InstName C3
SYMATTR Value 47µ
SYMBOL diode 0 -32 M180
WINDOW 0 24 72 Left 2
WINDOW 3 24 0 Left 2
SYMATTR InstName D5
SYMATTR Value DI_UF5408
SYMBOL IR2104A -464 -96 R0
SYMATTR InstName X4
SYMBOL cap -400 -176 R0
WINDOW 3 41 37 Left 2
SYMATTR Value 100n
SYMATTR InstName C7
SYMBOL cap -592 -144 R0
SYMATTR InstName C8
SYMATTR Value 100n
SYMBOL cap -272 -32 M0
SYMATTR InstName C9
SYMATTR Value 10µ
SYMBOL cap 352 -144 R0
WINDOW 0 21 59 Left 2
WINDOW 3 56 56 Left 2
SYMATTR InstName C4
SYMATTR Value 4.4n
SYMBOL cap 352 176 R0
WINDOW 3 60 8 Left 2
SYMATTR Value 4.4n
SYMATTR InstName C5
SYMBOL ind 848 -48 R270
WINDOW 0 32 56 VTop 2
WINDOW 3 4 56 VBottom 2
SYMATTR InstName LleakageP_ch3-sig
SYMATTR Value 50µ
SYMBOL diode 224 -272 M180
WINDOW 0 24 72 Left 2
WINDOW 3 24 0 Left 2
SYMATTR InstName D2
SYMATTR Value HFA30PA60C
SYMBOL diode 224 144 M180
WINDOW 0 24 72 Left 2
WINDOW 3 24 0 Left 2
SYMATTR InstName D7
SYMATTR Value HFA30PA60C
SYMBOL ind2 1456 384 M180
WINDOW 0 -84 80 Left 2
WINDOW 3 -80 44 Left 2
SYMATTR InstName L6
SYMATTR Value 3.3m
SYMATTR SpiceLine Rser=0.01
SYMBOL ind2 672 128 R90
WINDOW 0 -1 100 VBottom 2
WINDOW 3 -23 10 VTop 2
SYMATTR InstName L9
SYMATTR Value 0.01µ
SYMATTR Type ind
SYMBOL XFMR1 1072 128 R0
SYMATTR InstName U7
SYMBOL ind 1392 -16 M270
WINDOW 0 32 56 VTop 2
WINDOW 3 4 56 VBottom 2
SYMATTR InstName LleakageS
SYMATTR Value {50µ/576};576=n^2
SYMBOL res 1232 240 R0
SYMATTR InstName R19
SYMATTR Value 100G
SYMBOL cap 480 -144 R180
WINDOW 0 24 64 Left 2
WINDOW 3 24 8 Left 2
SYMATTR InstName C16
SYMATTR Value 9.4µ
SYMATTR SpiceLine Rpar=100k
SYMBOL ind2 1888 240 R180
WINDOW 0 -30 87 Left 2
WINDOW 3 -64 28 Left 2
SYMATTR InstName L2
SYMATTR Value 0.1µ
SYMATTR Type ind
SYMBOL res 1952 112 R0
SYMATTR InstName R12
SYMATTR Value 0.05
SYMBOL Digital\\buf 112 512 R180
WINDOW 3 8 120 Invisible 2
WINDOW 123 -110 85 Left 2
SYMATTR Value Vhigh=5
SYMATTR Value2 Td=1600n
SYMATTR InstName A4
SYMBOL res 976 128 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R_Loses-p
SYMATTR Value 10
SYMBOL cap 480 96 R180
WINDOW 0 24 64 Left 2
WINDOW 3 24 8 Left 2
SYMATTR InstName C10
SYMATTR Value 9.4µ
SYMATTR SpiceLine Rpar=100k
SYMBOL schottky 224 -336 M0
SYMATTR InstName D1
SYMATTR Value mbr20200ct
SYMATTR Description Diode
SYMATTR Type diode
SYMBOL schottky 224 0 M0
SYMATTR InstName D8
SYMATTR Value mbr20200ct
SYMATTR Description Diode
SYMATTR Type diode
SYMBOL res 832 240 R0
SYMATTR InstName R2
SYMATTR Value 100G
SYMBOL res 1536 112 M0
SYMATTR InstName R3
SYMATTR Value 0.1
SYMBOL res 1616 176 M0
SYMATTR InstName R15
SYMATTR Value 0.01
SYMBOL PDMonAdevSH3 -720 -112 R0
WINDOW 39 3 -85 Bottom 2
SYMATTR SpiceLine LEVEL=100 Tbuf=2500n
SYMATTR InstName X3
SYMBOL Chopper2 -16 -432 R0
SYMATTR InstName X1
SYMBOL Robertugo\\comp5_all 448 560 M0
SYMATTR InstName U4
SYMATTR SpiceModel LM339
TEXT -144 -304 Left 2 !.tran 20m
TEXT 1784 280 VLeft 2 ;INDUCTION HEATER
TEXT -520 272 Left 2 ;LPF
TEXT -16 -824 Left 2 ;**************************************************RESONANT INDUCTION HEATER ***************************************************************\nThis model is adequate to real INDUCTION HEATER breadboard construction setup by VANDERBER\nAll three signal were registered Tektronix TDS2004 and have been compared to this model. For oscillogram photo go to\n                                                 http://www.offtop.ru/gauss2k/v7_625902_89.php\nAcknowledgements : \nJAB(concepts,discussion,fix), komrad.isaev(discussion, fix Cdc), KSV(fix, discussion, "negative" TD,PDM), N_N(Current Transformer), Jaxon(ZCD) and ALL forum members.
TEXT 504 -600 Left 2 !* ic taken from IR2110A_test Gate Driver\n* IR2104 And IR2110 by Helmut Sennewald\n.options reltol=1e-2\n.options trtol=7\n.options gmin 1e-10\n.options method=gear\n.options maxstep=10n
TEXT 1472 -280 Left 2 !.param Cdc=62n Ctank=3.2u Lw=1.45u\n+F={1/2/pi/sqrt(Ctank*Lw)}
TEXT 776 488 Right 2 ;Jaxon`s ZCD
TEXT 544 64 Left 2 ;K4 L1 L6 0.95
TEXT 1032 176 Left 2 !.param ratio=-0.05
TEXT 1824 240 VLeft 2 ;K2 L8 L2 0.5
TEXT 1032 -112 Left 2 ;Ideal Transformer\nOnly Turn Ratio
TEXT 840 -176 Left 2 ;Real Matching Transformer with Turn ratio,\nLopen=LleakageP+Lm, Lshorted=LleakageP and some LleakageS
TEXT 184 520 Left 2 ;K155TL2
TEXT 496 -368 Left 2 ;Not needed for resonance -> : (C16+C10)=18.4u, 1/(1/18.4+1/C1)~C1\nIt`s for faster simulation
TEXT 912 576 Left 2 ;Fix convergence problem for Transformer
TEXT 968 776 Left 2 ;One of possible PLL control
TEXT 1576 608 Left 2 ;Comment this for hot inductor\nor change R12 to 1, 2, 3, ...Om (R12=f(temperature))
TEXT 1856 392 Left 2 ;Load - aluminum, a steel or similar
TEXT -640 936 Left 2 ;vanderber@gmail.com, Pogankin@yahoo.com
TEXT 1296 504 Left 2 ;You can use L1 for PLL control\n - the result is slightly different
TEXT 1552 440 Left 2 !K4 L1 L6 0.95
TEXT 984 -304 Left 2 ;*XFMR1.\n*Design by Christophe Basso\n*Adapted for LTSpice by Yuri Krivtsov\n*Last modified April 2008
TEXT 1408 432 Left 2 ;Current\nTransformer
TEXT -864 -288 Left 2 ;PULSE DENSITY MODULATOR\nset level to 1....100 - 1%...100%
LINE Normal 1504 400 1504 240
LINE Normal 1488 400 1488 400
LINE Normal 1488 400 1488 240
LINE Normal 640 -320 480 16
LINE Normal 720 -320 640 -320
LINE Normal 640 -320 512 -224
LINE Normal 1152 512 912 384
LINE Normal 1264 400 1152 512
LINE Normal 1152 560 1152 512
LINE Normal -16 288 -16 800 2
LINE Normal 512 288 -16 288 2
LINE Normal 512 16 512 288 2
LINE Normal 752 16 512 16 2
LINE Normal 752 400 752 16 2
LINE Normal 896 400 752 400 2
LINE Normal 896 800 896 400 2
LINE Normal -16 800 896 800 2
LINE Normal 1184 800 896 800 2
LINE Normal 1728 592 1824 512
RECTANGLE Normal 1808 384 1664 -48
RECTANGLE Normal 320 752 832 432
RECTANGLE Normal 1232 192 1024 -128 2
RECTANGLE Normal 1456 208 832 -192
RECTANGLE Normal 32 720 288 352
RECTANGLE Normal -528 416 -352 240
RECTANGLE Normal 2208 432 1856 64
RECTANGLE Normal 1552 480 1360 224 2
CIRCLE Normal 528 -112 400 -240 2
CIRCLE Normal 512 128 384 0 2
CIRCLE Normal 944 400 784 240 2
CIRCLE Normal 1344 400 1184 240 2
CIRCLE Normal 1856 512 1792 64
