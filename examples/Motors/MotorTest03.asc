Version 4
SHEET 1 880 804
WIRE -512 -64 -528 -64
WIRE -224 -64 -512 -64
WIRE -112 -64 -224 -64
WIRE -528 -32 -528 -64
WIRE -224 -32 -224 -64
WIRE 128 -16 112 -16
WIRE -304 0 -320 0
WIRE 128 16 112 16
WIRE -80 32 -144 32
WIRE 128 48 112 48
WIRE -528 64 -528 48
WIRE -304 64 -320 64
WIRE -1088 112 -1360 112
WIRE -576 128 -592 128
WIRE -224 128 -224 96
WIRE -224 128 -400 128
WIRE 112 128 96 128
WIRE -112 144 -112 -64
WIRE -112 144 -224 144
WIRE -1088 160 -1088 112
WIRE 240 160 176 160
WIRE -576 176 -592 176
WIRE -224 176 -224 144
WIRE -1152 192 -1248 192
WIRE -992 192 -1024 192
WIRE -784 192 -992 192
WIRE 96 192 64 192
WIRE 256 192 240 192
WIRE -304 208 -320 208
WIRE -1360 224 -1360 112
WIRE -1248 224 -1248 192
WIRE -576 224 -592 224
WIRE -992 240 -1024 240
WIRE -784 240 -992 240
WIRE -80 240 -144 240
WIRE 96 240 64 240
WIRE 256 240 240 240
WIRE -576 272 -592 272
WIRE -304 272 -320 272
WIRE -992 288 -1024 288
WIRE -784 288 -992 288
WIRE 96 288 64 288
WIRE 256 288 240 288
WIRE -1360 320 -1360 304
WIRE -1248 320 -1248 304
WIRE -576 320 -592 320
WIRE -400 336 -400 128
WIRE -224 336 -224 304
WIRE -224 336 -400 336
WIRE -1120 352 -1120 320
WIRE -112 352 -112 144
WIRE -112 352 -224 352
WIRE -784 368 -1008 368
WIRE -576 368 -592 368
WIRE -224 384 -224 352
WIRE -1008 416 -1008 368
WIRE -304 416 -320 416
WIRE -80 448 -144 448
WIRE -304 480 -320 480
WIRE -1008 512 -1008 496
WIRE -400 528 -400 336
WIRE -224 528 -224 512
WIRE -224 528 -400 528
WIRE -224 560 -224 528
FLAG 240 160 Angle
IOPIN 240 160 Out
FLAG 256 288 RPS
IOPIN 256 288 Out
FLAG 64 192 AY
IOPIN 64 192 In
FLAG 64 240 BY
IOPIN 64 240 In
FLAG 64 288 CY
IOPIN 64 288 In
FLAG 112 -16 H1
IOPIN 112 -16 Out
FLAG 112 16 H2
IOPIN 112 16 Out
FLAG 112 48 H3
IOPIN 112 48 Out
FLAG -576 128 TA
FLAG -576 176 TB
FLAG -576 320 BB
FLAG -576 224 TC
FLAG -576 368 BC
FLAG -576 272 BA
FLAG -320 0 TA
FLAG -320 208 TB
FLAG -320 416 TC
FLAG -320 64 BA
FLAG -320 272 BB
FLAG -320 480 BC
FLAG -528 64 0
FLAG -1008 512 0
FLAG -224 560 0
FLAG 240 128 Tout
IOPIN 240 128 Out
FLAG -1248 320 0
FLAG -80 32 AY
IOPIN -80 32 Out
FLAG -80 448 CY
IOPIN -80 448 Out
FLAG -80 240 BY
IOPIN -80 240 Out
FLAG -992 192 A
FLAG -992 240 B
FLAG -992 288 C
FLAG -1360 320 0
FLAG -1120 352 Angle
FLAG -512 -64 VHV
FLAG 96 128 Tin
IOPIN 96 128 In
FLAG 256 192 Jload
IOPIN 256 192 In
FLAG 256 240 Dload
IOPIN 256 240 In
SYMBOL voltage -1008 400 R0
SYMATTR InstName V2
SYMATTR Value 5
SYMBOL driverx -240 32 R0
SYMATTR InstName X3
SYMBOL driverx -240 240 R0
SYMATTR InstName X4
SYMBOL driverx -240 448 R0
SYMATTR InstName X5
SYMBOL voltage -1248 208 R0
SYMATTR InstName V5
SYMATTR Value {CV}
SYMBOL voltage -1360 208 R0
SYMATTR InstName V3
SYMATTR Value 5
SYMBOL bv -528 -48 R0
SYMATTR InstName B1
SYMATTR Value V=24
SYMBOL TDRIVER -1072 240 R0
SYMATTR InstName U2
SYMATTR SpiceLine Npp={Npp} F=20kHz
SYMBOL TPLD -688 256 R0
SYMATTR InstName U1
SYMBOL BLDC 176 240 R0
SYMATTR SpiceLine Ph=0
SYMATTR InstName U3
TEXT 120 448 Left 0 !.tran 50m
TEXT -1360 -96 Left 0 ;Brushless DC Motor Model Test with Semi-Sinusoidal PWM Drive 2.\n(c) Peter KAPAS Nov. 24. 2006 - Sept. 07.2009\npkapas@sbcglobal.net
TEXT -784 480 Left 0 !.param CV=1
TEXT -784 512 Left 0 ;-1 <= CV <= 1
TEXT 120 352 Left 0 !.param Npp=4
TEXT -1360 16 Left 0 ;For optimal Performance end Efficiency of PWMsin \nDrive the right Set-Up of [Dev] and [Offs] Parameters\nare Required. (see SpiceLine2 in PWMsin)
TEXT -304 -96 Left 0 ;3-Phase Bridge
TEXT -1024 128 Left 0 ;F - PWM Frequency
TEXT -1360 552 Left 0 ;Dev & Offs Depends on The Motor's Parameters
