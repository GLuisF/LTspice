Version 4
SHEET 1 1612 680
WIRE 80 96 48 96
WIRE 336 96 304 96
WIRE 464 112 384 112
WIRE 464 128 464 112
WIRE 80 160 16 160
WIRE 352 160 304 160
WIRE 80 224 -16 224
WIRE 464 224 464 208
WIRE 464 224 304 224
WIRE 512 224 464 224
WIRE 64 288 -80 288
WIRE 80 288 64 288
WIRE 656 288 304 288
WIRE -80 320 -80 288
WIRE 64 320 64 288
WIRE 336 320 336 96
WIRE 336 320 64 320
WIRE 16 336 16 160
WIRE 464 336 464 224
WIRE 464 336 16 336
WIRE -16 368 -16 224
WIRE 176 368 -16 368
WIRE 384 368 384 112
WIRE 384 368 176 368
WIRE 464 368 464 336
WIRE 656 368 656 288
WIRE -80 416 -80 400
WIRE -48 416 -80 416
WIRE -48 432 -48 416
WIRE -80 464 -80 416
WIRE 48 464 48 96
WIRE 48 464 -80 464
WIRE 464 464 464 432
WIRE 464 464 48 464
WIRE 656 464 656 448
WIRE 656 464 464 464
FLAG -48 432 0
FLAG 176 368 Out555
FLAG 512 224 Ramp
IOPIN 512 224 Out
SYMBOL voltage -80 304 R0
WINDOW 3 -30 58 Left 0
WINDOW 0 11 5 Left 0
SYMATTR Value {vdd}
SYMATTR InstName V+
SYMBOL Robertugo\\555_ALL 240 208 R0
WINDOW 38 -93 79 Left 0
SYMATTR InstName U1
SYMBOL cap 448 368 R0
WINDOW 0 -29 9 Left 0
WINDOW 3 -47 52 Left 0
SYMATTR InstName Ct
SYMATTR Value 2n7
SYMBOL res 480 224 R180
WINDOW 0 36 76 Left 0
WINDOW 3 36 40 Left 0
SYMATTR InstName Rtoff
SYMATTR Value 10k
SYMBOL voltage 656 352 R0
WINDOW 3 -116 92 Left 0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
WINDOW 0 -27 59 Left 0
SYMATTR Value {vpwm}
SYMATTR InstName Vctrl
TEXT 734 144 Left 0 !.tran 0 2m 0 2u
TEXT 736 168 Left 0 !.params: Vdd 12 Ronx=.1\n.step param Vpwm 2 11 1\n.meas tran ta FIND time WHEN V(out555)={Vdd/2} td=.5m rise=1\n.meas tran tb FIND time WHEN V(out555)={Vdd/2} td=.5m rise=11\n.meas tran Frec PARAM 10/(tb-ta)\n.Meas tran Tc FIND time WHEN V(Out555)={Vdd/2} td=.5m fall=1\n.Meas tran Td FIND time WHEN V(Out555)={Vdd/2} td=.5m fall=2\n.Meas tran T1 Param  (Tc-Ta)\n.Meas tran T2  Param  (Td-Ta)\n.Meas tran Ton Param If (T1>0, T1, T2)\n.Meas tran Duty% Param  Ton*Frec*100
