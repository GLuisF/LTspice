Version 4
SHEET 1 2220 784
WIRE -672 112 -848 112
WIRE 176 112 -192 112
WIRE -480 128 -544 128
WIRE -736 160 -784 160
WIRE -176 160 -240 160
WIRE 176 160 176 112
WIRE 176 160 48 160
WIRE -608 176 -624 176
WIRE -784 192 -784 160
WIRE -624 192 -624 176
WIRE -848 208 -848 112
WIRE -176 224 -288 224
WIRE 80 224 48 224
WIRE -544 240 -544 224
WIRE -672 256 -672 208
WIRE -480 256 -480 128
WIRE -480 256 -672 256
WIRE -336 256 -480 256
WIRE -288 256 -288 224
WIRE -288 256 -336 256
WIRE 176 272 176 160
WIRE -784 288 -784 272
WIRE -352 288 -784 288
WIRE -176 288 -352 288
WIRE 80 288 48 288
WIRE -624 304 -624 272
WIRE -848 320 -848 288
WIRE -336 320 -336 256
WIRE -336 320 -384 320
WIRE -544 336 -544 320
WIRE -384 336 -384 320
WIRE -192 352 -192 112
WIRE -176 352 -192 352
WIRE 112 352 48 352
WIRE -336 384 -336 320
WIRE 80 384 80 288
WIRE 80 384 -336 384
WIRE 176 384 176 352
WIRE 176 384 144 384
WIRE 144 400 144 384
WIRE -848 432 -848 400
WIRE -544 432 -544 416
WIRE -544 432 -848 432
WIRE -384 432 -384 400
WIRE -384 432 -544 432
WIRE -240 432 -240 160
WIRE -240 432 -384 432
WIRE 112 432 112 416
WIRE 112 432 -240 432
WIRE 176 432 176 384
WIRE 176 432 112 432
FLAG 144 400 0
FLAG -352 288 Out
IOPIN -352 288 Out
FLAG 80 224 Od
IOPIN 80 224 Out
FLAG -624 304 Od
IOPIN -624 304 Out
SYMBOL cap -368 400 R180
WINDOW 0 24 54 Left 0
WINDOW 3 24 8 Left 0
SYMATTR InstName Ct
SYMATTR Value 1n
SYMATTR SpiceLine V=50v
SYMBOL 555_ALL -16 272 R0
WINDOW 38 -83 78 Left 0
SYMATTR InstName U1
SYMBOL cap 128 416 R180
WINDOW 0 72 11 Left 0
WINDOW 3 24 8 Left 0
SYMATTR InstName Cbp
SYMATTR Value 10n
SYMATTR SpiceLine V=50v
SYMBOL voltage 176 256 R0
WINDOW 0 -51 22 Left 0
WINDOW 3 -29 58 Left 0
SYMATTR InstName V+
SYMATTR Value {Vdd}
SYMBOL npn2 -736 112 R0
WINDOW 0 -24 27 Left 0
WINDOW 3 21 50 Left 0
SYMATTR InstName Q1
SYMATTR Value BC548A
SYMBOL res -800 176 R0
SYMATTR InstName R1
SYMATTR Value 10k
SYMBOL voltage -848 304 R0
WINDOW 0 16 11 Left 0
WINDOW 3 -13 58 Left 0
WINDOW 123 0 0 Left 0
WINDOW 39 -29 86 Left 0
SYMATTR InstName Vmark
SYMATTR Value 15
SYMBOL res -864 192 R0
SYMATTR InstName R2
SYMATTR Value 470
SYMBOL pnp2 -608 224 M180
WINDOW 0 -24 84 Left 0
WINDOW 3 21 51 Left 0
SYMATTR InstName Q2
SYMATTR Value BC558A
SYMBOL res -560 224 R0
SYMATTR InstName R3
SYMATTR Value 470
SYMBOL voltage -544 320 R0
WINDOW 0 -59 9 Left 0
WINDOW 3 -13 58 Left 0
WINDOW 123 0 0 Left 0
WINDOW 39 -29 86 Left 0
SYMATTR InstName Vspc
SYMATTR Value 1
SYMBOL res -640 176 R0
SYMATTR InstName R4
SYMATTR Value 10k
TEXT -136 128 Left 0 !.tran 300u
TEXT -496 488 Left 0 !.params: Vdd 15 Ronx=.1 pot=91k mark=.01\n;.step param mark .01 .99 .49\n.meas tran ta FIND time WHEN V(out)={Vdd/2} td=.1m rise=1\n.meas tran tb FIND time WHEN V(out)={Vdd/2} td=.1m rise=11\n.meas tran Frec PARAM 10/(tb-ta)\n.Meas tran Tc FIND time WHEN V(Out)={Vdd/2} td=.1m fall=1\n.Meas tran Td FIND time WHEN V(Out)={Vdd/2} td=.1m fall=2\n.Meas tran T1 Param  (Tc-Ta)\n.Meas tran T2  Param  (Td-Ta)\n.Meas tran Ton Param If (T1>0, T1, T2)\n.Meas tran Duty% Param  Ton*Frec*100
