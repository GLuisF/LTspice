Version 4
SHEET 1 1124 680
WIRE -304 112 -384 112
WIRE -192 112 -224 112
WIRE 176 112 -192 112
WIRE -336 128 -416 128
WIRE -384 160 -384 112
WIRE -368 160 -384 160
WIRE -272 160 -304 160
WIRE -176 160 -240 160
WIRE 176 160 176 112
WIRE 176 160 48 160
WIRE -272 224 -272 160
WIRE -176 224 -272 224
WIRE 80 224 48 224
WIRE -416 256 -416 128
WIRE -352 256 -416 256
WIRE -272 256 -272 224
WIRE -272 256 -288 256
WIRE 176 272 176 160
WIRE -176 288 -208 288
WIRE 80 288 48 288
WIRE -272 320 -272 256
WIRE -272 320 -320 320
WIRE -416 336 -416 256
WIRE -320 336 -320 320
WIRE -192 352 -192 112
WIRE -176 352 -192 352
WIRE 112 352 48 352
WIRE -272 384 -272 320
WIRE 80 384 80 288
WIRE 80 384 -272 384
WIRE 176 384 176 352
WIRE 176 384 144 384
WIRE 144 400 144 384
WIRE -208 416 -208 288
WIRE -192 416 -208 416
WIRE -320 432 -320 400
WIRE -240 432 -240 160
WIRE -240 432 -320 432
WIRE 112 432 112 416
WIRE 112 432 -240 432
WIRE 176 432 176 384
WIRE 176 432 112 432
FLAG 144 400 0
FLAG -192 416 Out
IOPIN -192 416 Out
FLAG 80 224 Od
IOPIN 80 224 Out
FLAG -416 336 Od
IOPIN -416 336 In
SYMBOL cap -304 400 R180
WINDOW 0 24 54 Left 0
WINDOW 3 24 8 Left 0
SYMATTR InstName Ct
SYMATTR Value 1n
SYMATTR SpiceLine V=50v
SYMBOL diode -352 240 M90
WINDOW 0 17 -5 VBottom 0
WINDOW 3 -34 33 Invisible 0
SYMATTR InstName D1
SYMATTR Value 1N914
SYMBOL 555_ALL -16 272 R0
WINDOW 38 -83 78 Left 0
SYMATTR InstName U1
SYMBOL cap 128 416 R180
WINDOW 0 72 11 Left 0
WINDOW 3 24 8 Left 0
SYMATTR InstName Cbp
SYMATTR Value 10n
SYMATTR SpiceLine V=50v
SYMBOL Pote -272 144 R90
WINDOW 123 71 65 VCenter 0
WINDOW 3 72 64 Invisible 0
WINDOW 0 50 32 VRight 0
SYMATTR Value2 set=mark
SYMATTR Value rt=pot
SYMATTR InstName Pwm
SYMBOL voltage 176 256 R0
WINDOW 0 -51 22 Left 0
WINDOW 3 -29 58 Left 0
SYMATTR InstName V+
SYMATTR Value {Vdd}
SYMBOL res -208 96 R90
WINDOW 0 46 103 VBottom 0
WINDOW 3 16 8 VTop 0
SYMATTR InstName Rf
SYMATTR Value 1k
TEXT -136 128 Left 0 !.tran 0 {mark*pot/1e7} 0 1u
TEXT 216 136 Left 0 !.params: Vdd 12 Ronx=.1 pot=91k\n.step param mark .1 .9 .4\n.meas tran ta FIND time WHEN V(out)={Vdd/2} td=.1m rise=1\n.meas tran tb FIND time WHEN V(out)={Vdd/2} td=.1m rise=11\n.meas tran Frec PARAM 10/(tb-ta)\n.Meas tran Tc FIND time WHEN V(Out)={Vdd/2} td=.1m fall=1\n.Meas tran Td FIND time WHEN V(Out)={Vdd/2} td=.1m fall=2\n.Meas tran T1 Param  (Tc-Ta)\n.Meas tran T2  Param  (Td-Ta)\n.Meas tran Ton Param If (T1>0, T1, T2)\n.Meas tran Duty% Param  Ton*Frec*100
