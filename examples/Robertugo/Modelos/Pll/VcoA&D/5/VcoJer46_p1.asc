Version 4
SHEET 1 900 680
WIRE -304 192 -304 160
WIRE -304 304 -304 192
WIRE -304 432 -304 384
WIRE -304 464 -304 432
WIRE -208 304 -208 224
WIRE -208 432 -304 432
WIRE -208 432 -208 384
WIRE -176 224 -208 224
WIRE -80 320 -80 256
WIRE -80 432 -208 432
WIRE -80 432 -80 400
WIRE -64 256 -80 256
WIRE 32 336 32 288
WIRE 32 432 -80 432
WIRE 32 432 32 416
WIRE 176 160 -304 160
WIRE 176 192 80 192
WIRE 176 224 -176 224
WIRE 176 256 -64 256
WIRE 176 288 32 288
WIRE 544 432 544 416
WIRE 544 528 544 512
FLAG -304 464 0
FLAG -304 192 In
FLAG -176 224 Ks
FLAG -64 256 R
FLAG 80 192 0ut
IOPIN 80 192 Out
FLAG 544 528 0
FLAG 544 416 Vfmax
IOPIN 544 416 Out
SYMBOL voltage -304 288 R0
WINDOW 0 -22 59 Left 0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
WINDOW 3 778 158 Right 0
SYMATTR InstName VCtl
SYMATTR Value PULSE(0 {Fmax} {1/(Fof*Es)} {1/(Fof*Es)} {1/(Fof*Es)} {3/(Fof*Es)})
SYMBOL voltage -208 288 R0
WINDOW 0 -50 13 Left 0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
WINDOW 3 -24 58 Left 0
SYMATTR InstName Vks
SYMATTR Value {Ks}
SYMBOL voltage -80 304 R0
WINDOW 0 -35 6 Left 0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
WINDOW 3 -40 57 Left 0
SYMATTR InstName Vr
SYMATTR Value {Vdd/2}
SYMBOL vco46a 240 224 R0
WINDOW 3 -36 2 Left 0
SYMATTR InstName X1
SYMBOL voltage 32 320 R0
WINDOW 0 -35 6 Left 0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
WINDOW 3 -25 57 Left 0
SYMATTR InstName Vf0
SYMATTR Value {Fof}
SYMBOL voltage 544 416 R0
WINDOW 0 -44 12 Left 0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
WINDOW 3 -36 57 Left 0
SYMATTR InstName Vf1
SYMATTR Value {Fmax}
TEXT 64 376 Left 0 !.tran 0 {2/(Fof*Es)+5/(Fof*Es)} 0 {(1/Ks)*2u}
TEXT -280 472 Left 0 !.params Ks=2e2*{Vdd/10} cval=.159154943u Vdd=10 Es=1k\n.params R2=1e4 C1=100p Fof=2.5e-4*{VDD}/({R2}*({C1}+33p))\n.params R1=10k Fmax=6e-7*{VDD}/({R1}*({C1}+33p))
TEXT -296 144 Left 0 ;Ks=Sens(Khz/volt) Fof=FrecOffset(Khz)
TEXT 312 288 Left 0 ;MaxTimeStep={(1/Ks)*2u}
TEXT 80 336 Left 0 ;.tran 0 {2/(F0*Es)+5/(F0*Es)} 0 {(1/Ks)*2u}
TEXT -328 552 Left 0 ;PULSE(0 {Vdd-(Fof/Ks)} {1/(Fof*Es)} {1/(Fof*Es)} {1/(Fof*Es)} {3/(Fof*Es)})
