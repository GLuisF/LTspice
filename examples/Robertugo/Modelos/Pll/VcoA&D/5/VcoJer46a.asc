Version 4
SHEET 1 900 680
WIRE -304 192 -304 160
WIRE -304 304 -304 192
WIRE -304 432 -304 384
WIRE -304 464 -304 432
WIRE -208 304 -208 224
WIRE -208 432 -304 432
WIRE -208 432 -208 384
WIRE -176 224 -208 224
WIRE -80 320 -80 256
WIRE -80 432 -208 432
WIRE -80 432 -80 400
WIRE -64 256 -80 256
WIRE 32 336 32 288
WIRE 32 432 -80 432
WIRE 32 432 32 416
WIRE 176 160 -304 160
WIRE 176 192 80 192
WIRE 176 224 -176 224
WIRE 176 256 -64 256
WIRE 176 288 32 288
FLAG -304 464 0
FLAG -304 192 In
FLAG -176 224 Ks
FLAG -64 256 R
FLAG 80 192 0ut
IOPIN 80 192 Out
SYMBOL voltage -304 288 R0
WINDOW 0 -22 59 Left 0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
WINDOW 3 893 160 Right 0
SYMATTR InstName VCtl
SYMATTR Value PULSE(0 {Vdd-(F0/Ks)} {1/(F0*Es)} {1/(F0*Es)} {1/(F0*Es)} {3/(F0*Es)})
SYMBOL voltage -208 288 R0
WINDOW 0 -50 13 Left 0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
WINDOW 3 -24 58 Left 0
SYMATTR InstName Vks
SYMATTR Value {Ks}
SYMBOL voltage -80 304 R0
WINDOW 0 -35 6 Left 0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
WINDOW 3 -40 57 Left 0
SYMATTR InstName Vr
SYMATTR Value {Vdd/2}
SYMBOL vco46a 240 224 R0
WINDOW 3 -36 2 Left 0
SYMATTR InstName X1
SYMBOL voltage 32 320 R0
WINDOW 0 -35 6 Left 0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
WINDOW 3 -20 57 Left 0
SYMATTR InstName Vf0
SYMATTR Value {F0}
TEXT 80 376 Left 0 !.tran 0 {2/(F0*Es)+5/(F0*Es)} 0 {(1/Ks)*2u}
TEXT -280 472 Left 0 !.params Ks=1e3 f0=1e3 cval=.159154943u Vdd=10 Es=1k
TEXT -296 144 Left 0 ;Ks=Sens(Khz/volt) Fo=FrecOffset(Khz)
TEXT 312 288 Left 0 ;MaxTimeStep={(1/Ks)*2u}
TEXT 80 336 Left 0 ;.tran 0 {2/(F0*Es)+5/(F0*Es)} 0 {(1/Ks)*2u}
