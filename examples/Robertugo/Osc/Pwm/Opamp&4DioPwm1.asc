Version 4
SHEET 1 1444 680
WIRE 368 144 16 144
WIRE 16 176 16 144
WIRE 48 176 16 176
WIRE 144 176 112 176
WIRE 272 176 208 176
WIRE 368 176 368 144
WIRE 368 176 336 176
WIRE 384 176 368 176
WIRE 480 176 464 176
WIRE 528 208 288 208
WIRE 624 208 528 208
WIRE 288 224 288 208
WIRE 176 240 176 208
WIRE 176 240 16 240
WIRE 256 240 176 240
WIRE 16 256 16 240
WIRE 384 256 320 256
WIRE 432 256 384 256
WIRE 480 256 480 176
WIRE 480 256 432 256
WIRE 256 272 224 272
WIRE 384 272 384 256
WIRE 528 272 528 208
WIRE 624 336 624 208
WIRE 16 352 16 320
WIRE 112 352 16 352
WIRE 224 368 224 272
WIRE 384 368 384 352
WIRE 384 368 224 368
WIRE 528 368 528 352
WIRE 528 368 384 368
WIRE 16 384 16 352
WIRE 112 384 112 352
WIRE 224 384 224 368
WIRE 624 432 624 416
WIRE 624 432 592 432
WIRE 592 448 592 432
WIRE 16 480 16 448
WIRE 112 480 112 448
WIRE 112 480 16 480
WIRE 224 480 224 464
WIRE 224 480 112 480
WIRE 288 480 288 288
WIRE 288 480 224 480
WIRE 624 480 624 432
WIRE 624 480 288 480
FLAG 592 448 0
FLAG 432 256 Out
SYMBOL Robertugo\\pote 112 192 R270
WINDOW 0 30 17 VCenter 0
WINDOW 3 30 135 VCenter 0
WINDOW 123 -62 57 VCenter 0
SYMATTR InstName U1
SYMATTR Value Rt=1e5
SYMATTR Value2 Set={cursor}
SYMBOL res 368 256 R0
SYMATTR InstName Rfb
SYMATTR Value 100k
SYMBOL res 208 368 R0
WINDOW 3 24 82 Left 0
WINDOW 0 31 47 Left 0
SYMATTR Value 100k
SYMATTR InstName Rd2
SYMBOL diode 0 384 R0
SYMATTR InstName D1
SYMATTR Value 1N914
SYMBOL diode 96 448 M180
WINDOW 0 25 61 Left 0
WINDOW 3 24 -10 Left 0
SYMATTR InstName D2
SYMATTR Value 1N914
SYMBOL cap 0 256 R0
WINDOW 0 46 8 Left 0
WINDOW 3 41 34 Left 0
SYMATTR InstName Ct
SYMATTR Value 1n
SYMBOL diode 48 160 M90
WINDOW 0 17 -1 VBottom 0
WINDOW 3 35 6 VTop 0
SYMATTR InstName D3
SYMATTR Value 1N914
SYMBOL diode 272 160 M90
WINDOW 0 13 67 VBottom 0
WINDOW 3 22 -22 VTop 0
SYMATTR InstName D4
SYMATTR Value 1N914
SYMBOL voltage 624 320 R0
WINDOW 0 -20 58 Left 0
WINDOW 3 -273 86 Left 0
WINDOW 123 0 0 Left 0
WINDOW 39 -26 85 Left 0
SYMATTR InstName V+
SYMATTR Value PULSE(0 {VDD} 0 1u)
SYMBOL res 512 256 R0
WINDOW 0 33 48 Left 0
WINDOW 3 29 84 Left 0
SYMATTR InstName Rd1
SYMATTR Value 100k
SYMBOL Robertugo\\OPAMP5 288 192 R0
WINDOW 0 -29 64 Left 0
SYMATTR InstName U2
SYMATTR SpiceModel TL082
SYMBOL res 480 160 R90
WINDOW 0 10 94 VBottom 0
WINDOW 3 -13 5 VTop 0
SYMATTR InstName Rf
SYMATTR Value 1e4
TEXT 678 168 Left 0 !.tran 0 2m 0
TEXT 680 192 Left 0 !.step param cursor .05 .95 .15\n.param Vdd=12\n.meas tran ta FIND time WHEN V(out)={Vdd/2} td=1m rise=1\n.meas tran tb FIND time WHEN V(out)={Vdd/2} td=1m rise=11\n.meas tran Frec PARAM 10/(tb-ta)\n.Meas tran Tc FIND time WHEN V(Out)={Vdd/2} td=1m fall=1\n.Meas tran Td FIND time WHEN V(Out)={Vdd/2} td=1m fall=2\n.Meas tran T1 Param  (Tc-Ta)\n.Meas tran T2  Param  (Td-Ta)\n.Meas tran Ton Param If (T1>0, T1, T2)\n.Meas tran Duty% Param  Ton*Frec*100
