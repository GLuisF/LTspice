Version 4
SHEET 1 1040 692
WIRE 0 400 0 368
WIRE 0 496 0 480
WIRE 0 512 0 496
WIRE 48 272 48 256
WIRE 48 496 0 496
WIRE 48 496 48 336
WIRE 64 368 0 368
WIRE 160 256 48 256
WIRE 160 336 160 256
WIRE 160 368 144 368
WIRE 160 464 160 368
WIRE 176 336 160 336
WIRE 176 368 160 368
WIRE 176 464 160 464
WIRE 192 256 160 256
WIRE 208 320 208 304
WIRE 208 400 208 384
WIRE 272 352 240 352
WIRE 320 256 272 256
WIRE 320 352 272 352
WIRE 320 352 320 256
WIRE 320 464 256 464
WIRE 320 464 320 352
WIRE 352 256 320 256
WIRE 384 304 208 304
WIRE 384 368 384 304
WIRE 384 496 48 496
WIRE 384 496 384 448
WIRE 464 256 432 256
WIRE 464 368 464 256
WIRE 464 496 384 496
WIRE 464 496 464 448
FLAG 0 512 0
FLAG 208 400 0
FLAG 272 352 Out
SYMBOL voltage 0 384 R0
WINDOW 0 56 59 Left 0
WINDOW 3 -28 59 Left 0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName Vin
SYMATTR Value {Ctrl}
SYMBOL Robertugo\\OPAMP5 208 288 R0
WINDOW 0 -24 63 Left 0
WINDOW 38 22 91 Left 0
SYMATTR InstName U1
SYMATTR SpiceModel TLC393
SYMBOL res 160 352 R90
WINDOW 0 60 78 VBottom 0
WINDOW 3 33 36 VTop 0
SYMATTR InstName R1
SYMATTR Value 10k
SYMBOL res 272 448 R90
WINDOW 0 13 18 VBottom 0
WINDOW 3 -14 -26 VTop 0
SYMATTR InstName R2
SYMATTR Value 1e6
SYMBOL res 288 240 R90
WINDOW 0 0 56 VBottom 0
WINDOW 3 32 56 VTop 0
SYMATTR InstName R3
SYMATTR Value 1e6
SYMBOL cap 32 272 R0
SYMATTR InstName C1
SYMATTR Value 1n
SYMBOL voltage 384 352 R0
WINDOW 0 -49 3 Left 0
WINDOW 3 -12 58 Left 0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName Vcc
SYMATTR Value 12
SYMBOL voltage 464 352 R0
WINDOW 0 -55 4 Left 0
WINDOW 3 -6 59 Left 0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName VOh
SYMATTR Value 5
SYMBOL res 448 240 R90
WINDOW 0 0 56 VBottom 0
WINDOW 3 32 56 VTop 0
SYMATTR InstName R4
SYMATTR Value 10k
TEXT -26 232 Left 0 !.tran 0 2m 0 1u
TEXT -648 264 Left 0 !.meas tran ta FIND time WHEN V(out)=2.5 Td=1m RISE=1\n.meas tran tb FIND time WHEN V(out)=2.5 Td=1m RISE=11\n.meas tran Frec PARAM 10/(tb-ta)\n.Meas tran Tc FIND time WHEN V(Out)=2.5v td=1m fall=1\n.Meas tran Td FIND time WHEN V(Out)=2.5v td=1m fall=2\n.Meas tran T1 Param  (Tc-Ta)\n.Meas tran T2  Param  (Td-Ta)\n.Meas tran Ton Param If (T1>0, T1, T2)\n.Meas tran Duty% Param  Ton*Frec*100
TEXT -408 232 Left 0 !.Step Param Ctrl 1 4 .5
