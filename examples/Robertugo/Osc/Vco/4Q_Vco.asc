Version 4
SHEET 1 880 680
WIRE 224 -32 160 -32
WIRE 304 -32 224 -32
WIRE 512 -32 304 -32
WIRE 592 -32 512 -32
WIRE 640 -32 592 -32
WIRE 704 -32 640 -32
WIRE 160 -16 160 -32
WIRE 224 -16 224 -32
WIRE 512 -16 512 -32
WIRE 592 16 592 -32
WIRE -64 64 -96 64
WIRE 48 64 16 64
WIRE 160 64 160 48
WIRE 160 64 144 64
WIRE 224 64 224 48
WIRE 224 64 160 64
WIRE 336 64 224 64
WIRE 416 64 400 64
WIRE 48 80 48 64
WIRE 144 80 144 64
WIRE 304 80 304 -32
WIRE 416 80 416 64
WIRE 464 80 416 80
WIRE 512 80 512 64
WIRE 512 80 464 80
WIRE 640 80 640 -32
WIRE -96 96 -96 64
WIRE 512 96 512 80
WIRE 224 128 224 64
WIRE 592 144 592 96
WIRE 592 144 576 144
WIRE 464 160 464 80
WIRE 592 160 592 144
WIRE 704 160 704 -32
WIRE 304 176 304 160
WIRE 384 176 304 176
WIRE -96 192 -96 176
WIRE 96 192 96 144
WIRE 96 192 -96 192
WIRE 304 192 304 176
WIRE 96 208 96 192
WIRE 416 208 416 80
WIRE 512 224 512 192
WIRE 224 240 224 128
WIRE 240 240 224 240
WIRE 592 240 592 224
WIRE 592 240 576 240
WIRE 640 240 640 160
WIRE 640 240 592 240
WIRE 640 256 640 240
WIRE 704 256 704 240
WIRE 704 256 672 256
WIRE 672 272 672 256
WIRE 704 272 704 256
WIRE 304 304 304 288
WIRE 416 304 416 288
WIRE 416 304 304 304
WIRE 464 304 464 224
WIRE 464 304 416 304
WIRE 576 304 464 304
WIRE 304 320 304 304
WIRE 384 320 384 176
WIRE 640 384 640 352
WIRE 304 416 304 400
WIRE 384 416 384 400
WIRE 384 416 304 416
WIRE 704 416 704 352
WIRE 704 416 384 416
FLAG 512 224 0
FLAG 640 384 0
FLAG 672 272 0
FLAG 96 208 0
FLAG 576 240 Out
FLAG -96 64 Ctrl
FLAG 224 128 Ramp
SYMBOL voltage 704 256 R180
WINDOW 0 20 100 Left 0
WINDOW 3 -13 57 Left 0
SYMATTR InstName V1
SYMATTR Value 12
SYMBOL pnp2 576 96 M0
WINDOW 0 -1 8 Left 0
WINDOW 3 18 47 Left 0
SYMATTR InstName Q1
SYMATTR Value 2N3906
SYMBOL npn2 240 288 M180
WINDOW 0 -4 87 Left 0
WINDOW 3 21 47 Left 0
SYMATTR InstName Q2
SYMATTR Value 2N3904
SYMBOL res 288 304 R0
SYMATTR InstName R1
SYMATTR Value 27k
SYMBOL res 368 304 R0
SYMATTR InstName R2
SYMATTR Value 12k
SYMBOL res 288 64 R0
WINDOW 0 31 47 Left 0
WINDOW 3 31 88 Left 0
SYMATTR InstName R3
SYMATTR Value 12k
SYMBOL res 496 -32 R0
WINDOW 0 -19 28 Left 0
WINDOW 3 -21 64 Left 0
SYMATTR InstName R4
SYMATTR Value 1k
SYMBOL res 576 0 R0
WINDOW 0 -31 28 Left 0
WINDOW 3 -35 63 Left 0
SYMATTR InstName R5
SYMATTR Value 47k
SYMBOL pnp2 576 256 R0
WINDOW 0 -1 8 Left 0
WINDOW 3 18 47 Left 0
SYMATTR InstName Q3
SYMATTR Value 2N3906
SYMBOL res 400 192 R0
WINDOW 0 30 48 Left 0
WINDOW 3 28 83 Left 0
SYMATTR InstName R6
SYMATTR Value 10k
SYMBOL cap 448 160 R0
WINDOW 3 21 53 Left 0
SYMATTR InstName C1
SYMATTR Value 1n
SYMBOL res 624 64 R0
WINDOW 0 -27 31 Left 0
WINDOW 3 -30 64 Left 0
SYMATTR InstName R7
SYMATTR Value 8k2
SYMBOL cap 576 160 R0
WINDOW 0 20 13 Left 0
WINDOW 3 19 53 Left 0
SYMATTR InstName C2
SYMATTR Value 10n
SYMBOL diode 336 80 R270
WINDOW 0 32 32 VTop 0
WINDOW 3 0 32 Invisible 0
SYMATTR InstName D1
SYMATTR Value 1N914
SYMBOL cap 144 -16 R0
WINDOW 3 21 53 Left 0
SYMATTR InstName C3
SYMATTR Value 150n
SYMBOL pnp2 144 144 M270
WINDOW 0 -1 8 Left 0
WINDOW 3 18 47 Left 0
SYMATTR InstName Q4
SYMATTR Value 2N3906
SYMBOL res 32 48 R90
WINDOW 0 0 56 VBottom 0
WINDOW 3 32 56 VTop 0
SYMATTR InstName R8
SYMATTR Value 10k
SYMBOL voltage 704 368 R180
WINDOW 0 32 30 Left 0
WINDOW 3 -5 57 Left 0
SYMATTR InstName V2
SYMATTR Value 6
SYMBOL voltage -96 80 R0
WINDOW 0 -28 57 Left 0
WINDOW 3 17 98 Left 0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName Vctrl
SYMATTR Value PULSE(1 10 0 1)
SYMBOL diode 208 -16 R0
WINDOW 3 19 59 Left 0
SYMATTR InstName Dobv
SYMATTR Value 1N914
TEXT -130 394 Left 0 !.tran 1 startup
