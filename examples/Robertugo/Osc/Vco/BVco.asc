Version 4
SHEET 1 880 680
WIRE -208 224 -208 208
WIRE -208 336 -208 304
WIRE -208 352 -208 336
WIRE -144 208 -208 208
WIRE -144 224 -144 208
WIRE -144 336 -208 336
WIRE -144 336 -144 304
WIRE -112 208 -144 208
WIRE 0 192 0 160
WIRE 0 336 -144 336
WIRE 0 336 0 272
WIRE 64 160 0 160
WIRE 112 160 64 160
WIRE 112 192 112 160
WIRE 112 336 0 336
WIRE 112 336 112 272
WIRE 224 208 224 160
WIRE 224 336 112 336
WIRE 224 336 224 288
WIRE 288 160 224 160
WIRE 368 160 288 160
WIRE 368 224 368 160
WIRE 368 336 224 336
WIRE 368 336 368 304
FLAG -208 352 0
FLAG -112 208 Ctrl
IOPIN -112 208 Out
FLAG 64 160 Out1
FLAG 288 160 Out2
SYMBOL voltage -208 208 R0
WINDOW 0 -16 58 Left 0
WINDOW 3 -49 -43 VRight 0
WINDOW 123 0 0 Left 0
SYMATTR InstName V1
SYMATTR Value PWL(0 0 1m {pi*2})
SYMBOL res 96 176 R0
WINDOW 0 -37 37 Left 0
WINDOW 3 -32 73 Left 0
SYMATTR InstName R2
SYMATTR Value 1k
SYMBOL bv 0 176 R0
WINDOW 3 -182 182 Left 0
WINDOW 0 -15 60 Left 0
SYMATTR Value V={sin(v(ctrl)*5e3*time)}
SYMATTR InstName B1
SYMBOL res -160 208 R0
SYMATTR InstName R1
SYMATTR Value 1k
SYMBOL bi 224 208 R0
WINDOW 3 -115 151 Left 0
SYMATTR Value I={cos(v(ctrl)**2*1e3*time)/1e3}
SYMATTR InstName B2
SYMBOL res 352 208 R0
WINDOW 0 -43 32 Left 0
WINDOW 3 -42 62 Left 0
SYMATTR InstName R3
SYMATTR Value 1k
TEXT -202 178 Left 0 !.tran 1m
