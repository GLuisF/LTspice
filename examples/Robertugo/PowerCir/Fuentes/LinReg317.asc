Version 4
SHEET 1 880 680
WIRE 224 -32 80 -32
WIRE 416 -32 288 -32
WIRE 80 0 80 -32
WIRE 464 0 80 0
WIRE -112 80 -160 80
WIRE 80 80 80 0
WIRE 80 80 -48 80
WIRE 192 80 80 80
WIRE 416 80 416 -32
WIRE 416 80 320 80
WIRE 448 80 416 80
WIRE 528 80 448 80
WIRE 608 80 528 80
WIRE 672 80 608 80
WIRE 704 80 672 80
WIRE 416 128 416 80
WIRE 608 128 608 80
WIRE 704 128 704 80
WIRE 528 144 528 80
WIRE -160 160 -160 80
WIRE -112 160 -160 160
WIRE 32 160 -48 160
WIRE -160 208 -160 160
WIRE 192 208 144 208
WIRE 144 240 144 208
WIRE 160 240 144 240
WIRE 256 240 256 128
WIRE 256 240 224 240
WIRE 416 240 416 208
WIRE 416 240 256 240
WIRE 528 240 528 208
WIRE 528 240 416 240
WIRE 144 272 144 240
WIRE 240 272 144 272
WIRE 464 272 464 0
WIRE 336 288 320 288
WIRE 448 288 448 80
WIRE 448 288 416 288
WIRE 528 288 528 240
WIRE -160 320 -160 288
WIRE -112 320 -160 320
WIRE 80 320 80 80
WIRE 80 320 -48 320
WIRE 144 320 144 272
WIRE 320 320 320 288
WIRE 320 320 304 320
WIRE 352 320 320 320
WIRE 80 352 80 320
WIRE 32 368 32 160
WIRE 32 368 0 368
WIRE 464 368 464 352
WIRE 464 368 416 368
WIRE 0 384 0 368
WIRE -160 448 -160 320
WIRE -112 448 -160 448
WIRE 32 448 32 368
WIRE 32 448 -48 448
WIRE 80 448 80 416
WIRE 80 448 32 448
WIRE 144 448 144 400
WIRE 144 448 80 448
WIRE 240 448 240 368
WIRE 240 448 144 448
WIRE 352 448 352 416
WIRE 352 448 240 448
WIRE 464 448 352 448
WIRE 528 448 528 352
WIRE 528 448 464 448
WIRE 608 448 608 192
WIRE 608 448 528 448
WIRE 704 448 704 208
WIRE 704 448 608 448
FLAG 0 384 0
FLAG 672 80 Out
SYMBOL Misc\\signal -160 192 R0
WINDOW 0 4 9 Left 0
WINDOW 3 180 52 Right 0
WINDOW 123 0 0 Left 0
SYMATTR InstName V+
SYMATTR Value SINE(0 30 50)
SYMATTR SpiceLine Rser=10m
SYMBOL diode -112 96 R270
WINDOW 0 16 -2 VTop 0
WINDOW 3 44 98 VBottom 0
SYMATTR InstName D1
SYMATTR Value MR760
SYMBOL diode -48 176 M270
WINDOW 0 16 69 VTop 0
WINDOW 3 45 -35 VBottom 0
SYMATTR InstName D2
SYMATTR Value MR760
SYMBOL diode -112 336 R270
WINDOW 0 16 -9 VTop 0
WINDOW 3 44 96 VBottom 0
SYMATTR InstName D3
SYMATTR Value MR760
SYMBOL diode -48 464 M270
WINDOW 0 16 73 VTop 0
WINDOW 3 44 -32 VBottom 0
SYMATTR InstName D4
SYMATTR Value MR760
SYMBOL Robertugo\\reg3all 320 96 R0
SYMATTR InstName U1
SYMATTR SpiceModel LM317Psp
SYMBOL diode 288 -48 R90
WINDOW 0 44 65 VBottom 0
WINDOW 3 16 -45 VTop 0
SYMATTR InstName D5
SYMATTR Value 1N4002
SYMBOL diode 544 208 R180
WINDOW 0 -39 31 Left 0
WINDOW 3 50 -7 VRight 0
SYMATTR InstName D6
SYMATTR Value 1N4002
SYMBOL res 400 112 R0
WINDOW 0 -33 83 Left 0
WINDOW 3 -33 110 Left 0
SYMATTR InstName R1
SYMATTR Value 120
SYMBOL Robertugo\\Pote 128 224 M90
WINDOW 0 -1 19 VRight 0
WINDOW 3 32 97 VRight 0
WINDOW 123 -33 50 VCenter 0
SYMATTR InstName P
SYMATTR Value Rt=2K5
SYMATTR Value2 Set=.85
SYMBOL res 128 304 R0
SYMATTR InstName R2
SYMATTR Value 1k5
SYMBOL npn2 304 272 M0
WINDOW 3 18 51 Left 0
SYMATTR Value BC546A
SYMATTR InstName Q2
SYMBOL npn2 416 320 M0
WINDOW 3 18 51 Left 0
SYMATTR Value BC546A
SYMATTR InstName Q1
SYMBOL res 448 352 R0
SYMATTR InstName R3
SYMATTR Value 1k
SYMBOL res 448 256 R0
WINDOW 0 26 47 Left 0
WINDOW 3 25 87 Left 0
SYMATTR InstName R4
SYMATTR Value 56k
SYMBOL res 432 272 R90
WINDOW 0 17 103 VBottom 0
WINDOW 3 -13 6 VTop 0
SYMATTR InstName R5
SYMATTR Value 10k
SYMBOL res 688 112 R0
WINDOW 0 -67 127 Left 0
WINDOW 3 -40 157 Left 0
SYMATTR InstName RLoad
SYMATTR Value 50
SYMBOL polcap 64 352 R0
WINDOW 3 24 64 Left 0
SYMATTR Value 3m3
SYMATTR InstName Cf1
SYMATTR Description Capacitor
SYMATTR Type cap
SYMATTR SpiceLine V=35 Irms=3.04 Rser=0.017 MTBF=5000 Lser=0 mfg="Nichicon" pn="UPL1V332MRH" type="Al electrolytic" ppPkg=1
SYMBOL polcap 512 288 R0
WINDOW 0 28 14 Left 0
SYMATTR InstName Cf2
SYMATTR Value 10u
SYMATTR Description Capacitor
SYMATTR Type cap
SYMATTR SpiceLine V=50 Irms=170m Rser=1 MTBF=5000 Lser=0 mfg="Nichicon" pn="UPG1H100MPH" type="Al electrolytic" ppPkg=1
SYMBOL polcap 592 128 R0
WINDOW 3 24 64 Left 0
SYMATTR Value 1u
SYMATTR InstName Cf3
SYMATTR Description Capacitor
SYMATTR Type cap
SYMATTR SpiceLine V=50 Irms=36m Rser=3.5 MTBF=2000 Lser=0 mfg="Nichicon" pn="UPL1H010MAH" type="Al electrolytic" ppPkg=1
TEXT -160 -24 Left 0 !.tran 0 1 .6
