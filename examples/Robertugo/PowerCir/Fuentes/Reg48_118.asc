Version 4
SHEET 1 1136 680
WIRE -176 32 -256 32
WIRE -144 32 -176 32
WIRE -64 32 -80 32
WIRE 272 32 -16 32
WIRE 496 32 272 32
WIRE 640 32 496 32
WIRE 672 32 640 32
WIRE -256 64 -256 32
WIRE 496 64 496 32
WIRE 640 64 640 32
WIRE 672 64 672 32
WIRE -176 112 -176 32
WIRE -144 112 -176 112
WIRE -48 112 -80 112
WIRE -16 112 -48 112
WIRE 16 112 -16 112
WIRE 128 112 96 112
WIRE 160 112 128 112
WIRE 304 112 240 112
WIRE 384 112 368 112
WIRE 432 112 384 112
WIRE 576 112 528 112
WIRE 272 144 272 32
WIRE -16 160 -16 112
WIRE 128 160 128 112
WIRE -256 176 -256 144
WIRE 384 176 384 112
WIRE 400 176 384 176
WIRE 496 176 496 160
WIRE 496 176 480 176
WIRE 512 176 496 176
WIRE 528 176 528 112
WIRE 528 176 512 176
WIRE 544 176 528 176
WIRE 640 176 640 160
WIRE 640 176 624 176
WIRE 672 176 672 144
WIRE 672 176 640 176
WIRE 688 176 672 176
WIRE 384 208 384 176
WIRE 480 208 384 208
WIRE 384 224 384 208
WIRE 400 224 384 224
WIRE 272 240 272 224
WIRE 336 240 272 240
WIRE -144 256 -176 256
WIRE -64 256 -64 32
WIRE -64 256 -80 256
WIRE -16 256 -16 224
WIRE -16 256 -64 256
WIRE 64 256 -16 256
WIRE 128 256 128 224
WIRE 128 256 64 256
WIRE 272 256 272 240
WIRE 128 272 128 256
WIRE 480 272 464 272
WIRE 512 272 480 272
WIRE 608 272 592 272
WIRE 672 272 672 176
WIRE 672 272 608 272
WIRE 64 304 64 256
WIRE 608 304 608 272
WIRE 672 304 672 272
WIRE 336 320 336 240
WIRE 400 320 336 320
WIRE -16 336 -16 256
WIRE 32 336 -16 336
WIRE 160 336 96 336
WIRE 480 336 480 272
WIRE 480 336 240 336
WIRE -256 368 -256 256
WIRE -176 368 -176 256
WIRE -176 368 -256 368
WIRE -144 368 -176 368
WIRE -48 368 -48 112
WIRE -48 368 -80 368
WIRE -16 384 -16 336
WIRE 272 384 272 320
WIRE 272 384 -16 384
WIRE 608 384 608 368
WIRE 608 384 272 384
WIRE 672 384 608 384
FLAG 128 272 0
FLAG 688 176 Out
FLAG 640 32 In
FLAG 512 176 b
SYMBOL diode -80 16 R90
WINDOW 0 59 117 VBottom 0
WINDOW 3 32 39 VTop 0
SYMATTR InstName D1
SYMATTR Value MURS120
SYMBOL diode -144 96 M90
WINDOW 0 58 -50 VBottom 0
WINDOW 3 32 23 VTop 0
SYMATTR InstName D2
SYMATTR Value MURS120
SYMBOL diode -80 240 R90
WINDOW 0 0 32 VBottom 0
WINDOW 3 32 38 VTop 0
SYMATTR InstName D3
SYMATTR Value MURS120
SYMBOL diode -144 352 M90
WINDOW 0 0 32 VBottom 0
WINDOW 3 32 29 VTop 0
SYMATTR InstName D4
SYMATTR Value MURS120
SYMBOL voltage -256 160 R0
WINDOW 0 -18 61 Left 0
WINDOW 3 53 4 VRight 0
WINDOW 123 0 0 Left 0
WINDOW 39 24 132 Left 0
SYMATTR InstName Vac
SYMATTR Value SINE(0 160 50)
SYMBOL res -272 48 R0
WINDOW 0 40 42 Left 0
WINDOW 3 36 66 Left 0
SYMATTR InstName Rfus
SYMATTR Value .1
SYMATTR SpiceLine tol=1 pwr=0.1
SYMBOL polcap -32 160 R0
WINDOW 3 24 64 Left 0
SYMATTR Value 220µ
SYMATTR InstName Cf1
SYMATTR Description Capacitor
SYMATTR Type cap
SYMATTR SpiceLine V=100 Irms=590m Rser=0.1 MTBF=2000 Lser=0 mfg="Nichicon" pn="UPR2A221MRH" type="Al electrolytic" ppPkg=1
SYMBOL res 0 128 R180
WINDOW 0 -31 81 Left 0
WINDOW 3 -33 59 Left 0
SYMATTR InstName Rs
SYMATTR Value 6.8
SYMATTR SpiceLine tol=10 pwr=4
SYMBOL res 112 96 R90
WINDOW 0 14 103 VBottom 0
WINDOW 3 -12 13 VTop 0
SYMATTR InstName Rpi
SYMATTR Value 10K
SYMATTR SpiceLine tol=1 pwr=0.1
SYMBOL polcap 112 160 R0
WINDOW 3 24 64 Left 0
SYMATTR Value 22µ
SYMATTR InstName Cf2
SYMATTR Description Capacitor
SYMATTR Type cap
SYMATTR SpiceLine V=100 Irms=115m Rser=0.68 MTBF=1000 Lser=0 mfg="Nichicon" pn="UPR2A220MPH" type="Al electrolytic" ppPkg=1
SYMBOL res 256 96 R90
WINDOW 0 11 108 VBottom 0
WINDOW 3 -12 11 VTop 0
SYMATTR InstName Rsd
SYMATTR Value 10K
SYMATTR SpiceLine tol=1 pwr=0.1
SYMBOL zener 288 320 R180
WINDOW 0 -42 1 Left 0
WINDOW 3 50 19 VRight 0
SYMATTR InstName Dz12
SYMATTR Value BZX84C12L
SYMATTR Description Diode
SYMATTR Type diode
SYMBOL res 256 128 R0
WINDOW 0 32 47 Left 0
WINDOW 3 24 85 Left 0
SYMATTR InstName Rsz
SYMATTR Value 68K
SYMATTR SpiceLine tol=1 pwr=0.1
SYMBOL diode 304 128 R270
WINDOW 0 32 32 VTop 0
WINDOW 3 0 32 VBottom 0
SYMATTR InstName Dtemp
SYMATTR Value 1N914
SYMBOL npn2 432 64 R0
WINDOW 0 19 49 Left 0
WINDOW 3 -50 -18 Left 0
SYMATTR InstName Qdrv
SYMATTR Value BFN24
SYMBOL res 496 160 R90
WINDOW 0 -53 88 VBottom 0
WINDOW 3 -34 81 VTop 0
SYMATTR InstName Rbe1
SYMATTR Value 3K9
SYMATTR SpiceLine tol=1 pwr=0.1
SYMBOL npn2 464 224 M0
WINDOW 0 -7 -4 Left 0
WINDOW 3 41 39 Left 0
SYMATTR InstName Qcmp
SYMATTR Value BF420P
SYMBOL Pote 128 320 R90
WINDOW 0 -14 86 VRight 0
WINDOW 123 46 62 VCenter 0
WINDOW 3 -15 17 VCenter 0
SYMATTR InstName Ureg
SYMATTR Value2 Set={val}
SYMATTR Value Rt=10k
SYMBOL cap 464 208 R0
WINDOW 0 36 36 Left 0
WINDOW 3 20 14 Left 0
SYMATTR InstName Cn
SYMATTR Value 470p
SYMBOL res 144 352 R270
WINDOW 0 32 56 VTop 0
WINDOW 3 0 56 VBottom 0
SYMATTR InstName Rlim
SYMATTR Value 4k7
SYMATTR SpiceLine tol=1 pwr=0.1
SYMBOL npn2 576 64 R0
WINDOW 0 19 47 Left 0
WINDOW 3 -33 -13 Left 0
SYMATTR InstName Qout
SYMATTR Value BU208A
SYMBOL res 640 160 R90
WINDOW 0 56 102 VBottom 0
WINDOW 3 29 39 VTop 0
SYMATTR InstName Rbe2
SYMATTR Value 100
SYMATTR SpiceLine tol=1 pwr=0.1
SYMBOL res 608 256 R90
WINDOW 0 59 98 VBottom 0
WINDOW 3 32 56 VTop 0
SYMATTR InstName R9
SYMATTR Value 39K
SYMATTR SpiceLine tol=1 pwr=0.1
SYMBOL polcap 592 304 R0
WINDOW 0 20 15 Left 0
WINDOW 3 19 62 Left 0
SYMATTR InstName Cf3
SYMATTR Value 10µ
SYMATTR Description Capacitor
SYMATTR Type cap
SYMATTR SpiceLine V=160 Irms=170m Rser=1 MTBF=5000 Lser=0 ppPkg=1
SYMBOL bi 672 304 R0
WINDOW 3 -370 60 Left 0
WINDOW 0 -65 -10 Left 0
SYMATTR Value I= if (V(Out)>36,96/V(Out),3)
SYMATTR InstName Bload
SYMBOL res 656 48 R0
WINDOW 0 30 48 Left 0
SYMATTR InstName Rpar
SYMATTR Value 220
TEXT -272 -40 Left 0 !.tran 0 .7 .6
TEXT -272 -16 Left 0 !.step param val 0 1 .1
TEXT -48 400 Left 0 ;Para tensiones entre 85 y 120 V, Rs puede ser de 12 Ohms x 15W.\nRpar y Cf3 son opcionales en fuente para taller. (Puentear una R\nde 22k con Rlim y una llave para extremar la tensión de salida).
TEXT 0 -40 Left 0 !.meas tran PdQout avg(V(In,Out)*Ic(Qout)+V(b,Out)*Ib(Qout)) \n.meas tran Eff% param 100-100*(PdQout/(PdQout+96))\n.meas tran PdRpar avg(V(In,Out)*I(Rpar))
TEXT 40 64 Left 0 ;25W
TEXT 688 152 Left 0 ;25W
TEXT 376 64 Left 0 ;(BF459)
TEXT 336 288 Left 0 ;(BF422)
