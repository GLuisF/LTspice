* Copyright (c) 1998-2024 Analog Devices, Inc.  All rights reserved.
*
.subckt AD8422 1 2 3 4 5 6 7 8
G4 MID N008 1 MID 2.64m
R10 N008 MID 378.788
G5 MID N029 N026 MID 2.64m
R11 N029 MID 378.788
CCM1 4 0 1p
CCM2 1 0 1p
CDIFF 4 1 1.5p
C4 3 0 3.688p
R6 3 N035 9802.94
I1 VBIAS N032 20µ
R23 N032 VBIAS 1G
G7 MID N022 VBIAS N032 1
R8 N022 MID 10G
C2 N035 N032 10.19p
R25 N023 N022 100
C3 2 0 3.692p
R5 N001 2 9802.94
I2 VBIAS Inv_Fdbk 20µ
R18 VBIAS Inv_Fdbk 1G
G6 MID N005 VBIAS Inv_Fdbk 1
R7 N005 MID 10G
C1 N001 Inv_Fdbk 10.31p
R24 N006 N005 100
V1 VBIAS 8 20
D40 Inv_Fdbk VBIAS D
D41 N032 VBIAS D
D42 VBIAS Inv_Fdbk D
D43 VBIAS N032 D
E4 N001 MID N006 MID 1
R1 N015 N002 10k
R2 N002 N001 9999.05
R3 N027 N035 9998.85
R4 6 N027 10k
R9 N015 MID 10Meg
R22 N016 N015 100
G11 MID Va N016 N017 1m
R26 Va MID 100Meg
C7 N017 MID 1n
R30 N017 MID 10G
G9 MID N018 N017 N019 1
R12 N018 MID 10G
C5 N018 MID 56.15n
G10 MID N019 N012 MID 1m
R17 N019 MID 1k
C6 N019 MID 87.03p
R27 N013 N019 0.1
GN1 N032 N033 N031 N033 778µ
GN2 Inv_Fdbk N004 N010 N004 778.8µ
E5 N035 MID N023 MID 1
G8 MID N015 N027 N002 1k
Ibp 1 0 {Ib}
Ibn 4 0 {Ib-Ios}
G1 0 8_BUF N039 0 1
G2 0 5_BUF N043 0 1
R13 8_BUF 0 1 Noiseless
R14 5_BUF 0 1 Noiseless
R15 N040 8_BUF 1Meg Noiseless
R16 N040 5_BUF 1Meg Noiseless
C8 N040 0 1
E1 MID 0 N040 0 1
R19 MID 0 1Meg Noiseless
C9 8_BUF 0 1n
C10 5_BUF 0 1n
Bsrc N039 0 I=Dnlim(I(Rs), 0,1u)
Bsink N043 0 I=Uplim(I(Rs), 0,1u)
Rs N020 7 1m
R20 N043 5 1m
R21 N039 8 1m
Isy 8 5 {Isy}
G3 MID N024 4 MID 1k
R28 N024 MID 1m
R29 N025 N024 1k Noiseless
I3 N024 N025 {1m*Vosi}
R31 N012 N011 1k Noiseless
I4 N011 N012 {1m*Voso}
G13 MID N011 N018 MID 1k
R32 N011 MID 1m
R33 Vnoise 0 100k Noiseless
A1 0 0 0 0 0 0 Vnoise 0 OTA G=10u Iout=1m En=80n Enk=1 Vhigh=1k Vlow=-1k
R34 N026 N025 1k Noiseless
G14 N025 N026 Vnoise 0 1m
R35 N014 N013 1m
IVoso N013 N014 157m
VSH2 2 N004 -474m
VSH1 3 N033 -474m
R36 N030 MID 1k Noiseless
C11 N030 MID 1f
D1 CMp N009 DO
D2 N009 CMn DO
I5 8_BUF CMp {1k*Vcmmax}
R37 8_BUF CMp 1m
C12 8_BUF CMp 1n
I6 5_BUF CMn {1k*Vcmmin}
R38 5_BUF CMn 1m
C13 5_BUF CMn 1n
G16 MID N030 N029 MID 1m
G15 MID N031 N030 MID 1
R39 N031 MID 1
G17 MID N010 N009 MID 1
R40 N010 MID 1
R41 N009 MID 1k Noiseless
C14 N009 MID 1f
G18 MID N009 N008 MID 1m
D3 CMp N030 DO
D4 N030 CMn DO
I7 8_BUF VOp -190
R42 8_BUF VOp 1m
C15 8_BUF VOp 1n
I8 5_BUF VOn 190
R43 5_BUF VOn 1m
C16 5_BUF VOn 1n
D5 VOp N023 DO
D6 N023 VOn DO
D7 VOp N006 DO
D8 N006 VOn DO
D9 VOp N013 DO
D10 N013 VOn DO
I9 8_BUF N037 -1.05k
R44 8_BUF N037 1m
C17 8_BUF N037 1n
I10 5_BUF N038 50
R45 5_BUF N038 1m
C18 5_BUF N038 1n
D13 N037 N027 DO
D14 N027 N038 DO
S1 N020 N014 0 0 ISC
C19 N020 N014 1p
B1 MID N017 I=Uplim(Dnlim(40u* V(Va,MID), {Isink}, 0.1m), {Isrc}, 0.1m)
.model D D (IS=1f N=0.1001 Rs=1m)
.model DO D(Vfwd=1k Vrev=0 Revepsilon=0.1 Ron=1m Noiseless)
.model ISC SW(Ron=1m Roff=1Meg Vt=-1 Vh=-0.1 Ilimit={Isc} Noiseless level=2)
.param Vosi=60u Voso=300u
+ Vcmmin=1.24 Vcmmax=-1.24
+ Ib=0.5n Ios=0.2n
+ Isc=20m Isy=338u
.param Isrc=800u Isink={-Isrc}
.ends AD8422
