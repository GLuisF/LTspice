* Copyright (c) 1998-2023 Analog Devices, Inc.  All rights reserved.
*
.subckt LTC6226 1 2 3 4 5 6
C7 4 1 500f Rser=100 noiseless
C4 2 1 3p Rser=100 noiseless
C13 4 5 10p
D1 3 4 DESD
D2 5 3 DESD
S5 4 5 _SHDN_D 0 SPOW
D4 4 5 DPOWSD
D6 5 6 DESD
A3 6 4 0 0 0 0 _SHDN 0 SCHMITT vt=-2.175 vh=575m trise=4.126u tfall=1500n
D7 6 4 DESD
C6 5 6 100f
D5 2 4 DESD
D8 5 2 DESD
D11 1 4 DESD
D12 5 1 DESD
D20 4 2 DBIAS2
D18 4 1 DBIAS2
C8 3 N004 7p
C21 N005 0 {C1_P1} Rpar={1/alpha_P1} noiseless
G11 0 N006 N005 0 {alpha_P2}
C16 N006 0 {C1_P2} Rpar={1/alpha_P2} noiseless
A1 0 N007 Mid Mid Mid Mid X1 Mid OTA g=26m iout=2.8m vlow=-1e308 vhigh=1e308
C1 4 2 500f Rser=100 noiseless
C3 1 5 500f Rser=100 noiseless
C5 2 5 500f Rser=100 noiseless
D3 4 PG DLIMP
D9 NG 5 DLIMN
C17 NG 5 100f Rser=500 noiseless
C24 4 3 1p Rpar=200k noiseless
Q1 3 NG 5 0 NPN1 temp=27
Q2 3 PG 4 0 PNP1 temp=27
C20 3 PG 3.4p Rser=250 noiseless
C11 N012 PG 3.6p
C9 X1 NG 3.6p
C12 4 PG 100f Rser=22 noiseless
C15 X1 N013 1p
R12 N013 Mid 2k noiseless
B7 N013 Mid I=20m*dnlim(uplim(V(X1,Mid),300m,100m)-150m,0,10m)
C19 N007 0 {C1_PZ1} Rpar={R2_PZ1} Rser={R1_PZ1} noiseless
G10 0 N007 N006 0 {alpha_PZ1}
C25 X1 Mid 1p Rser=10 noiseless
R13 X1 N012 10 noiseless
B9 N012 X1 I=uplim(100m*dnlim(1m-V(X1,Mid),0,10m),3m,1m)
B10 Mid N013 I=40m*dnlim(-150m+uplim(-V(X1,Mid),300m,100m),0,10m)
D15 2 1 DIN
D16 SL 0 DVARSLW1
D17 SL 0 DVARSLW2
D10 4 2 DBIAS1
D13 4 1 DBIAS1
D14 2 1 DBIASD
S1 4 PG 0 _SHDN_D SWoff
S2 NG 5 0 _SHDN_D SWoff
S3 X1 Mid 0 _SHDN_D SWoff2
C14 3 NG 3.4p Rser=250 noiseless
A4 0 2 0 0 0 0 0 0 OTA g=0 in=1p ink=200k
A7 0 1 0 0 0 0 0 0 OTA g=0 in=1p ink=200k
A6 N008 0 _SHDN_D 0 0 0 N005 0 OTA g={alpha_P1} linear en=1n enk=3.5k vlow=-1e308 vhigh=1e308
D25 N005 0 DLIM2
D26 X1 Mid DLIM1
A2 _SHDN 0 0 0 0 0 _SHDN_D 0 BUF trise=100n
D21 4 6 DPULLUP
G8 6 5 6 4 2µ vto=-1.25 dir=1
C10 Mid 0 10p Rpar=10 noiseless
G1 0 Mid 4 0 100m
G2 0 Mid 5 0 100m
R4 N004 X1 1k noiseless
G14 Mid 4 N004 X1 500µ
G13 Mid 5 N004 X1 500µ
D19 X1 Mid DSI N=.36 temp =27
B1 0 N008 I=10u*dnlim(uplim(V(1),V(4)-1.19,10m), V(5)-.2, 10m)
B2 N008 0 I=10u*dnlim(uplim(V(2),V(4)-1.19,10m), V(5)-.2, 10m)
C2 N008 0 .1f Rpar=100K noiseless
G20 0 N008 1 2 1n
B5 0 SL I=dnlim(350u*V(4,5)-600u,100u,10u)
C18 3 5 1p Rpar=200k noiseless
S4 4 5 0 _SHDN_D SPOWSD
B4 PG 4 I=vminp/2e3-500u*(V(X1,Mid)-voffp)
B6 PG 4 I=1m*(.5+.5*tanh((715m-V(4,PG))/1m))
B11 PG 4 I=1m*V(SL)*dnlim(-200m-V(X1,Mid),0,20m)
B13 4 PG I=1m*V(SL)*dnlim(V(X1,Mid)-200m,0,20m)
B3 5 NG I=vminn/2e3+500u*(V(X1,Mid)+voffn)
B8 5 NG I=1m*(.5+.5*tanh((715m-V(NG,5))/1m))
B12 NG 5 I=1m*V(SL)*dnlim(-200m-V(X1,Mid),0,20m)
B14 5 NG I=1m*V(SL)*dnlim(V(X1,Mid)-200m,0,20m)
.model SPOW SW(Ron=100 Roff=10G vt=.5 vh=-.3 ilimit=5m noiseless)
.model SPOWSD SW(Ron=56K Roff=1G vt=-.5 vh=-.3  noiseless)
.model DPOWSD D(Ron=1K Roff=1G vfwd=600m epsilon=500m ilimit=114u noiseless)
.model DESD D(Ron=100 Roff=1g Vfwd=700m epsilon=500m noiseless)
.model DPULLUP D(Ron=580k Roff=100Meg vfwd=1.2 epsilon=500m noiseless)
.param vs=10
.model  DBIAS1 D(Ron=6Meg Roff=1G vfwd=100m epsilon=100m noiseless)
.model  DBIAS2 D(Ron=1k Roff=1G vfwd=100m epsilon=100m ilimit=8u noiseless)
.model DBIASD D(Ron=4.7k Roff=4.7k vrev=0 ilimit=9u revilimit=9u noiseless)
.model DIN D(Ron=100 Roff=1G vfwd=700m epsilon=500m vrev=700m revepsilon=500m noiseless)
.param alpha_P1=1.0e-3 pole_P1=4e8
+ C1_P1 = alpha_P1/(2*pi*pole_P1)
.param alpha_P2=1.0e-3 pole_P2=4e8
+  C1_P2 = alpha_P2/(2*pi*pole_P2)
.param vminp = 400m
.param voffp = 360m
.param vminn=400m
.param voffn = 360m
.model DLIMN D(Ron=10 Roff=2k Vfwd=880m  epsilon=10m noiseless)
.model DLIMP D(Ron=10 Roff=2k Vfwd=880m  epsilon=10m noiseless)
.model NPN1 NPN(IS=1e-16 BF=500 BR=1.2 Quasimod=1 RCO=25 VO=10 VAF=500 noiseless)
.model PNP1 PNP(IS=1e-16 BF=500 BR=1.5 RC=16 VAF=500 noiseless)
.model SWoff SW(Ron=10 Roff=7Meg vt=-500m vh=-100m noiseless)
.param alpha_PZ1=1.0e-3 pole_PZ1=2e7 zero_PZ1=7e7
+ R2_PZ1=1.0/alpha_PZ1 R1_PZ1=1.0/(alpha_PZ1*(zero_PZ1/pole_PZ1 - 1.0))
+C1_PZ1=1.0/(2.0*pi*zero_PZ1*R1_PZ1)
.model DVARSLW1 D(Ron=1k Roff=10k vfwd=900m epsilon=200m noiseless)
.model DVARSLW2 D(Ron=10 Roff=1k vfwd=1.34 epsilon=200m vrev=100m revepsilon=100m noiseless)
.model DSI D(IS=1e-15 Rs=150k noiseless)
.model SWoff2 SW(Ron=10 Roff=14Meg vt=-500m vh=-100m noiseless)
.model DLIM1 D(Ron=10 Roff=14Meg vfwd=465m  epsilon=30m vrev=465m revepsilon=30m noiseless)
.model DLIM2 D(Ron=10 Roff=100Meg vfwd=100m epsilon=30m vrev=100m revepsilon=30m noiseless)
.ends LTC6226
