* Rev 2 - May 2013
.SUBCKT MC33063A SwC SwE Osc Com Inv Vcc Ipk DrC ; Rev.2
.param tdt=10n
C1 Vcc COM 20p
I1 Vcc ref TBL(0 0 2.5 2m8 3.5 3m1 40 3m4)
D1 COM ref 1V25
E1 C 0 ref COM 1
A1 ref Inv 0 0 0 0 B 0 SCHMITT Vt=0 Vh=1m tripdt={tdt}
A2 COM Osc 0 0 0 2 A 0 SCHMITT Vt=-0.9 Vh=0.35 trise=50n tfall=0u9 tripdt={tdt}
A3 2 0 0 0 0 0 R 0 BUF ref=0.1 tau=20n tripdt={tdt}
A4 A 0 B 0 C 0 S 0 AND ref=0.9 td=0u2 tripdt={tdt}
A5 S R 0 0 0 0 Q 0 SRFLOP tau=0u1 tripdt={tdt}
I2 S R pulse(5 0 0 1n) ; force f/f reset at startup
G1 COM 3 ref COM 0m5
R1 COM 3 10k
C2 Osc 3 12p
S1 COM 3 R 0 bump
S2 COM Osc R 0 sink
I3 Vcc Osc TBL(2 0 3 35u)
R2 1 Vcc 10k
C3 1 Ipk 10p
S3 Osc Vcc 1 Ipk comp
C4 DrC COM 10p
S4 DrB Vcc Q 0 drive
R3 DrE SwE 100
Q1 SwC DrE SwE 0 sw
D2 COM Osc Dsub
R4 COM 1 1e7
Q2 DrC DrB DrE 0 sw m=85m
.model Dsub d Ron=1 Vfwd=0.6 Epsilon=0.2
.model 1V25 d Ron=1 Roff=466 Vrev=1.25 revEpsilon=10m
.model comp sw level 2 Vt=290m Vh=-100m Ron=300 Roff=1e7 Ilimit=15m
.model sink sw level 2 Vt=0.1 Vh=-1m Ron=1k Roff=1e7 Ilimit=255u Vser=0.1
.model bump sw level 2 Vt=0.1 Vh=-1m Ron=1e7 Roff=1k
.model drive sw level 2 Vt=300m Vh=-10m Ron=200 Roff=1e8 Ilimit=0m7
.model sw npn Is=50f Bf=130 Br=10 Ikf=1.5 Rb=1 Re=30m Rc=0.4 Cje=100p Cjc=20p
.ENDS MC33063A

.subckt SWeq 1 2 x=1 y=1 Rmin=1u Rmax=1T
.func EQ(a,b) if((a>b)|(b>a),0,1)
R 1 2 R=if(EQ(x,y),Rmin,Rmax)
.ends SWeq

.subckt Rb P M params: Rmax=10 Tau=1u K=10
V1 P s 0
B1 s M I=V(s,M)/(Rmax*(1-tanh(k*v(q))))
B2 0 q I=i(v1) Rpar=1
C1 q 0 {Tau}
.ends Rb

.subckt MultCurrent A B M=5
V A B 0
B A 0 I=(M-1)*i(v) 
.ends MultCurrent

.subckt ZXCT1022 GND V+ Vout Vs
R1 Vs R1_N 1Meg
R2 V+ GND 570k
XARB1 R1_N V+ Vout arbsourceARB1
.subckt arbsourceARB1 N1 N2 OUT
B1 OUT 0 V=uramp(((V(n2)-V(n1))*100)+30m)
.ends
C1 R1_N V+ 3p
.ends ZXCT1022


.subckt Lowdrop 1 2 3 Vout=5 Rout=0.1 Imax=0.5 Dropmin=0.2
* in gnd out
S1 3 1 2 3 reg
r 2 3 1Gig
.model reg sw level=2 Vt={-Vout} Vh=-4m Ron={Rout} Roff=1G Ilimit={Imax} Vser={Dropmin}
.ends Lowdrop

.subckt LowdropT 1 2 3 Vout=5 Rout=0.1 Imax=0.5 Dropmin=0.2 tau=1u
* in gnd out
S1 3 1 2 30 reg
R 3 30 1k
rx 2 3 1Gig
C 30 2 {tau/1k}
.model reg sw level=2 Vt={-Vout} Vh=-4m Ron={Rout} Roff=1G Ilimit={Imax} Vser={Dropmin}
.ends LowdropT


.subckt Rwire n1 n2 length=1 D=0 S=0 N=1 ro=0.0175u
* Cu-0.0175u, Al=0.028u
R n1 n2 {ro*length*N/(0.7854*d*d+S)}
.ends Rwire
.Subckt Lwire N1 N2 length=1 D=1m
L1 N1 N2 {200n*length*(log(length/D)+0.389*D/length+0.636)}
.ends Lwire
.subckt Cparasitic 1 C=50F
C 1 0 {c}
.ends
.subckt Lparasitic n1 n2 L=4n Rs=1m Rp=1k
L n1 n2 {L} rser={Rs} Rpar={Rp}
.ends

.subckt resUS 1 2 R=1K Cp=0.1p Ls=1n Rmin=1
C 1 2 {Cp} Lser={Ls} Rpar={R} Rser={Rmin}
.ends 

* node assignments
* c1
* | b1
* | | e1
* | | | e2
* | | | | b2
* | | | | | c2
* | | | | | |
.subckt mat03 1 2 3 5 6 7
q1 1 2 3 pmat
q2 7 6 5 pmat
d1 2 3 dmat1
d2 6 5 dmat1
d3 3 4 dmat1
d4 5 4 dmat1
d5 1 4 dmat2
d6 7 4 dmat2
.model dmat1 d(is=7.2e-16 rs=20)
.model dmat2 d(is=1e-14 vj=0.6 cjo=68p)
.model pmat pnp(bf=160 is=1.4e-13 vaf=60 br=5 var=7 rb=16 rc=12 re=0.35 cje=57p vje=0.7 mje=0.4 tf=1.08n tr=3e-8 cjc=40p vjc=0.55 mjc=0.5 ikf=160m)
.ends

.Subckt L200CV IN LIM GND REF OUT
rt in 7 1Meg
bt in 7 i=0.001*uramp(1-uramp(1-v(in,7)/0.3))
I1 IN LIM DC 1u
B4 N2 GND i=uramp(v(out,lim)-0.45)
R4 13 outv 10K
B3 N1 N2 i=uramp(v(n1,n2)-0.1)
V1 N1 GND DC 0.7
B2 N2 GND i=uramp(v(outv,out)-0.05)
R3 7 N2 10K
C1 N2 refv 100p
Q3 GND N2 7 p
R2 outv OUT 16m
Q2 IN 13 outv n area=10
Q1 IN 7 13 n
c 7 gnd 3p
bg1 n2 gnd i=uramp(v(refv,opor))
R1 refv REF 10K
B1 opor GND v=2.77*u(v(in,gnd)-4.5)
.model n npn cje=2p tf=1n
.model p pnp tf=30n bf=20
.ends L200CV

* Photoresistor
.subckt NORP12 Light R+ R-
B1 R+ R- I=V(R+,R-)*V(l1)**0.76/113k
E1 N001 0 Light 0 1
Rdark R+ R- 50MEG
C1 l1 0 Q=51.95u*ln(1+ABS(x)*7.8m)
C2 R+ R- 3.5p
D2 N001 l1 Dsw
R1 Light 0 1K
.model dsw D(Ron=17k Roff=100k Vfwd=0)
.ends norp12

.subckt L-93WSRSGC 1 2 3
Dr 1 2 red
Dg 3 2 green
.model red d is=4.844e-22 rs=2.964 N=1.5339 Cjo=45p Eg=2 Vj=2 m=0.2
.model green d is=3.2938e-21 rs=8.556 N=1.8107 Cjo=15p Eg=2.4 Vj=2.5 m=0.2
.ends

*
.subckt SWoff 1 2
roff 1 2 100Gig
.ends

.subckt SWon 1 2
Vkz 1 2 0
.ends

.subckt vilka2 1 2
r1 1 0 1Gig
r2 2 0 1Gig
.ends vilka2

.subckt vilka3 1 2 3
r1 1 0 1Gig
r2 2 0 1Gig
r3 3 0 1Gig
.ends vilka3

.subckt vilka5 1 2 3 4 5
r1 1 0 1Gig
r2 2 0 1Gig
r3 3 0 1Gig
r4 4 0 1Gig
r5 5 0 1gig
.ends vilka5

.subckt vilka6 1 2 3 4 5 6
r1 1 0 1Gig
r2 2 0 1Gig
r3 3 0 1Gig
r4 4 0 1Gig
r5 5 0 1gig
r6 6 0 1gig
.ends vilka6

.subckt rozetka2 1 2
r1 1 0 1Gig
r2 2 0 1Gig
.ends rozetka2

.subckt rozetka3 1 2 3
r1 1 0 1Gig
r2 2 0 1Gig
r3 3 0 1Gig
.ends rozetka3

.subckt rozetka5 1 2 3 4 5
r1 1 0 1Gig
r2 2 0 1Gig
r3 3 0 1Gig
r4 4 0 1Gig
r5 5 0 1gig
.ends rozetka5

.subckt rozetka6 1 2 3 4 5 6
r1 1 0 1Gig
r2 2 0 1Gig
r3 3 0 1Gig
r4 4 0 1Gig
r5 5 0 1Gig
r6 6 0 1gig
.ends rozetka6

.subckt GND1 1
vkz 1 0 0
.ends GND1

.subckt g_loop L I1 I2 B COM H
G1 COM N001 L I1 {1µ/(A*N)}
C1 N001 COM 1µ
E1 B COM N001 COM 1
V1 I1 I2 0
H1 H COM V1 {N/Lm}
.ends g_loop



.SUBCKT Shock_Sensor 1 3 p Cpar=480pf G=0.153p
C0 1 2 {Cpar} Rpar=500Meg
E 2 3 p 0 {G/Cpar}
.ENDS

.SUBCKT XTAL_param 1 2 FREQ=1Meg Rser=750 Cpar=13pf Q=1000
+ Rpar=1e24 IC_L_current=0.5m IC__C_Volt=0
LX 1 3 {((Q*RSer)/(2*PI*FREQ))} IC={IC_L_current} Rser={RSer} Rpar=1e24
CX 3 2 {(1/(Q*2*PI*FREQ*RSer))} ic={IC__C_Volt}
C0 1 2 {Cpar} Rpar={Rpar}
.ENDS

* K=Cpar/Cx -capacitive ratio
.SUBCKT XTAL_param2 1 2 FREQ=32768 Rser=30k Cpar=1pf K=400
+ Rpar=1e24 IC_L_current=1u
LX 1 3 {K/((2*PI*FREQ)**2*Cpar)} IC={IC_L_current} Rser={RSer} Rpar=1e24
CX 3 2 {Cpar/K}
C0 1 2 {Cpar} Rpar={Rpar}
.ENDS

.Subckt CRYSTAL_9_OVERTONE 1 2 Freq=10Meg C0=3p K=300
+ Rm1=20 rm3=50 rm5=100 rm7=150 rm9=200 ic1=100u ic3=100u ic5=100u ic7=100u ic9=100u
.param Cm1=C0/K
.param W=2*Pi*Freq
.param Lm=1/(W**2*Cm1)
Lm1 1 3 {Lm} ic={ic1} Rser={Rm1} Rpar=1e24
Lm3 1 4 {Lm} ic={ic3} Rser={Rm3} Rpar=1e24
Lm5 1 5 {Lm} ic={ic5} Rser={Rm5} Rpar=1e24
Lm7 1 6 {Lm} ic={ic7} Rser={Rm7} Rpar=1e24
Lm9 1 7 {Lm} ic={ic9} Rser={Rm9} Rpar=1e24
Cm1 3 2 {Cm1}
Cm3 4 2 {Cm1/9}
Cm5 5 2 {Cm1/25}
Cm7 6 2 {Cm1/49}
Cm9 7 2 {Cm1/81}
C0 1 2 {C0} Rpar=1e24
.ends


.subckt BridgeRectifier Vin1 Vin2 V- V+ Vf=0.6 r=1m Rut=1Gig
d1 vin1 V+ did
d2 vin2 V+ did
d3 v- vin1 did
d4 v- Vin2 did
.model did d Ron={r} Roff={Rut} Vfwd={vf}
.ends BridgeRectifier

.Subckt ntc_resistor n1 n2
B1 n1 n2 i=v(n1,n2)/{R0}*exp({b}*(1/(273+{T0})-1/(273+TEMP)))
.ends

.Subckt ntc_resistorT n1 n2 T
B1 n1 n2 i=v(n1,n2)/{R0}*exp({b}*(1/(273+{T0})-1/(273+V(T))))
.ends

*
.SUBCKT PDTA143XT 1 2 3
*
R1 1 22 4.7k
Cres1 1 3 4.3E-13
R21 22 11 5k
R22 11 2 5k
Cres2 11 3 1.3E-13
*
Q1 3 22 2 PDTA143XT
*
.MODEL PDTA143XT PNP
+ IS=2.014E-14 NF=0.9974
+ ISE=6.578f NE=1.45 BF=339.3 IKF=0.079 VAF=39.15 NR=0.9952 ISC=1.948p
+ NC=1.55 BR=12.01 IKR=0.015 VAR=16.5 RB=10 IRB=5E-06 RBM=5E-06 RE=0.673 RC=0.718
+ CJE=1.104E-11 VJE=0.9 MJE=0.2748 TF=1E-32 XTF=0 VTF=1E+03 ITF=0 PTF=0 CJC=6.4p
+ VJC=0.499 MJC=0.4435 XTB=0 XTI=3 EG=1.11 FC=0.5
.ENDS

.SUBCKT PDTA143ET 1 2 3
*
R1 1 22 4.7E+03
Cres1 1 3 4.3E-13
R21 22 11 2.35E+03
R22 11 2 2.35E+03
Cres2 11 3 1.4E-13
*
Q1 3 22 2 PDTA143ET
*
.MODEL PDTA143ET PNP
+ IS=2.014E-14
+ NF=0.9974
+ ISE=6.578f
+ NE=1.45
+ BF=339.3
+ IKF=0.079
+ VAF=39.15
+ NR=0.9952
+ ISC=1.948p
+ NC=1.55
+ BR=12.01
+ IKR=0.015
+ VAR=16.5
+ RB=10
+ IRB=5E-06
+ RBM=5E-06
+ RE=0.673
+ RC=0.718
+ CJE=1.104E-11
+ VJE=0.9
+ MJE=0.2748
+ TF=1E-32
+ XTF=0
+ VTF=1E+03
+ ITF=0
+ PTF=0
+ CJC=6.4p
+ VJC=0.499
+ MJC=0.4435
+ XCJC=1
+ TR=1E-32
+ CJS=0
+ VJS=0.75
+ MJS=0.333
+ XTB=0
+ XTI=3
+ EG=1.11
+ FC=0.5
.ENDS
*
.SUBCKT PDTA144ET 1 2 3
*
R1 1 22 4.7E+04
Cres1 1 3 4.8E-13
R21 22 11 2.35E+04
R22 11 2 2.35E+04
Cres2 11 3 1.5E-13
*
Q1 3 22 2 PDTA144ET
*
.MODEL PDTA144ET PNP
+ IS=2.014E-14
+ NF=0.9974
+ ISE=6.578f
+ NE=1.45
+ BF=339.3
+ IKF=0.079
+ VAF=39.15
+ NR=0.9952
+ ISC=1.948p
+ NC=1.55
+ BR=12.01
+ IKR=0.015
+ VAR=16.5
+ RB=10
+ IRB=5E-06
+ RBM=5E-06
+ RE=0.673
+ RC=0.718
+ CJE=1.104E-11
+ VJE=0.9
+ MJE=0.2748
+ TF=1E-32
+ XTF=0
+ VTF=1E+03
+ ITF=0
+ PTF=0
+ CJC=6.4p
+ VJC=0.499
+ MJC=0.4435
+ XCJC=1
+ TR=1E-32
+ CJS=0
+ VJS=0.75
+ MJS=0.333
+ XTB=0
+ XTI=3
+ EG=1.11
+ FC=0.5
.ENDS


*
.SUBCKT PDTC143ET 1 2 3
*
R1 1 22 4.7E+03
Cres1 1 3 4.3E-13
R21 22 11 2.35E+03
R22 11 2 2.35E+03
Cres2 11 3 1.4E-13
*
Q1 3 22 2 PDTC143ET
*
.MODEL PDTC143ET NPN IS=1.822E-14 NF=0.9932 ISE=2.894E-16 NE=1.4 BF=354.4 IKF=0.246 VAF=182 NR=0.9931 ISC=9.982p NC=1.763 BR=14.99 IKR=0.05 VAR=17.9 RB=10 IRB=5E-06 RBM=5 RE=0.649 RC=1.101 XTB=0 EG=1.11 XTI=3 CJE=1.32E-11 VJE=0.8401 MJE=0.3622 XTF=0 VTF=1E+03 ITF=0 PTF=0 CJC=3.821p VJC=0.5986 MJC=0.3745 XCJC=0.6193 FC=0.5
.ENDS
*
.SUBCKT PDTC144ET 1 2 3
*
R1 1 22 4.7E+04
Cres1 1 3 4.8E-13
R21 22 11 2.35E+04
R22 11 2 2.35E+04
Cres2 11 3 1.5E-13
*
Q1 3 22 2 PDTC144ET
*
.MODEL PDTC144ET NPN
+ IS=1.822E-14
+ NF=0.9932
+ ISE=2.894E-16
+ NE=1.4
+ BF=354.4
+ IKF=0.246
+ VAF=182
+ NR=0.9931
+ ISC=9.982p
+ NC=1.763
+ BR=14.99
+ IKR=0.05
+ VAR=17.9
+ RB=10
+ IRB=5E-06
+ RBM=5
+ RE=0.649
+ RC=1.101
+ XTB=0
+ EG=1.11
+ XTI=3
+ CJE=1.32E-11
+ VJE=0.8401
+ MJE=0.3622
+ TF=1E-32
+ XTF=0
+ VTF=1E+03
+ ITF=0
+ PTF=0
+ CJC=3.821p
+ VJC=0.5986
+ MJC=0.3745
+ XCJC=0.6193
+ TR=1E-32
+ CJS=0
+ VJS=0.75
+ MJS=0.333
+ FC=0.5
.ENDS

.subckt DDTC144ECA 1 2 3
Rb 1 11 47k
rbe 11 0 47k
q 3 11 2 DI_DDTC144
.MODEL DI_DDTC144 NPN (IS=9.98f NF=1.00 BF=766 VAF=127
+ IKF=54.7m ISE=2.14p NE=2.00 BR=4.00 NR=1.00
+ VAR=24.0 IKR=0.135 RE=0.815 RB=3.26 RC=0.326
+ XTB=1.5 CJE=20.7p VJE=1.10 MJE=0.500 CJC=11.4p VJC=0.300
+ MJC=0.300 TF=567p TR=119n EG=1.12 )
.ends

.subckt DDA143TU E1 B1 C2 C1 B2 E2
R11 B1 1 4.7k
R21 B2 2 4.7k
q1 C1 1 E1 DI_DDA143TU
q2 C2 2 E2 DI_DDA143TU
.MODEL DI_DDA143TU PNP (IS=9.98f NF=1.00 BF=766 VAF=127
+ IKF=54.7m ISE=2.14p NE=2 BR=4 NR=1
+ VAR=24.0 IKR=0.135 RE=0.815 RB=3.26 RC=0.326
+ XTB=1.5 CJE=20.7p VJE=1.1 MJE=0.5 CJC=11.4p VJC=0.3
+ MJC=0.3 TF=567p TR=119n EG=1.12 )
.ends DDA143TU
.subckt DDA144EU E1 B1 C2 C1 B2 E2
R11 B1 1 47k
R12 1 E1 47k
R21 B2 2 47k
R22 2 E2 47k
q1 C1 1 E1 DI_DDA144EU
q2 C2 2 E2 DI_DDA144EU
.MODEL DI_DDA144EU PNP (IS=9.98f NF=1.00 BF=766 VAF=127
+ IKF=54.7m ISE=2.14p NE=2 BR=4 NR=1
+ VAR=24.0 IKR=0.135 RE=0.815 RB=3.26 RC=0.326
+ XTB=1.5 CJE=20.7p VJE=1.1 MJE=0.5 CJC=11.4p VJC=0.3
+ MJC=0.3 TF=567p TR=119n EG=1.12 )
.ends DDA144EU
.subckt DDA123JU E1 B1 C2 C1 B2 E2
R11 B1 1 2.2k
R12 1 E1 47k
R21 B2 2 2.2k
R22 2 E2 47k
q1 C1 1 E1 DI_DDA143EU
q2 C2 2 E2 DI_DDA143EU
.MODEL DI_DDA143EU PNP (IS=9.98f NF=1.00 BF=766 VAF=127
+ IKF=54.7m ISE=2.14p NE=2 BR=4 NR=1
+ VAR=24.0 IKR=0.135 RE=0.815 RB=3.26 RC=0.326
+ XTB=1.5 CJE=20.7p VJE=1.1 MJE=0.5 CJC=11.4p VJC=0.3
+ MJC=0.3 TF=567p TR=119n EG=1.12 )
.ends DDA123JU

*Motorola NPN Low Noise, High-Frequency Transistor
********************
* Version 1.0.1a
.SUBCKT MRF9411 100 200 300
LCL1 100 101 1.8E-10
LCL2 101 102 1.8E-10
LCL3 102 199 1.8E-10
LBL1 200 201 1.3E-10
LBL2 201 202 1.3E-10
LBL3 202 203 1.3E-10
LBB 203 299 6.5E-10
LEL11 350 351 1.3E-10
LEL12 351 352 1.3E-10
LEL13 352 353 1.3E-10
LEB1 353 399 6.5E-10
LEL21 340 341 1.3E-10
LEL22 341 342 1.3E-10
LEL23 342 343 1.3E-10
LEB2 343 399 6.5E-10
CBE11 201 351 1E-14
CBE12 202 352 1E-14
CBE21 203 343 3E-14
CCB 203 199 1E-14
CCE21 101 341 1.2E-13
CCE22 102 342 1.2E-13
CCE11 199 353 1.8E-13
RX1 350 300 0.001
RX2 340 300 0.001
X1 199 299 399 RF9411
.ENDS MRF9411
*
.SUBCKT RF9411 1 2 3
CBPAD 2 1 4E-14
CEPAD 1 3 8E-14
Q1 1 2 3 DMRF9411
*
.MODEL DMRF9411 NPN
+ IS=4.558E-16
+ BF=136
+ NF=0.9979
+ VAF=21
+ IKF=0.7
+ ISE=3.087E-14
+ NE=2
+ BR=42
+ NR=0.993
+ VAR=2.9
+ IKR=0.016
+ ISC=3.411E-17
+ NC=1.087
+ RB=7
+ IRB=8E-05
+ RBM=8
+ RE=0.45
+ RC=8
+ XTB=0
+ EG=1.11
+ XTI=3
+ CJE=8.6E-13
+ VJE=0.94
+ MJE=0.42
+ CJC=4.3E-13
+ VJC=0.35
+ MJC=0.21
+ XCJC=0.44
+ TF=1.3E-11
+ XTF=400
+ VTF=6
+ ITF=1.5
+ PTF=47
+ TR=1E-09
+ FC=0.98
.ENDS RF9411



*ATF-34143 packaged FET model
.SUBCKT ATF34143 16 14 15
RR2 2 1 0.1
*RR9 4 3 0.1
RR9 4 3 1.1 ;my
RR5 1 5 0.1
LL2 5 SOURCE 0.1nH
LL7 SOURCE 7 0.1nH
LL6 SOURCE 8 0.1nH
RR6 8 2 0.1
RR7 7 2 0.1
RR8 DRAIN 9 0.1
LL5 9 11 0.1nH
LL8 2 15 0.05nH
LL10 15 1 0.1nH
LL1 14 4 0.8nH
LL9 11 16 0.6nH
CC3 11 2 0.15p
CC4 1 4 0.15p
LL4 3 GATE 0.1nH
dpar gate source mydi ;my
.model mydi d is=2p n=1.32137 rs=1.5 ;my
Rgs GATE SOURCE 8.8Meg ; my
Z1 DRAIN GATE SOURCE BATF34143
.MODEL BATF34143 NMF (Vto=-0.95, Beta=0.24, B=0.8, Alpha=4,
+ Lambda=0.09, Rd=0.25, Rs=0.125,Cgs=0.8p, Cgd=0.16p, Pb=0.7 is=1e-18 )
.ENDS

.Subckt BC847BS 1 2 3 4 5 6
Q1 6 2 1 qbc847b
Q2 3 5 4 qbc847b
.model qbc847b npn is=18.22f bf=324 nf=0.9932 vaf=82 ikf=109m ise=2.894e-16 ne=1.4 br=8.29 nr=0.993 var=18 ikr=90m
+ isc=9.98p nc=1.763 rb=10 irb=5u rbm=5 re=0.649 rc=0.7014 cje=1.244e-11 vje=0.7579 mje=0.3656 tf=4.908e-10 xtf=9.51
+ vtf=2.927 itf=313m ptf=0 cjc=3.35p vjc=0.5463 mjc=0.391 xcjc=0.6193 tr=90n xtb=1 eg=1.11 xti=3 fc=0.979
.ends

.Subckt BC857BS 1 3 3 4 5 6
Q1 6 2 1 qbc857b
Q2 3 5 4 qbc857b
.model qbc857b pnp is=20.14f bf=315 nf=0.9974 vaf=39 ikf=79m ise=6.578f ne=1.45 br=8.68 nr=0.9952 var=9.5 ikr=90m isc=16.33f nc=1.15 rb=10 irb=5u rbm =1 re=0.663 rc=0.718 cje=11.35p vje=0.707 mje=0.3808 tf=654.6p xtf=5.387 vtf=6.245 itf=0.2108 ptf=0 cjc=6.4p vjc=0.495 mjc=0.44 xcjc=0.629 tr=55n xtb=1 eg=1.11 xti=3 fc=0.9059
.ends

*
.SUBCKT BC847BV 1 2 3 4 5 6
*
*
* BC847BV
* 2 NPN Transistors in SOT666
* QTR1=QTR2 NPN
* Ic= 100mA
* Vceo= 45V
*
Q1 6 2 1 QTR1
Q2 3 5 4 QTR1
*
* TOPVIEW:
*
* C-------(TR1)
* | B----(TR2)
* | | E-(TR2)
* | | |
* __6__5__4__
* | |
* | | SOT666
* |o |
* |___________|
* 1 2 3
* | | |
* | | C-(TR2)
* | B----(TR1)
* E-------(TR1)
*
*
.MODEL QTR1 NPN
+ IS=1.822E-14
+ NF=0.9932
+ ISE=2.894E-16
+ NE=1.4
+ BF=324.4
+ IKF=0.109
+ VAF=82
+ NR=0.9931
+ ISC=9.982p
+ NC=1.763
+ BR=8.29
+ IKR=0.09
+ VAR=17.9
+ RB=10
+ IRB=5E-06
+ RBM=5
+ RE=0.649
+ RC=0.7014
+ XTB=0
+ EG=1.11
+ XTI=3
+ CJE=1.244E-11
+ VJE=0.7579
+ MJE=0.3656
+ TF=4.908E-10
+ XTF=9.51
+ VTF=2.927
+ ITF=0.3131
+ PTF=0
+ CJC=3.347p
+ VJC=0.5463
+ MJC=0.391
+ XCJC=0.6193
+ TR=9E-08
+ CJS=0
+ VJS=0.75
+ MJS=0.333
+ FC=0.979
.ENDS
*

.Subckt BC847BPN 1 2 3 4 5 6
Q1 6 2 1 nt
Q2 3 5 4 pt
.model nt npn is=1.822e-14 bf=324.4 nf=0.9932 vaf=82 ikf=0.109 ise=2.894e-16
+ ne=1.4 br=8.29 nr=0.9931 var=17.9 ikr=0.09
+ isc=9.982p nc=1.763 rb=10 irb=5u rbm=5
+ re=0.649 rc=0.7014 cje=12.44p vje=0.7579 mje=0.3656
+ tf=4.908e-10 xtf=9.51 vtf=2.927 itf=0.3131 ptf=0
+ cjc=3.347p vjc=0.5463 mjc=0.391 xcjc=0.6193 tr=90n xtb=0 eg=1.11
+ xti=3 fc=0.979
.model pt pnp is=2.014e-14 bf=315.3 nf=0.9974 vaf=39.15 ikf=0.079 ise=6.578f
+ ne=1.45 br=8.68 nr=0.9952 var=9.5 ikr=0.09
+ isc=1.633e-14 nc=1.15 rb=10 irb=5u rbm=5u
+ re=0.663 rc=0.718 cje=1.135e-11 vje=0.7071 mje=0.3808
+ tf=6.546e-10 xtf=5.387 vtf=6.245 itf=0.2108 ptf=0
+ cjc=6.395p vjc=0.4951 mjc=0.44 xcjc=0.6288 tr=55n xtb=0 eg=1.11
+ xti=3 fc=0.9059
.ends BC847BPN

*
.SUBCKT BC847BVN 1 2 3 4 5 6
*
* NXP Semiconductors
*
*
* BC847BVN
* Complementary NPN and PNP
* Transistors in SOT666
* QTR1 NPN
* QTR2 PNP
*
* hFE= min200 max450
* Ic= 100mA
* Vceo= 45V
*
* TOPVIEW:
*
* C-------(TR1)
* | B----(TR2)
* | | E-(TR2)
* | | |
* __6__5__4__
* | |
* | | SOT666
* |o |
* |___________|
* 1 2 3
* | | |
* | | C-(TR2)
* | B----(TR1)
* E-------(TR1)
*
Q1 6 2 1 QTR1
Q2 3 5 4 QTR2
*
.MODEL QTR1 NPN
+ IS=1.822E-14
+ NF=0.9932
+ ISE=2.894E-16
+ NE=1.4
+ BF=324.4
+ IKF=0.109
+ VAF=82
+ NR=0.9931
+ ISC=9.982p
+ NC=1.763
+ BR=8.29
+ IKR=0.09
+ VAR=17.9
+ RB=10
+ IRB=5E-06
+ RBM=5
+ RE=0.649
+ RC=0.7014
+ XTB=0
+ EG=1.11
+ XTI=3
+ CJE=1.244E-11
+ VJE=0.7579
+ MJE=0.3656
+ TF=4.908E-10
+ XTF=9.51
+ VTF=2.927
+ ITF=0.3131
+ PTF=0
+ CJC=3.347p
+ VJC=0.5463
+ MJC=0.391
+ XCJC=0.6193
+ TR=9E-08
+ CJS=0
+ VJS=0.75
+ MJS=0.333
+ FC=0.979
*
.MODEL QTR2 PNP
+ IS=2.014E-14
+ NF=0.9974
+ ISE=6.578f
+ NE=1.45
+ BF=315.3
+ IKF=0.079
+ VAF=39.15
+ NR=0.9952
+ ISC=1.633E-14
+ NC=1.15
+ BR=8.68
+ IKR=0.09
+ VAR=9.5
+ RB=10
+ IRB=5E-06
+ RBM=5E-06
+ RE=0.663
+ RC=0.718
+ XTB=0
+ EG=1.11
+ XTI=3
+ CJE=1.135E-11
+ VJE=0.7071
+ MJE=0.3808
+ TF=6.546E-10
+ XTF=5.387
+ VTF=6.245
+ ITF=0.2108
+ PTF=0
+ CJC=6.395p
+ VJC=0.4951
+ MJC=0.44
+ XCJC=1
+ TR=5.5E-08
+ CJS=0
+ VJS=0.75
+ MJS=0.333
+ FC=0.9059
.ENDS
*

.subckt KT3123A-2 C B E
Lc c 1 1n
Le e 3 0.5n
Lb b 2 1n
cce 1 3 300f
ccb 1 2 50f
cbe 2 3 180f
Lcv 1 10 0.5n
Lev 3 30 0.3n
Lbv 2 20 0.6n
q 10 20 30 model7
.model model7 pnp IS=172e-18 BF=76 NF=1 VAF=22 IKF=30m ISE=5.3f NE=1.83 BR=5 NR=1.1 VAR=1.7 IKR=1.7m ISC=15f NC=1.3 RB=10 RE=0.5 RC=5 CJE=1.5p VJE=630m MJE=271m TF=20p VTF=1.0 XTF=0.8 ITF=10m xcjc=0.5 CJC=1.5p VJC=289.3m MJC=271m TR=1n XTB=2
.ends KT3123A-2

.SUBCKT BFG31_PH 4 5 6
*NODES C B E
*SOT223C
Q1 1 2 3 BFQ32
L1 5 8 .025N
L2 4 1 1.19N
L3 6 7 .60N
Le 3 7 .2N
Lb 8 2 1.5N
CBE 8 7 182F
CCE 1 7 249F
CCB 8 1 16F
.MODEL BFQ32 PNP IS=1.04E-014 BF=113.265 NF=1.0122 VAF=23.6312
+ IKF=.505043 ISE=8.713E-014 NE=1.5733 BR=28.169 NR=1.0039
+ VAR=1.4144 IKR=4.169E-003 ISC=1.044E-011 NC=1.6699 RB=1
+ IRB=1E-006 RBM=1 RE=.3 RC=2.42 EG=1.11 XTI=3 CJE=3.954E-012
+ VJE=.6 MJE=.44867 TF=3E-012 XTF=18.687 VTF=8.343 ITF=.22248
+ CJC=3.399E-012 VJC=.48814 MJC=.27749 XCJC=.18 TR=2.571E-009
+ VJS=.75 FC=.90417
.ENDS


* c b e
.SUBCKT NE68033 2 1 3
Q1 5 7 8 NE68000
CCB 7 5 0.08p
CCE 5 8 0.08p
LE 8 6 0.95E-9
LB 4 7 0.65E-9
CCBPKG 4 5 0.1p
CCEPKG 5 6 0.1p
CBEPKG 4 6 0.01p
LBX 1 4 0.3E-9
LCX 5 2 0.5E-9
LEX 6 3 0.3E-9
* Q1 model parameters are as follows:
.MODEL NE68000 NPN
+(IS=3.84e-16 BF=124.9 NF=1.05 VAF=11.9 IKF=0.027
+ ISE=1e-14 NE=2.17 BR=1 NR=1.05 VAR=0
+ IKR=0 ISC=0 NC=2 RE=0.6 RB=17.9
+ RBM=1.02 IRB=4.01e-4 RC=10.5 CJE=0.358p VJE=0.71
+ MJE=0.5 CJC=0.162p VJC=0.79 MJC=0.64 XCJC=0
+ FC=0.5 TF=8.7p
+ XTF=18 VTF=19.1 ITF=0.082 PTF=0 TR=0.635n
+ EG=1.11 XTB=0 XTI=3)
.ENDS

* c b e
.SUBCKT NE68133 2 1 3
Q1 5 7 8 NE68100
CCB 7 5 0.07p
CCE 5 8 0.01p
LE 8 6 1.2E-9
LB 4 7 0.9E-9
CCBPKG 4 5 0.2p
CCEPKG 5 6 0.2p
CBEPKG 4 6 0.01p
LBX 1 4 0.3E-9
LCX 5 2 0.6E-9
LEX 6 3 0.3E-9
.MODEL NE68100 NPN
+( IS=2.7e-16 BF=185 NF=1.02 VAF=15 IKF=0.055
+ ISE=1.77e-11 NE=2.1 BR=1 NR=1 VAR=0
+ IKR=0 ISC=0 NC=2 RE=0.6 RB=12
+ RBM=3.7 IRB=1.2e-5 RC=8 CJE=1.2p VJE=0.77
+ MJE=0.5 CJC=0.8p VJC=0.27 MJC=0.56 XCJC=0
 FC=0.5 TF=14p
+ XTF=3 VTF=25 ITF=0.1 PTF=0 TR=0.3n
+ EG=1.11 XTB=0 XTI=3)
.ENDS

.SUBCKT NESG2021M05 7 8 9

Ccb 2 5 30f
Cce 2 6 1f
Cbe 7 9 30f
Cb 1 2 1f
Ce 2 3 180f
Lb 5 7 0.9e-9
Lc 2 8 1.2e-9
Le 6 9 0.17e-9
Lb2 1 5 0.35e-9
Le2 3 6 0.16e-9
Qnpn 2 1 3 qNESG2021M05_v16_M

.MODEL qNESG2021M05_v16_M NPN
+(IS=4.429f BF=331 NF=1.141 VAF=15
+ IKF=31.08e-3 BR=17.1 NR=1.102 VAR=2.7
+ IKR=26.09e-3 ISE=5.324f NE=1.609 ISC=100e-18
+ NC=1.197 RB=1.0 IRB=100e-6 RBM=0.05
+ RE=1.6 RC=5 CJE=459.9f VJE=767.5e-3
+ MJE=64.7e-3 CJC=109.4f VJC=672.6e-3 MJC=108.3e-3
+ XCJC=1 CJS=0 VJS=0.75 MJS=0
+ FC=0.8 TF=4p XTF=10 VTF=5
+ ITF=0.5 TR=0 PTF=20 EG=1.11
+ XTI=5.2 XTB=1.3)
.ENDS qNESG2021M05

.SUBCKT BFR181 200 100 300
L1 1 10 0.85nH
L2 2 20 0.001nH
L3 3 30 0.69nH
C1 10 20 84fF
C2 20 30 165fF
C3 30 10 73fF
L4 10 100 0.51nH
L5 20 200 0.49nH
L6 30 300 0.61nH
Q1 2 1 3 B181
.MODEL B181 NPN(
+ IS=1.0519e-18 BF=96.461 NF=0.90617
+ VAF=22.403 IKF=0.12146 ISE=1.2603e-14
+ NE=1.7631 BR=16.504 NR=0.87757
+ VAR=5.1127 IKR=0.24951 ISC=1.1195e-17
+ NC=1.6528 RB=9.9037 IRB=0.00069278
+ RBM=6.6315 RE=2.1372 RC=2.2171
+ CJE=1.8168f VJE=0.73155 MJE=0.43619
+ TF=1.7028e-11 XTF=0.33814 VTF=0.12571
+ ITF=0.0010549 PTF=0 CJC=3.1969e-13
+ VJC=1.1633 MJC=0.30013 XCJC=0.082903
+ TR=2.7449n
+ XTB=0 EG=1.11
+ XTI=3 FC=0.99768)
.ENDS


.SUBCKT NE677M04 7 8 9

Ccb 2 5 450f
Cce 2 6 80f
Cbe 7 9 5f
Cb 1 2 50f
Ce 2 3 100f
Lb 5 7 1.25e-9
Lc 2 8 0.8e-9
Le 6 9 0.45e-9
Lb2 1 5 0.01e-9
Le2 3 6 0.01e-9
Qnpn 2 1 3 q2SC5751_v16_M

.MODEL q2SC5751_v16_M NPN
+(IS=153.3e-18 BF=183.2 NF=1.0 VAF=41.0
+ IKF=514.6e-3 BR=16.59 NR=1.0 VAR=2.236
+ IKR=10.58e-3 ISE=3.304f NE=2.0 ISC=2.567e-18
+ NC=1.107 RB=3.0 IRB=75.9e-5 RBM=1.0
+ RE=1.2 RC=3.0 CJE=945.4f VJE=919.1e-3
+ MJE=310.8e-3 CJC=262.5f VJC=993.4e-3 MJC=841.4e-3
+ XCJC=0.1 CJS=0 VJS=0.75 MJS=0
+ FC=0.50 TF=10.6p XTF=0.39 VTF=0.668
+ ITF=0.06 TR=0 PTF=20 EG=1.11
+ XTI=3.0 XTB=0)
.ENDS NE677M04



* bfg591 philips semiconductors
* date : september 1995
* package : sot223a die model : bfr590
* 1: collector; 2: base; 3: emitter;
.subckt bfg591 1 2 3
q1 6 5 7 chip590
* sot223a parasitic model
lb 4 5 1.5n
le 7 8 .5n
l1 2 4 .025n
l2 1 6 1.19n
l3 3 8 .6n
ccb 4 6 16f
cbe 4 8 182f
.model chip590 npn is=1.3419f bf=123.5 nf=0.9881 vaf=75.852 ikf=9.65644 ise=2.322e-13 ne=2.1341 br=10.228 nr=1.0169 var=1.99263 ikr=0.294 isc=2.11091e-16 nc=0.9972 rb=5 re=1.2756 rc =0.921 cje=3.822p vje =0.6 mje =0.349 tf=13.61p xtf=71.737 vtf=10.289 itf=1.92945 cjc=1.41p vjc=0.2194 mjc=0.1665
.ends bfg591

.SUBCKT BLT81_PH 4 5 6
*NODES C B E
*SOT223D
Q1 1 2 3 BLT81
L1 5 8 .025N
L2 4 1 1.19N
L3 6 7 .60N
Le 3 7 .2N
Lb 8 2 .75N
CBE 8 7 182F
CCE 1 7 249F
CCB 8 1 16F
.MODEL BLT81 NPN IS=1.074E-015 BF=26 NF=.9712 VAF=40 IKF=69.71
+ ISE=2.611E-009 NE=2.969 BR=6 NR=.9729 VAR=5.65 IKR=10
+ ISC=3.239E-011 NC=1.885 RB=1 RE=.01
+ RC =.8 EG=1.11 XTI=3 CJE=1.46E-011 VJE=.6 MJE=.289
+ TF=1.899E-011 XTF=136.6 VTF=1.019E-002 ITF=.1812 CJC=4.145p
+ VJC=.6498 MJC=.399 XCJC=.1 TR=8n FC=.4157
.ENDS


* BFM505 SPICE MODEL
* PHILIPS SEMICONDUCTORS
* Date : September 1995
*
* PACKAGE : SOT363 DIE MODEL : BFR505
* 1: COLLECTOR1; 2: BASE1; 3: EMITTER1; 4: COLLECTOR2; 5: BASE2; 6: EMITTER2
.SUBCKT BFM505_PH 2 3 1 5 6 4
Q1 7 8 9 9 BFR505
Q2 10 11 12 12 BFR505
* SOT363 parasitic model
Lb1 2 8 .6n
Lb2 5 11 .6n
Le1 3 9 1n
Le2 6 12 1n
Lp1 1 7 .4n
Lp2 4 10 .4n
Cc1b1 1 2 48f
Cc2b2 4 5 48f
Cc1b2 1 5 3f
Cc2b1 2 4 3f
Cc1e1 1 3 17f
Cc1e2 1 6 36f
Cc2e2 4 6 17f
Cc2e1 3 4 36f
Cb1b2 2 5 1f
Cc1c2 1 4 6f
Ce1e2 3 6 6f
Cb1e1 2 3 27f
Cb2e2 5 6 27f
Cb1e2 2 6 3f
Cb2e1 5 3 35f
*
* PHILIPS SEMICONDUCTORS Version: 1.0
* Filename: BFR505.PRM Date: Feb 1992
*
.MODEL BFR505 NPN
+ IS=1.34186E-016
+ BF=180
+ NF=0.988285
+ VAF=38.3491
+ IKF=0.15
+ ISE=2.78188E-014
+ NE=2.05149
+ BR=55.1997
+ NR=0.982213
+ VAR=2.45944
+ IKR=2.92072m
+ ISC=1.74527E-017
+ NC=1.06245
+ RB=20
+ RE=1.1719
+ RC=4.35
+ EG=1.11
+ XTI=3.
+ CJE=0.284731p
+ VJE=0.6
+ MJE=0.303697
+ TF=7.03759p
+ XTF=12.346
+ VTF=1.70189
+ ITF=30.6496m
+ CJC=0.242404p
+ VJC=0.188622
+ MJC=0.0414981
.ENDS

* BFM520 SPICE MODEL
* PHILIPS SEMICONDUCTORS
* Date : September 1995
*
* PACKAGE : SOT363 DIE MODEL : BFR520
* 1: COLLECTOR1; 2: BASE1; 3: EMITTER1; 4: COLLECTOR2; 5: BASE2; 6: EMITTER2
.SUBCKT BFM520_PH 2 3 1 5 6 4
Q1 7 8 9 9 BFR520
Q2 10 11 12 12 BFR520
* SOT363 parasitic model
Lb1 2 8 .6n
Lb2 5 11 .6n
Le1 3 9 1n
Le2 6 12 1n
Lp1 1 7 .4n
Lp2 4 10 .4n
Cc1b1 1 2 48f
Cc2b2 4 5 48f
Cc1b2 1 5 3f
Cc2b1 2 4 3f
Cc1e1 1 3 17f
Cc1e2 1 6 36f
Cc2e2 4 6 17f
Cc2e1 3 4 36f
Cb1b2 2 5 1f
Cc1c2 1 4 6f
Ce1e2 3 6 6f
Cb1e1 2 3 27f
Cb2e2 5 6 27f
Cb1e2 2 6 3f
*
* PHILIPS SEMICONDUCTORS Version: 1.0
* Filename: BFR520.PRM Date: Feb 1992
*
.MODEL BFR520 NPN
+ IS=1.01677E-015 BF=2.20182E+002 NF=1.00065 VAF=4.80619E+001 IKF=5.10042E-001
+ ISE=2.83095E-013 NE=2.03568 BR=1.00714E+002 NR=9.88109E-001 VAR=1.69288E+000
+ IKR=2.35262E-003 ISC=2.44898E-017 NC=1.02256 RB=10 IRB=1u RBM=10 RE=7.75349E-001
+ RC=2.21 EG=1.11 XTI=3 CJE=1.24548p VJE=0.6 MJE=2.58153E-001 TF=8.61625E-012
+ XTF=6.78866 VTF=1.41469 ITF=1.10365E-001 PTF=4.50197E+001 CJC=4.47646E-013 VJC=1.89234E-001
.ENDS

.SUBCKT UPA800T 1 2 3 6 5 4
Q1 7 8 10 UPA800Tx
.MODEL UPA800Tx NPN AF=1.0 BF=124.9 BR=1.0 CJC=0.162p
+ CJE=0.358p CJS=0.0 EG=1.11 FC=0.5 IKF=0.027 IKR=0.0
+ IRB=4.01e-4 IS=3.84e-16 ISC=0.0 ISE=1.0e-14 ITF=.082 KF=0.0
+ MJC=0.64 MJE=0.5 MJS=0.0 NC=2.0 NE=2.17 NF=1.04 NR=1.05
+ PTF=0.0 RB=17.9 RBM=1.02 RC=10.5 RE=0.6 TF=8.7p
+ TR=0.635e-9 VAF=11.9 VAR=0.0 VJC=0.791 VJE=0.711 VJS=0.750
+ VTF=19.1 XCJC=0.0 XTB=0.0 XTF=18.0 XTI=3.0
Q2 15 11 13 UPA800Tx
CCB1 7 8 0.08P
LB1 8 9 0.8N
CCBPKG1 7 9 0.07P
C_E1B2 10 11 0.05P
LB2 11 12 0.8N
C_B1B2 9 12 0.03P
C_C1B2 7 12 0.05P
LB_6 9 6 0.5N
LB_5 12 5 0.5N
LE2 13 14 0.5N
C_B2E2 12 14 0.05P
LE_4 14 4 0.5N
CCE2 15 13 0.08P
CCEPKG2 15 14 0.15P
CCBPKG2 15 12 0.05P
LC_3 3 15 0.5N
CCB2 15 11 0.08P
C_E1C2 15 16 0.05P
LE1 16 10 0.5N
CCE1 10 7 0.08P
C_C1E1 16 7 0.12P
LC_1 1 7 0.5N
LE_2 2 16 0.5N
.ENDS


.SUBCKT BC860C_SIE 1 2 3
Q 6 5 7 BC860/SIE 1.000
LC 1 6 0.350N
L1 2 4 0.400N
LB 4 5 0.500N
L2 3 8 0.400N
LE 8 7 0.600N
CGBC 4 6 70.00F
CGBE 4 8 0.150P
CGCE 6 8 15.00F
.MODEL BC860/SIE PNP (IS=28F NF=1 BF=284.436 VAF=43 IKF=0.38
+ ISE=24.903F NE=2.234 NR=1.005 BR=4.800 VAR=6.960 IKR=0.932 ISC=0.125P NC=2.074
+ RB=2.2 IRB=0.1M RBM=1.5 RE=0.3 RC=2.251
+ CJE=11.8P VJE=1. MJE=0.435 FC=0.75 CJC=8.7P VJC=0.9 MJC=0.6 XCJC=0.65
+ TF=0.600N TR=2.604N PTF=1 XTF=6.500 VTF=2. ITF=0.314 XTB=1.600 EG=1.11 XTI=3.3
+ KF=5F AF=1)
.ENDS

.SUBCKT BC850C 1 2 3
Q 6 5 7 BC850 1.000
LC 1 6 0.350N
L1 2 4 0.400N
LB 4 5 0.500N
L2 3 8 0.400N
LE 8 7 0.600N
CGBC 4 6 70.00F
CGBE 4 8 0.150P
CGCE 6 8 15.00F
.MODEL BC850 NPN (IS=45.000F NF=1.010 BF=516.544 VAF=74.000 IKF=0.708
+ ISE=55.668F NE=2.567 NR=1.015 BR=7.745 VAR=14.000 IKR=1.000
+ ISC=1.084P NC=4.063
+ RB=9.000 IRB=0.100M RBM=4.500
+ RE=0.350 RC=1.445
+ CJE=13.050P VJE=0.690 MJE=0.375 FC=0.750
+ CJC=4.100P VJC=0.750 MJC=0.420 XCJC=0.650
+ TF=0.620N TR=2.5N PTF=1.000
+ XTF=68.000 VTF=1.000 ITF=0.720
+ XTB=1.400 EG=1.110 XTI=3.200
+ KF=10.000F AF=1.000)
.ENDS

.SUBCKT BF824 1 2 3
* housing parasitics
LB 2 22 1.25E-09
LE 3 33 1.12E-09
LC 1 11 0.23E-09
CBCG 22 11 6.2E-14
CBEG 22 33 4.5E-14
CCEG 11 33 6.2E-14
Q1 11 22 33 QBF824
*
.MODEL QBF824 PNP(IS=3.686E-16 NF=0.9966 ISE=2.604E-16 NE=1.263 BF=48.63 IKF=0.081 VAF=69
+ NR=1.01 ISC=9.693E-13 NC=1.56 BR=1.682 IKR=0.1 VAR=23 RB=18 IRB=3E-06 RBM=2 RE=0.4232 RC=1.5
+ XTB=0 EG=1.11 XTI=3 CJE=1.99p VJE=0.7036 MJE=0.2976 TF=2.559E-10 XTF=4.5 VTF=6 ITF=0.1 PTF=0
+ CJC=3.103p VJC=0.4209 MJC=0.3358 XCJC=0.0464 TR=3E-08 FC=0.9506)
.ENDS

.SUBCKT NE97733 1 2 3
Q1 6 5 7 7 q
 Lb 4 5 .4n
 Le 7 8 .83n
 L1 2 4 .35n
 L2 1 6 .17n
 L3 3 8 .35n
 Ccb 4 6 71f
 Cbe 4 8 71f
.MODEL q PNP
+ IS=8.E-015
+ BF=44
+ NF=1 VAF=8 IKF=150ma
+ ISE=9.E-014
+ NE=1.75
+ BR=12
+ NR =1 VAR=3.
+ IKR=6ma ISC=2.3E-014 NC=1.5
+ RB=10 RE=0.2 RC=1.5
+ EG=1.11 XTI=3 xtb=0
+ CJE=1p VJE =0.6 MJE=0.38
+ TF=7p TR=300p XCJC =0.1 ptf=90
+ XTF=2.2 VTF=3 ITF=5ma
+ CJC=1p VJC=0.6 MJC=0.2
.ENDS

.subckt BBY65-02V k a
b 0 f i=1m*Table(v(k,av),-1,36.5,0.,36.5,0.3,29.5,1,20.25,2,9.8,3,4.45,4.7,2.7)
rc 0 f 1k
cr 0 f 10p
bc k av i=i(va)*(v(f)-1)
C k avv 1p
va avv av 0
r av a 0.6
d av k diod
.model diod d isr=10n
.ends
*
.subckt 74xx123 A B nR Q nQ
*param vcc=5 tz=25n T=150n R=60
A1 N001 0 N004 0 N009 N005 N002 0 DFLOP Vhigh={VCC}
A5 A 0 0 0 0 N003 0 0 BUF Vhigh={VCC}
A6 nR 0 0 0 0 N008 0 0 BUF Vhigh={VCC}
A7 N003 0 N006 nR 0 0 N004 0 AND Vhigh={VCC} td=10n
A4 B 0 0 0 0 0 N006 0 BUF Vhigh={VCC}
A3 N002 0 0 0 0 0 Q 0 BUF Vhigh={VCC} TD={tz-10n} Rout={R} Trise=3n
A8 N005 0 0 0 0 0 nQ 0 BUF Vhigh={VCC} TD={tz-10n} Rout={R} Trise=3n
A9 0 N008 0 N007 0 0 N009 0 OR Vhigh={VCC} td=10n
V4 N001 0 {vcc}
C1 N007 0 {(T-10n)/69315} ic=0
D1 N007 N002 Dd
.model Dd d Ron=0.1 Roff=100k
.end 74xx123

.subckt 74xx123q A B nR Q nQ
*param vcc=5 tz=25n T=150n R=60
A1 N001 0 N004 0 N008 N005 N002 0 DFLOP Vhigh={VCC}
A5 A 0 0 0 0 N003 0 0 BUF Vhigh={VCC}
A6 nR 0 0 0 0 N007 0 0 BUF Vhigh={VCC}
A7 N003 0 B nR 0 0 N004 0 AND Vhigh={VCC} td=10n
A3 N002 0 0 0 0 0 Q 0 BUF Vhigh={VCC} TD={tz-10n} Rout={R} Trise=3n
A8 N005 0 0 0 0 0 nQ 0 BUF Vhigh={VCC} TD={tz-10n} Rout={R} Trise=3n
A9 0 N007 0 N006 0 0 N008 0 OR Vhigh={VCC} td=10n
V4 N001 0 {vcc}
C1 N006 0 {(T-10n)/69315} ic=0
D1 N006 N002 D
A2 N004 0 N010 0 0 0 N009 0 AND Vhigh={VCC}
A4 N004 0 0 0 0 N010 0 0 BUF Vhigh={VCC} td=10n
S1 0 N006 N009 0 SW1
.model d d Ron=0.1 Roff=100k
.model sw1 sw Ron=0.01 Roff=1T Vt={vcc/2} Vh=10m
.end 74xx123q

*Opto-Isolators H11L1
* author - Bordodynov
.subckt H11L1 Anode Cathode Vcc Gnd Out params: ion=1.33m ioff=1m KT=1; kt=0.5-4
Q1 Out n12 Gnd 0 QOPTO
R7 n12 N001 1K
D1 13 Cathode1 DLED0
Vm Anode 13 0
D2 Anode Cathode1 DLED
Rd Catode1 catode 0.8
A1 N003 0 0 0 0 outv 0 0 SCHMITT Vh={Vh0}, Vt=0.5 Trise=0.1u
B1 N002 0 V=limit(0,i(Vm)*2/({ion}+{ioff}),10)
R1 N002 N003 1k
C1 N003 0 {Kt*880p}
B2 Vcc N001 V=v(outv)*v(vcc,gnd)
.MODEL QOPTO NPN(BF=500 VAF=100 IKF=100M CJC=5P CJE=100P TR=15N TF=15N)
.MODEL DLED0 D(N=2 is=0.5e-14)
.MODEL DLED D(N=2 CJO=18P is=0.5e-14)
.param Vh0=({ion}-{ioff})/({ion}+{ioff})/2
.ends H11L1


*Opto-Isolators 3kV 19%
.SUBCKT 6N136 2 3 5 6 8 7
* ANODE CATHODE EMITTER col phkat BAZA
*TI 6N136
* Current Transfer Ratio (CTR)=(H*G*BF)=19%
VM 2 60
D1 60 3 LED
d2 2 3 ledc
H1 70 0 VM .00152
R1 70 80 1K
C1 80 0 80PF
G1 8 7 80 0 1
d3 7 8 phd
Q1 6 7 5 QOPTO
.MODEL LED D(N=2.63 RS=1.25 IS=757f)
.MODEL LEDc D(N=5 RS=1.25 CJO=60PF IS=10p)
.model phd d cjo=5p is=1p
.MODEL QOPTO NPN(IS=7p NF=1.23 CJC=2PF
+ CJE=7PF TF=.55NS TR=10NS BF=125 BR=10
+ IKF=100MA VAF=100)
.ENDS

* 6n137.sub
* Helmut Sennewald
.subckt 6n137 A K S C V E
D1 A N001 LED
C1 A K 1p
V1 N001 K 0
R2 ta S 100
C2 ta S 200p
B2 S ta I=TABLE(I(V1), 0,0,2.5m,50m,15m, 55m)
C10 A C 0.1p
C11 K S 0.1p
M1 C ga S S NMOS1
C5 C ga 10p
De1 E V Dd1
R6 V E 6k
R7 E S 100k
B4 0 en I=TABLE(V(E,S), 0,0,1.4,0,1.5, 1m)
R4 en 0 1k
R5 V S 1.5k
C6 C S 10p
C4 en 0 10p
B3 S ga I=V(ta,s)*V(en)*10m
R3 ga S 100
C3 ga S 20p
.model LED D(Is=1e-17 Rs=4 N=1.5 Eg=1.7 CJO=5p Tt=5n)
.model NMOS1 NMOS(Vt0=2 Kp=0.03 Rs=5 Rd=5 lambda=0.02)
.model Dd1 D(Is=1e-7 Rs=10 Cjo=5p Tt=5n)
.ends 6n137

* HCNR200 Linear Optocoupler SPICE Model
* LED Cathode
* | LED Anode
* | | PD1 Cathode
* | | | PD1 Anode
* | | | | PD2 Anode
* | | | | | PD2 Cathode
* | | | | | |
.SUBCKT HCNR200 1 2 3 4 5 6
* LED circuit
QLED1 8 2 7 QCPL .5
QLED2 9 2 7 QCPL .5
VLED 7 1 DC .685
VPD1 8 1 DC 2
VPD2 9 1 DC 2
* Input photodiode circuit
DPD1 4 3 DPHOTO
FPD1 3 4 VPD1 -1
CPD1 4 3 8P
* Output photodiode circuit
DPD2 5 6 DPHOTO
FPD2 6 5 VPD2 -1
CPD2 5 6 8P
* Photodiode model
.MODEL DPHOTO D(IS=4.5p RS=150 N=1.3 XTI=4 EG=1.11
+ CJO=14P M=1.96 VJ=1.9)
* LED/Optical-coupling transistor model
.model QCPL NPN(IS=2.214E-19 BF=10m NF=1.010 IKF=11.00m ISE=1.167P
+ NE=1.737 RB=3.469 VAF=100 TF=1.77U CJE=80P)
.ENDS HCNR200

.subckt hcpl3180 NC AN CA NC Vee Vo1 Vo Vcc
V1 N005 CA 0
D1 AN N005 DINP
D2 Vcc N002 DOUT
W1 N001 N004 V1 SWON
W2 N004 Vee V1 SWOFF
V2 Vee N001 5
R1 N004 N003 1k
C1 N003 Vee 250p
S1 N002 Vo Vee N003 SWUP ON
S2 Vo Vee Vee N003 SWDN OFF
R2 NC 0 5meg
R3 Vo Vo1 1m
.model DINP D(Ron=5 Roff=10meg Vfwd=1.1 Vrev=5)
.model DOUT D(Ron=0 Roff=10meg Vfwd=2)
.model SWON CSW(It=2.9m Ih=-0,1m Ron=1 Roff=10meg)
.model SWUP SW(Vt=2.5 Vh=-0,5 Ron=1.2 Roff=10meg)
.model SWDN SW(Vt=2.5 Vh=-0,5 Ron=10meg Roff=2)
.model SWOFF CSW(It=2.9m Ih=-0,1m Ron=10meg Roff=1)
.ends hcpl3180


* Sharp Optocoupler PC357NT
* File pc357nt.lib
.subckt pc357nt A K E C
D1 A N001 LED
Q1 C 5 E 0 NPN1 1
R1 5 E 10G
C1 A K 20p
V1 N001 K 0
R2 N002 0 1
C2 N002 0 200n
B1 0 N002 I=TABLE(I(V1), 0,0,10m,10m,15m, 14m, 20m,17m,40m,25m,80m,35m,160m,50m)
G1 E 5 N002 0 0.035
C3 C 5 10p
C4 A C 0.3p
C5 K E 0.3p
C6 5 E 10p
.model LED D(Is=1f Rs=4 N=1.5 Eg=1.7 CJO=30p TT=100n)
.model NPN1 NPN(Is=1p BF=200 VAF=80 IKF=0.025 ISE=1e-9 NE=2 CJC=20p CJE=50p TF=5e-8 Rb=100 Rc=20 Re=5)
.ends pc357nt

* hcpl-3140.asc
* Helmut Sennewald, 08/18/2006, V1.1
*
.subckt hcpl-3140 A C VEE VO VCC
D1 A N008 LED
C1 A C 1p
V1 N008 C 0
R2 TRIMP 0 250
C2 TRIMP 0 200p
B2 0 TRIMP I=TABLE(I(V1), 0,0,6m,8m)
C11 A N001 0.3p
C12 C N001 0.3p
Rpwr VCC VEE 15k
Cpwr VCC VEE 20p
Q1 VCC N006 N007 0 NPN2
Q2 N009 N010 VEE 0 NPN2
A1 0 ENA 0 N003 0 0 H_EN 0 AND tripdt=5n trise=5n
R5 VCC N002 R=10+5*abs(V(VCC)-V(VO))
S1 N005 N002 H_EN 0 SW1
R3 VEE N010 35
R6 N005 N007 10
R11 A N001 4G
R12 C N001 4G
D2 VO VCC Dd1
A3 LIM1 0 0 0 0 0 ENA 0 AND Ref=1 td=170n
A4 0 0 ENA 0 0 0 N003 0 AND td=10n
A2 0 N003 0 ENA 0 L_EN 0 0 OR trise=5n
R1 TRIMP LIM1 8k
C5 LIM1 0 20p
D3 TRIMP N004 DI
R9 N004 LIM1 8k
R10 N005 N006 20
C6 VCC N005 20p
R4 N009 VO 1.8
R7 N007 VO 1
D4 VEE VO Dd1
G2 VEE N010 L_EN 0 {2/35}
.model LED D(Is=1e-18 Rs=4 N=1.6 Eg=1.7 CJO=60p Tt=10n)
.model Dd1 D(Is=1e-7 Rs=10 Cjo=5p Tt=5n)
.model DI D(Is=1e-6 N=0.01)
.model SW1 SW(Ron=100m Roff=1e7 Vt=0.5 VH=-0.4)
.model NPN2 NPN(Is=1e-14 BF=15 VAF=40 Cjc=10p TF=5e-10)
.ends hcpl-3140


* OPTOMOS CPC1018N_R05
*
.subckt optomos A K D1 D2
.param IFON=1m RON=0.65 TOFF=250u COUT=25p CIO=1p
* OPTOMOS CPC1018N_R05
*
D1 A N003 LED
C1 A K 10p
V1 N003 K 0
R2 gs 0 1k
C2 gs 0 {2*TOFF/1000}
B1 0 gs I=7m*atan(abs(0.8*I(V1)/IFON))
C4 A D2 {CIO/2}
C5 K D1 {CIO/2}
C7 D2 D1 {COUT}
M1 D2 N001 N004 N004 NMOS1
M2 D1 N005 N004 N004 NMOS1
G1 N004 N001 gs 0 1m
R1 N001 N004 1k
G2 N004 N005 gs 0 1m
R3 N005 N004 1k
V2 N002 0 6
D2 gs N002 DD
.model LED D(Is=1e-16 Rs=3 N=1.5 Eg=1.8 CJO=18p TT=100n)
.model NMOS1 NMOS(Vto=3.5 Kp={0.65/RON})
.model DD D(Is=1e-14 N=1)
.ends optomos


.SUBCKT AOD130A 1 2 3 4
.param k=0.01 kr=k*2
dlr 4 1 rrr
r1 4 40 2
df1 40 5 fff
va 5 1 0
df1t 40 1 ffft
b1 3 2 i=i(va)*kr
dfoto 2 3 df
.model df d is=1n rs=10 cjo=5p mj=0.5 vj=2
.model rrr d is=1n n=10 cjo=60p
.model fff d is=1e-18 n=1.33
.model ffft d is=1e-18 n=1.33 tt=88n
.ENDS AOD130A

* OPTO TRIAC
* Helmut Sennewald 8/10/2004
* MOC3020 I_trig=8mA
* D+ D- MT2 MT1
.SUBCKT MOC3020 1 2 3 4
.PARAM Itrig=15m
.PARAM RH1=20k
.PARAM RH2=20k
.PARAM RH3=16.7k
Q2 vb1 vb1p vd1 0 PNP1
Q1 vb1p vb1 4 0 NPN1
R3 vb1 4 {RH2}
D1 1 2 DL
R1 ctrl1 4 1
C1 ctrl1 4 10µ
R2 ctrl1 vb1 {RH1}
R4 vd1 vb1p {RH3}
B1 ctrl1 4 I=-500*I(D1)*3m/Itrig
R6 vd2 vb2 {RH2}
D3 vd2 3 D1
Q3 vb2 vb2p 4 0 PNP1
Q4 vb2p vb2 vd2 0 NPN1
E1 vd2 N001 ctrl1 4 -1
R5 N001 vb2 {RH1}
R7 vb2p 4 {RH3}
D2 3 vd1 D1
R34 3 4 100MEG
.MODEL PNP1 PNP(Is=1f BF=10 Cjc=10p Cje=20p Tf=0.1u Ise=1p)
.MODEL NPN1 NPN(Is=1f BF=10 Cjc=10p Cje=20p Tf=0.1u Ise=1p)
.MODEL D1 D(Is=0.1u Rs=2 Cj0=50p)
.MODEL DL D(Is=1e-20 Rs=5)
.ENDS

* OPTO TRIAC
* Helmut Sennewald 8/10/2004
* MOC3021 I_trig=8mA
* D+ D- MT2 MT1
.SUBCKT MOC3021 1 2 3 4
.PARAM Itrig=8m
.PARAM RH1=20k
.PARAM RH2=20k
.PARAM RH3=16.7k
Q2 vb1 vb1p vd1 0 PNP1
Q1 vb1p vb1 4 0 NPN1
R3 vb1 4 {RH2}
D1 1 2 DL
R1 ctrl1 4 1
C1 ctrl1 4 10µ
R2 ctrl1 vb1 {RH1}
R4 vd1 vb1p {RH3}
B1 ctrl1 4 I=-500*I(D1)*3m/Itrig
R6 vd2 vb2 {RH2}
D3 vd2 3 D1
Q3 vb2 vb2p 4 0 PNP1
Q4 vb2p vb2 vd2 0 NPN1
E1 vd2 N001 ctrl1 4 -1
R5 N001 vb2 {RH1}
R7 vb2p 4 {RH3}
D2 3 vd1 D1
R34 3 4 100MEG
.MODEL PNP1 PNP(Is=1f BF=10 Cjc=10p Cje=20p Tf=0.1u Ise=1p)
.MODEL NPN1 NPN(Is=1f BF=10 Cjc=10p Cje=20p Tf=0.1u Ise=1p)
.MODEL D1 D(Is=0.1u Rs=2 Cj0=50p)
.MODEL DL D(Is=1e-20 Rs=5)
.ENDS

* OPTO TRIAC
* Helmut Sennewald 8/10/2004
* MOC3022 I_trig=5mA
* D+ D- MT2 MT1
.SUBCKT MOC3022 1 2 3 4
.PARAM Itrig=5m
.PARAM RH1=20k
.PARAM RH2=20k
.PARAM RH3=16.7k
Q2 vb1 vb1p vd1 0 PNP1
Q1 vb1p vb1 4 0 NPN1
R3 vb1 4 {RH2}
D1 1 2 DL
R1 ctrl1 4 1
C1 ctrl1 4 10µ
R2 ctrl1 vb1 {RH1}
R4 vd1 vb1p {RH3}
B1 ctrl1 4 I=-500*I(D1)*3m/Itrig
R6 vd2 vb2 {RH2}
D3 vd2 3 D1
Q3 vb2 vb2p 4 0 PNP1
Q4 vb2p vb2 vd2 0 NPN1
E1 vd2 N001 ctrl1 4 -1
R5 N001 vb2 {RH1}
R7 vb2p 4 {RH3}
D2 3 vd1 D1
R34 3 4 100MEG
.MODEL PNP1 PNP(Is=1f BF=10 Cjc=10p Cje=20p Tf=0.1u Ise=1p)
.MODEL NPN1 NPN(Is=1f BF=10 Cjc=10p Cje=20p Tf=0.1u Ise=1p)
.MODEL D1 D(Is=0.1u Rs=2 Cj0=50p)
.MODEL DL D(Is=1e-20 Rs=5)
.ENDS

* OPTO TRIAC
* Helmut Sennewald 8/10/2004
* MOC3023 I_trig=3mA
* D+ D- MT2 MT1
.SUBCKT MOC3023 1 2 3 4
.PARAM Itrig=3m
.PARAM RH1=20k
.PARAM RH2=20k
.PARAM RH3=16.7k
Q2 vb1 vb1p vd1 0 PNP1
Q1 vb1p vb1 4 0 NPN1
R3 vb1 4 {RH2}
D1 1 2 DL
R1 ctrl1 4 1
C1 ctrl1 4 10µ
R2 ctrl1 vb1 {RH1}
R4 vd1 vb1p {RH3}
B1 ctrl1 4 I=-500*I(D1)*3m/Itrig
R6 vd2 vb2 {RH2}
D3 vd2 3 D1
Q3 vb2 vb2p 4 0 PNP1
Q4 vb2p vb2 vd2 0 NPN1
E1 vd2 N001 ctrl1 4 -1
R5 N001 vb2 {RH1}
R7 vb2p 4 {RH3}
D2 3 vd1 D1
R34 3 4 100MEG
C34 3 4 30p
.MODEL PNP1 PNP(Is=1f BF=10 Cjc=5p Cje=20p Tf=0.1u Ise=1p)
.MODEL NPN1 NPN(Is=1f BF=10 Cjc=5p Cje=20p Tf=0.1u Ise=1p)
.MODEL D1 D(Is=0.1u Rs=2 Cj0=50p)
.MODEL DL D(Is=1e-20 Rs=5)
.ENDS

* OPTO TRIAC With Zero Crossing Switching
* Helmut Sennewald 11/23/2008
* 04/12/2009, change in B-sources: V(ctrl10) -> V(ctrl10,4)
*
*
* MOC3081 I_trig=15mA
* D+ D- MT2 MT1
*
.subckt moc3081 1 2 3 4
.PARAM Itrig=15m
.PARAM RH1=20k
.PARAM RH2=20k
.PARAM RH3=16.7k
Q1 vb1p vb1 4 0 NPN1
Q2 vb1 vb1p vd1 0 PNP1
R3 vb1 4 {RH2}
D1 1 2 DL
R1 ctrl10 4 1
C1 ctrl10 4 10µ
R2 ctrl1 vb1 {RH1}
R4 vd1 vb1p {RH3}
B1 ctrl10 4 I=-500*I(D1)*3m/Itrig
R7 vb2p 4 {RH3}
R6 vd2 vb2 {RH2}
Q3 vb2p vb2 vd2 0 NPN1
Q4 vb2 vb2p 4 0 PNP1
D3 vd2 3 D1
D2 3 vd1 D1
R5 N001 vb2 {RH1}
E1 vd2 N001 ctrl1 4 -1
R34 3 4 100MEG
R12 ctrl1 4 1
B2 ctrl1 4 V=IF(V(ctrl10,4)>1.45 & abs(V(34)) < 12, 2, 0)
C2 ctrl1 4 1µ
B3 34 0 I=-V(3,4)/1000
R13 34 0 1k
C3 34 0 .1µ
.MODEL PNP1 PNP(Is=1f BF=10 Cjc=10p Cje=20p Tf=0.1u Ise=1p)
.MODEL NPN1 NPN(Is=1f BF=10 Cjc=10p Cje=20p Tf=0.1u Ise=1p)
.MODEL D1 D(Is=0.1u Rs=2 Cj0=50p)
.MODEL DL D(Is=1e-20 Rs=5)
.ends moc_3081


* OPTO TRIAC With Zero Crossing Switching
* Helmut Sennewald 11/23/2008
* MOC3082 I_trig=10mA
* D+ D- MT2 MT1
*
.subckt moc3082 1 2 3 4
.PARAM Itrig=10m
.PARAM RH1=20k
.PARAM RH2=20k
.PARAM RH3=16.7k
Q1 vb1p vb1 4 0 NPN1
Q2 vb1 vb1p vd1 0 PNP1
R3 vb1 4 {RH2}
D1 1 2 DL
R1 ctrl10 4 1
C1 ctrl10 4 10µ
R2 ctrl1 vb1 {RH1}
R4 vd1 vb1p {RH3}
B1 ctrl10 4 I=-500*I(D1)*3m/Itrig
R7 vb2p 4 {RH3}
R6 vd2 vb2 {RH2}
Q3 vb2p vb2 vd2 0 NPN1
Q4 vb2 vb2p 4 0 PNP1
D3 vd2 3 D1
D2 3 vd1 D1
R5 N001 vb2 {RH1}
E1 vd2 N001 ctrl1 4 -1
R34 3 4 100MEG
R12 ctrl1 4 1
B2 ctrl1 4 V=IF(V(ctrl10,4)>1.45 & abs(V(34)) < 12, 2, 0)
C2 ctrl1 4 1µ
B3 34 0 I=-V(3,4)/1000
R13 34 0 1k
C3 34 0 .1µ
.MODEL PNP1 PNP(Is=1f BF=10 Cjc=10p Cje=20p Tf=0.1u Ise=1p)
.MODEL NPN1 NPN(Is=1f BF=10 Cjc=10p Cje=20p Tf=0.1u Ise=1p)
.MODEL D1 D(Is=0.1u Rs=2 Cj0=50p)
.MODEL DL D(Is=1e-20 Rs=5)
.ends moc_3082


* OPTO TRIAC With Zero Crossing Switching
* Helmut Sennewald 11/23/2008
* MOC3083 I_trig=5mA
* D+ D- MT2 MT1
*
.subckt moc3083 1 2 3 4
.PARAM Itrig=5m
.PARAM RH1=20k
.PARAM RH2=20k
.PARAM RH3=16.7k
Q1 vb1p vb1 4 0 NPN1
Q2 vb1 vb1p vd1 0 PNP1
R3 vb1 4 {RH2}
D1 1 2 DL
R1 ctrl10 4 1
C1 ctrl10 4 10µ
R2 ctrl1 vb1 {RH1}
R4 vd1 vb1p {RH3}
B1 ctrl10 4 I=-500*I(D1)*3m/Itrig
R7 vb2p 4 {RH3}
R6 vd2 vb2 {RH2}
Q3 vb2p vb2 vd2 0 NPN1
Q4 vb2 vb2p 4 0 PNP1
D3 vd2 3 D1
D2 3 vd1 D1
R5 N001 vb2 {RH1}
E1 vd2 N001 ctrl1 4 -1
R34 3 4 100MEG
R12 ctrl1 4 1
B2 ctrl1 4 V=IF(V(ctrl10,4)>1.45 & abs(V(34)) < 12, 2, 0)
C2 ctrl1 4 1µ
B3 34 0 I=-V(3,4)/1000
R13 34 0 1k
C3 34 0 .1µ
.MODEL PNP1 PNP(Is=1f BF=10 Cjc=10p Cje=20p Tf=0.1u Ise=1p)
.MODEL NPN1 NPN(Is=1f BF=10 Cjc=10p Cje=20p Tf=0.1u Ise=1p)
.MODEL D1 D(Is=0.1u Rs=2 Cj0=50p)
.MODEL DL D(Is=1e-20 Rs=5)
.ends moc_3083

* sfh2400.sub
* Helmut Sennewald, 16.05.2005
* A=Anode, K=Cathode, L=control current input
* Pin L: apply a current I=Efficiency(lambda)*Optical_power
* This input is referenced to common ground("0").
*
.subckt sfh2400 A K L
R0 L 0 1T
C0 K A 1.8p
Rsh K A 25G
V1 L 0 0
F1 0 N001 value={if(I(V1)>0, 2e4*I(V1),0)}
R1 N001 0 1
C1 N002 0 4.5n
G1 K A N002 0 1e-4
L1 N001 N002 0.8n
R2 N002 0 1
D1 A K SFH2400DIO
.model SFH2400DIO D(Is=100p N=1.3 Eg=1.0 Rs=8 Bv=35 Ibv=1u Cjo=9.2p Vj=0.6 M=0.9 )
.ends sfh2400
* The same model but with a reference pin for the control input current
.subckt sfh2400_4 A K L G
R0 L G 1T
C0 K A 1.8p
Rsh K A 25G
V1 L G 0
F1 0 N001 value={if(I(V1)>0, 2e4*I(V1),0)}
R1 N001 0 1
C1 N002 0 4.5n
G1 K A N002 0 1e-4
L1 N001 N002 0.8n
R2 N002 0 1
D1 A K SFH2400DIO
.model SFH2400DIO D(Is=100p N=1.3 Eg=1.0 Rs=8 Bv=35 Ibv=1u Cjo=9.2p Vj=0.6 M=0.9 )
.ends sfh2400_4


.subckt ShuntRef 1 2 Vref=1.22 rd=1 inom=1m imin=50u
d1 2 1 MyD
d2 1 2 dp
.model MyD D(Ron={rd} Roff={Vref/imin*1.05} Vfwd={Vref-rd*inom})
.model dp D(Ron=1 Roff=1G Vfwd=0.6)
.ends
.subckt ZXRE125 1 2 Vref=1.22 rd=1 inom=0.1m imin=30u
d1 2 1 MyD
d2 1 2 dp
c 1 2 20p
.model MyD D(Ron={rd} Roff={Vref/imin*1.05} Vfwd={Vref-rd*inom})
.model dp D(Ron=1 Roff=1G Vfwd=0.6)
.ends


*Ref: Temic Semiconductor Short Form, 1996
*220V 3W Si Zener pkg:DO214 1,2
.SUBCKT BZG03C220 1 2
* TERMINALS: A K
D1 1 2 DF
DZ 3 1 DR
VZ 2 3 215
.MODEL DF D (IS=15.1N RS=14M N=1.7 CJO=28P VJ=1 M=0.33 TT=50.1N)
.MODEL DR D (IS=67.6n RS=98.7 N=18)
.ENDS

.SUBCKT AD1580 8 1
r1 1 2 13.0k
r2 2 3 21k
r3 2 4 105k
r4 3 5 2.73k
c1 4 6 10p
q1 7 3 8 qn1
q2 4 5 8 qn2
q3 8 6 1 qp1
vic 5 7 0
f1 1 8 vic 0.8
g1 6 8 4 3 2e-4
.model qn1 npn(bf=100 vaf=100)
.model qn2 npn(bf=100 vaf=100)
.model qp1 pnp(bf=50k vaf=100)
.ends

.SUBCKT ZRC250 3 1
*Connections Gnd Vz
*
*Quiescent current
R1 1 49 320E3
R2 49 3 315.2E3
C1 49 1 4.5p
E1 50 3 49 3 1
D8 50 51 Dmod1
Rq 51 52 Rmod2 70E3
Vq 52 3 0
F1 1 3 Vq 1
*
*Reference voltage
Iref 3 21 1.2405E-3
Rref 21 3 Rmod1 1000
*
*Gain
G2 3 31 49 21 1e-7
Rt2 3 31 100E6
Rt3 3 32 3E6
Ct1 31 32 1.5E-13
D3 31 3 Dmod1
D4 3 31 Dmod1
*
*Output
G3 41 3 31 3 0.3
Rc1 6 5 10
D6 3 41 Dmod1
D7 3 6 Dmod1
L1 1 6 10nH
D9 5 41 Dmod2
*
.MODEL Qmod1 NPN BF=220 CJC=3p CJE=3p
.MODEL Rmod1 RES (TC1=3.8e-5 TC2=-1e-7)
.MODEL Rmod2 RES (TC1=1.7E-3 TC2=0)
.MODEL Dmod1 D IS=5f RS=4 BV=22
.MODEL Dmod2 D IS=1E-18 RS=.01
.ENDS ZRC250


.Subckt Stabplus out in com vst=5 drop=3 icc=50u
VAm1 4 out 0
F1 in 4 VAm1 1
B1 in 4 i={icc}*v(out,com)/{vst}
B2 4 com v=uramp(min({vst},v(in,com)-{vst}))
R in com 1Meg
.ends

.Subckt photodiod2 p dm dp
* Input Pwr(W) Cathode Anode
Rut dp dm {Rpd}
Q1 0 2 4 npn
VAm2 7 dp 0
f3 4 0 vam2 1
Q2 0 2 5 pnp
f4 0 5 vam2 1
VAm1 0 2 0
R1 p 0 1gig
D1 dp dmv diode
Rs dmv dm {rs}
g2 dmv 7 p 0 {k}
f1 dmv dp vam1 1.4142
.model npn npn bf=1
.model pnp pnp bf=1
.model diode D cjo={cjo} vj={vj} m={m} tt=10u
.ends

*Photo;PIN, 850nM .62A/W, 670n .477A/W
.SUBCKT BPW34S p 1 6
*k=0.477
R p 4 1k
C 4 0 5p
* Input Pwr(W) Cathode Anode
D2 6 1 DBPW34
b 1 6 i=200p*v(1,6)+v(4)*{k}
* Dark current as a function of VR (200P*V(1,6))
* and Spectral Photosensitivity (A/W) at 670nm (620M*77%=477M)
.MODEL DBPW34 D (IS=117P RS=.132 N=2.41 BV=32 IBV=.15U
+ CJO=72P VJ=.75 M=.5 TT=504N) ; 32V 50mA diode model made by SpiceMod
.ENDS

*Photo;PIN, .4A/W
.SUBCKT OP905 p 1 6
*k=0.4
R p 4 1k
C 4 0 5p
* Input Pwr(W) Cathode Anode
D2 6 1 DBPW34
b 1 6 i=35p*v(1,6)+v(4)*{k}
.MODEL DBPW34 D (IS=10P RS=10 N=2 BV=60 IBV=.1U
+ CJO=12P VJ=.75 M=.5 TT=500N)
.ENDS OP905

*Photo;PIN, 850nM .59A/W
.SUBCKT SFH203FA p 1 6
* k=0.59
cdop 1 6 2p
R p 4 1k
C 4 0 2p
* Input Pwr(W) Cathode Anode
D2 6 1 DSFH203FA
*G2 1 6 POLY(2) 1 6 4 0 0 50P 0.59
b 1 6 i=50p*v(1,6)+v(4)*{k}
.MODEL DSFH203FA D (IS=50P RS=.132 N=2.41 BV=32 IBV=.15U
+ CJO=9P VJ=.75 M=.5 TT=504N)
.ENDS

.Subckt S6045_1 P dm dp k=0.5 ids=100p idg=100f
.param C0=10.8p rs=10
r p 0 1gig
* k- koeff A/Wt
g dm 8 P 0 {k}
Rs 12 dp {rs}
* C ot V
c dm 120 {C0}
va 120 12 0
bc dm 12 i=i(va)*(TABLE(v(dm,12), 0,1 , 30,0.4 , 50,0.3 , 65,0.2 , 100,0.13 , 150,0.12 , 200,0.12)-1)
* M ot V
B3 M 0 v=TABLE(v(dm,12), 0,1 , 120,2., 140,2.5, 160,4 , 170,5.5, 180,8 , 200,15 , 220,40 , 230,200 , 240,10000)
* F ot M
B4 F 0 v=TABLE(v(M), 1,1 , 5,1.26 , 10,1.6 , 40,3 , 100,4, 1000,10)
*
D1 8 dm diode
iidg dm 8 {idg}
iids dm 12 {ids}
.model diode D is=.0001f tt=10u
VAm2 8 13 0
VAm3 13 12 0
BM dm 13 i=i(vam2)*(v(M)-1)
*noise
Q1 0 9 10 npn
Q2 0 9 14 pnp
VAm4 0 9 0
B1 10 14 i=2*(i(vam3)*v(F)+{ids})
B2 dm 12 i=i(vam4)
*
.model npn npn bf=1 is=0.01f
.model pnp pnp bf=1 is=0.01f
.ends

.Subckt S8890-05 P dm dp k=0.5 ids=100p idg=2p
.param C0=10.8p rs=10
r p 0 1gig
* k- koeff A/Wt
g dm 8 P 0 {k}
Rs 12 dp {rs}
* C ot V
c dm 120 {C0}
va 120 12 0
bc dm 12 i=i(va)*(TABLE(v(dm,12), 0,1 ,  65,0.4 , 100,0.2 , 150,0.05 , 200,0.05)-1)
* M ot V
B3 M 0 v=TABLE(v(dm,12), 0,1 , 120,1.5,  200,10 , 300,20 , 400,100 , 420,2000,  422,10000)
* F ot M
B4 F 0 v=TABLE(v(M), 1,1 , 5,1.26 , 10,1.6 , 40,3 , 100,4, 1000,10)
*
D1 8 dm diode
iidg dm 8 {idg}
iids dm 12 {ids}
.model diode D is=.0001f tt=10u
VAm2 8 13 0
VAm3 13 12 0
BM dm 13 i=i(vam2)*(v(M)-1)
*noise
Q1 0 9 10 npn
Q2 0 9 14 pnp
VAm4 0 9 0
B1 10 14 i=2*(i(vam3)*v(F)+{ids})
B2 dm 12 i=i(vam4)
*
.model npn npn bf=1 is=0.01f
.model pnp pnp bf=1 is=0.01f
.ends

*
.subckt 555 1 2 3 4 5 6 7 8
A1 N001 2 1 1 1 1 N003 1 SCHMITT Vt=0 Vh=1m
R1 N001 1 5K
R2 5 N001 5K
R3 8 5 5K
S1 1 7 N007 1 D
A2 N011 N003 1 1 1 1 N008 1 SRFLOP Trise=100n tripdt=10n
A3 6 5 1 1 1 1 N012 1 SCHMITT Vt=0 Vh=1m
S2 8 300 N009 1 Oh
D1s2 300 3 Ds2
S3a 3 1 1 N009 Ola
S3b 30 1 1 N009 Olb
ds3b 3 30 ds3
A6 1 N006 1 N008 1 1 N007 1 OR Ref=.5 Vlow=-1 Trise=100n
R7 8 1 4K
R9 2 1 1G
R10 6 1 1G
A4 1 N008 1 N006 1 N009 1 1 OR ref=.5 Vlow=-1 Trise=100n
A5 4 1 1 1 1 N006 1 1 SCHMITT Vt=.7 Vh=1m
D1 4 1 DR
A7 1 N006 1 N012 1 1 N011 1 OR
D2 8 4 400uA
.model Ds2 D(ron=4 Roff=1T Vfwd=0.9)
.model Ds3 D(ron=4 Roff=100 Vfwd=1.5)
.model DR D(Ron=150K Roff=1T Vfwd=1.6)
.model Oh SW(Ron=4 Roff=1Meg Vt=0 Vh=-.8 Ilimit=400m)
.model Ola SW(Ron=8 Roff=1Meg Vt=0 Vh=-.8 Ilimit=60m)
.model Olb SW(Ron=4 Roff=1Meg Vt=0 Vh=-.8 Ilimit=400m)
.model D SW(Ron=15 Roff=.75G Vt=.5 Vh=-.4 Ilimit=60m))
.model 400uA D(Ron=1K Ilimit=400u epsilon=.5)
c3 3 1 10p
.ends
*
.subckt 7555 1 2 3 4 5 6 7 8
A1 N001 2 1 1 1 1 N003 1 SCHMITT Vt=0 Vh=1m Trise=10n
R1 N001 1 100K
R2 5 N001 100K
R3 8 5 100K
S1 1 70 N007 1 D
A2 N011 N003 1 1 1 1 N008 1 SRFLOP Trise=100n tripdt=10n
A3 6 5 1 1 1 1 N012 1 SCHMITT Vt=0 Vh=1m Trise=10n
m3 3 1 30 8 mosp l=8u w=180u ad=3n
m2 3 8 300 1 mosn l=3.5u w=300u ad=3n
m1 7 8 70 1 mosn l=3.5u w=1000u ad=15n
Cmy3 3 1 3p
S2 8 30 N009 1 O
S3 300 1 1 N009 O
A6 1 N006 1 N008 1 1 N007 1 OR Ref=.5 Vlow=-1 Trise=100n
R7 8 1 50K
R9 2 1 1G
R10 6 1 1G
A4 1 N008 1 N006 1 N009 1 1 OR ref=.5 Vlow=-1 Trise=100n
A5 4 1 1 1 1 N006 1 1 SCHMITT Vt=.7 Vh=1m Trise=10n
A7 1 N006 1 N012 1 1 N011 1 OR Trise=10n
.model O SW(Ron=1 Roff=1Meg Vt=0 Vh=-.8)
.model D SW(Ron=1 Roff=.75G Vt=.5 Vh=-.4)
.model mosp pmos level=2 uo=200 vto=-0.8 tox=45n nsub=4.4e15 ucrit=116k uexp=186m vmax=236e3
+ xj=305e-9 ld=103n pb=0.707 neff=665e-3 cj=232e-6 mj=330e-3 cjsw=58.7p
+ mjsw=186.9e-3 cgso=0.84e-10 cgdo=0.8e-10 cgbo=1.24e-10
.model mosn nmos level=2 uo=600 vto=0.8 tox=45n nsub=2.8e16 ucrit=164k uexp=386m vmax=61.e3
+ xj=475e-9 ld=136n pb=0.809 neff=679e-3 cj=335e-6 mj=284e-3 cjsw=2.40e-9
+ mjsw=715.5e-3 cgso=1.10e-10 cgdo=1.1e-10 cgbo=1.39e-10
.model diode d
.ends

.SUBCKT LMC555 VN TRIGGERbar OUTPUT RESETbar CONTROL THRESHOLD DISCHARGE VP
R_R2 CONTROL N_1 100K
R_R3 N_1 VN 100K
R_R1 VP CONTROL 100K
X_MN7 N_3 N_2 N_4 VN NHV PARAMS: W=20u M=5
X_MP6 N_3 N_2 N_5 VP PHV PARAMS: W=100u M=4
X_MP7 N_3 N_6 VP VP PHV PARAMS: W=100u M=2
X_MN1 OUTPUT N_7 VN VN NHV PARAMS: W=122u M=10
X_MN3 N_7 N_8 VN VN NHV PARAMS: W=30.5u M=10
X_MN4 N_8 N_3 VN VN NHV PARAMS: W=25.4u M=3
X_MN5 N_3 N_8 VN VN NHV PARAMS: W=5u M=1
X_MP1 OUTPUT N_7 VP VP PHV PARAMS: W=100u M=17
X_MP2 N_7 N_8 VP VP PHV PARAMS: W=25u M=17
X_MP4 N_3 N_8 VP VP PHV PARAMS: W=5u M=3
X_MP3 N_8 N_3 VP VP PHV PARAMS: W=26.6u M=4
X_MN2 DISCHARGE N_7 VN VN NHV PARAMS: W=101u M=30
X_MP5 N_5 N_9 VP VP PHV PARAMS: W=100u M=4
E_E1 VP N_9 VALUE {((TANH(220*V(THRESHOLD,CONTROL))+1)/2)*(V(VP)-V(VN))}
E_E2 N_2 VN VALUE {((TANH(220*V(N_1,TRIGGERbar))+1)/2)*(V(VP)-V(VN))}
R_R4 N_10 VN 1K
V_V3 N_10 VN 0.9V
X_MN6 N_4 N_6 VN VN NHV PARAMS: W=20u M=5
E_E3 VP N_6 VALUE { ((TANH(22*V(N_10, RESETbar))+1)/2)*(V(VP)-V(VN)) }

*
.model nt nmos (level=7 ;intcap=1
+;version=3.1
+tnom=20 ;templev=2
+mobmod=1 capmod=2 xpart=0
+;acm=2 hdif=8e-7 ldif=1e-6
+rs=0 rd=9000 tox=1.35e-8
+xj=1.5e-7 nch=1.5e17 k1=0.96
+k2=-0.15 vth0=0.65 u0=516.4
+rsh=90 rdsw=0 lint=0.05e-6
+wint=0.12e-6 js=32.0e-3
+cgdo=2.5e-10
+cgso=2.5e-10 cgbo=3e-10 cj=4e-4
+cjsw=7e-10
+ua=1.182e-13 ub=1.98e-18
+uc=5.033e-11 k3=72.66 k3b=-34.46
+w0=4.532e-6 dwg=-7.677e-9 dwb=2.646e-8
+nlx=5.747e-8 dvt0=2.439 dvt1=0.4879
+dvt2=-0.2141 wr=1 voff=-0.1276
+nfactor=0.6019 cdsc=-0.01053 cdscd=-6.499e-4
+cdscb=2.659e-4 cit=0 vsat=9.664e4
+a0=0.5932 ags=0.1981 a1=0
+a2=1 b0=6.448e-7 b1=1.154e-6
+eta0=0.02354 etab=-0.01088 dsub=0.2295
+pvag=0.2255 pclm=1.307 pdiblc1=-0.2023
+pdiblc2=2.079e-3 pdiblcb=0 drout=1
+pscbe1=1e9 pscbe2=2e-7 keta=-0.06
+delta=0.01
+prt=0 ute=-2.023 kt1=-0.4279
+kt1l=6.188e-8 kt2=-0.09041 ua1=9.475p
+ub1=-3.811e-19 uc1=-5.629p at=0
+nj=2.5 xti=3
+pb=0.6 mjsw=0.33 pbsw=0.7
+mj=0.33 cle=0.6
+ckappa=0.6 cf=0 clc=1e-7 )
*
*
.model pt pmos (level=7 ;intcap=1
+;version=3.1
+tnom=20 ;templev=2
+mobmod=1 capmod=2 xpart=0
+;acm=2 hdif=8e-7 ldif=1e-6
+rs=5920 rd=3.77e4 tox=1.35e-8
+xj=1.5e-7 nch=5e16 k1=0.50
+k2=1.4e-4 vth0=-0.90 u0=255.5
+rsh=110 rdsw=2.042e4 lint=0.40e-6
+wint=0.14e-6 js=6.4e-3
+cgdo=2.5e-10
+cgso=2.5e-10 cgbo=3e-10 cj=7.0e-4
+cjsw=2.7e-10
+ua=3.001e-9 ub=6.211e-19
+uc=-6.942e-11 k3=118 k3b=-14.66
+w0=5.165e-6 dwg=-1.283e-8 dwb=1.559e-8
+nlx=-8.897e-8 dvt0=0.1879 dvt1=0.6893
+dvt2=-2.772 prwg=-0.3822 prwb=0
+wr=1 voff=-0.1446 nfactor=0.9027
+cdsc=3.591e-3 cdscd=3.109e-4 cdscb=0.01282
+cit=0 vsat=9.887e4 a0=0.336
+ags=0.2114 a1=5.591e-4 a2=1.444
+b0=4.286e-6 b1=7.021e-6 eta0=4.973e-3
+etab=-4.008e-3 dsub=0.1147 pvag=1.516
+pclm=2.608 pdiblc1=0.5085 pdiblc2=7.607e-4
+pdiblcb=0.3184 drout=0.788 pscbe1=1.151e10
+pscbe2=3.049e-8 keta=-0.01241 delta=0.01
+trd=3.279e-3
+trs=0 prt=0 ute=-1.854
+kt1=-0.5225 kt1l=-2.369e-8 kt2=-0.07349
+ua1=1.655e-10 ub1=-4.449e-18 uc1=6.875e-11
+at=0 nj=2.5 xti=3
+mj=0.474 pb=0.8 mjsw=0.27
+pbsw=0.8 ckappa=0.6 cf=0
+clc=1e-7 cle=0.6 )
*
*
*
.model jnx njf ( ;level=1
+beta=1.740e-5 lambda=0 vto=-21
+rd=10 rs=10 ;bex=-1.3998
+cgs=1e-14 cgd=1e-14 pb=0.7 )
*
.model nnx nmos ( ;version=3.1
+level=7 ;intcap=1
+tnom=21 ;templev=2
+mobmod=1
+nqsmod=0 capmod=2 xpart=0
+;acm=2
+noimod=1 ;hdif=8e-7
+tox=2.65e-8
+xj=1.5e-7 nch=1.5e17 k1=0.963
+k2=-0.073 vth0=0.694 u0=627.225
+rsh=90 rdsw=138.519 lint=4.801e-7
+wint=1.711e-7 js=0.03 cgdo=3e-10
+cgso=2.5e-10 cgbo=3e-10 cj=4.02e-4
+cjsw=2.65e-10
+ua=9.083e-10 ub=5.344e-18
+uc=3.635e-11 k3=20.954 k3b=-11.617
+w0=2.658e-7 dwg=-8.5e-9 dwb=6.449e-9
+nlx=2.639e-10 dvt0=0.366 dvt1=0.075
+dvt2=-0.049 prwg=-0.015 prwb=-0.076
+wr=1 voff=-0.046 nfactor=0.73
+cdsc=-3.608e-4 cdscd=-5.632e-5 cdscb=-1.099e-4
+cit=0 vsat=8.863e4 a0=0.054
+ags=0.031 a1=0 a2=1
+b0=6.103e-7 b1=1.489e-7 eta0=-0.072
+etab=-0.187 dsub=0.456 pvag=1.094
+pclm=0.905 pdiblc1=0.015 pdiblc2=4.145e-3
+pdiblcb=0.08 drout=0.083 pscbe1=1e9
+pscbe2=2e-7 keta=-0.019 delta=0.01
+wwl=-6.117e-20 lwl=-4.892e-20
+prt=1.852e3
+ute=-1.765 kt1=-0.44 kt1l=8.637e-8
+kt2=-0.079 ua1=1.699e-9 ub1=-7.213e-18
+uc1=-4.672e-11 at=5.173e3 n=1.83
+xti=3 mj=0.41 pb=0.8
+mjsw=0.199 pbsw=0.8 elm=5
+cgsl=0 cgdl=0 ckappa=0.6
+cf=0 clc=1e-7 cle=0.6 )
*
*
.model jpx pjf ( ;level=1
+beta=3.449e-6 lambda=0 vto=-18.6937
+rd=10 rs=10 ;bex=-1.2759
+cgs=1e-14 cgd=1e-14 pb=0.7 )
*
.model ppx pmos ( ;version=3.1
+level=7 ;intcap=1
+tnom=21 ;templev=2
+mobmod=1
+nqsmod=0 capmod=2 xpart=0
+;acm=2
+noimod=1 ;hdif=8e-7
+tox=2.65e-8
+xj=1.5e-7 nch=5e16 k1=0.944
+k2=-5.095e-5 vth0=-1.562 u0=202.436
+rsh=90 rdsw=1e3 lint=4.209e-7
+wint=1.844e-7 js=5e-3 cgdo=3e-10
+cgso=2.5e-10 cgbo=3e-10 cj=4.02e-4
+cjsw=2.65e-10
+ua=3.699e-9 ub=1e-21
+uc=-5.688e-11 k3=27.517 k3b=-6.989
+w0=4.735e-6 dwg=-8.738e-9 dwb=2.389e-8
+nlx=0 dvt0=0.105 dvt1=0.027
+dvt2=-0.106 prwg=-2.068e-4 prwb=-0.433
+wr=1 voff=-0.049 nfactor=0.75
+cdsc=-1.802e-4 cdscd=6.693e-6 cdscb=-2.478e-5
+cit=0 vsat=1.892e5 a0=0.558
+ags=0.076 a1=0 a2=1
+b0=4.855e-6 b1=1.205e-5 eta0=-0.137
+etab=-0.105 dsub=1.999 pvag=2.177e-3
+pclm=2.379 pdiblc1=0.06 pdiblc2=1.968e-3
+pdiblcb=-0.276 drout=0.32 pscbe1=1e9
+pscbe2=3e-8 keta=4.992e-3 delta=0.01
+wwl=-6.117e-20 lwl=-4.892e-20
+prt=355.913
+ute=-1.472 kt1=-0.538 kt1l=-5.849e-8
+kt2=-0.067 ua1=-3.078e-11 ub1=-4.705e-18
+uc1=-9.696e-11 at=1.473e5 n=1.83
+mj=0.41 pb=0.8 mjsw=0.199
+pbsw=0.8 elm=5 cgsl=0
+cgdl=0 ckappa=0.6 cf=0
+clc=1e-7 cle=0.6 )
*
*----------------------------------------------------------------------------*
.SUBCKT PHV d g s b PARAMS: W=20u M=1
M1 1 g s b ppx W={W} L=5u M={M}
J1 d b 1 jpx {W/20u*M}
.ENDS PHV
*
.SUBCKT NHV d g s b PARAMS: W=20u M=1
m1 1 g s b nnx W={W} L=5u M={M}
j1 d b 1 jnx {W/20u*M}
.ENDS NHV
*
.ENDS LMC555


.Subckt MIC1557 T_T CS GND OUT VS vcc=5
C4 OUT GND 40p
R1 T_T GND 1GIG
B3 VS GND i=16e-5+13e-6*V(vs,gnd)*u(v(cs,gnd)-0.5*v(vs,gnd)) Rpar=100meg
R2 CS GND 1GIG
bnormcs csv 0 v=v(cs,gnd)/limit(1m,v(vs,gnd),22)
bnormin in 0 v=v(T_T,gnd)/limit(1m,v(vs,gnd),22)
A1 in 0 0 0 0 1 0 0 SCHMITT vt=0.5 vh=0.1666666 Trise={70n/vcc} td={80n/vcc}
A2 csv 0 0 0 0 0 2 0 SCHMITT vt=0.5 vh=0.1666666 Trise={70n/vcc} td={70n/vcc}
A3 2 0 0 0 1 nq 0 0 AND Trise={70n/vcc} td={75n/vcc}
C2 T_T GND 4p
Bout ov gnd v=v(nq)*v(vs,gnd)
mn out ov gnd n
mp out ov vs p
.model n vdmos vto=0.9 kp=13m lambda=30m mtriode=3 rd=6 Cgs=100p rg=300
.model p vdmos pchan vto=-0.9 kp=13m lambda=30m mtriode=3 rd=6 Cgs=100p rg=300
.ends MIC1557

.subckt 74AHC1G14 in out vcc gnd
d1 gnd in di
d2 in vcc di
msp2 5 in vcc vcc lvp w=36u l=2u ad=140p pd=50u
msn2 6 in gnd gnd lvn w=16u l=2u ad= 70p pd=15u
msp3 2 in 5 vcc lvp w=44u l=4u ad=220p pd=60u
msn3 2 in 6 6 lvn w=17u l=2u ad= 70p as= 70p pd=15u ps=16u
msp4 5 2 gnd vcc lvp w=36u l=2u ad=150p as=150p pd=60u ps=36u
msn4 6 2 vcc 6 lvn w= 6u l=4u ad= 25p as= 25p pd=10u ps= 6u
cf1 5 vcc 20f
cf2 out gnd 1p
mp2 3 2 vcc vcc lvp w=364u l=2u ad=500p as=500p pd=10u ps=430u
mn2 3 2 gnd gnd lvn w=184u l=2u ad=275p as=275p pd=10u ps=270u
r2 3 4 170
mp3 out 4 vcc vcc lvpo w=1080u l=2u ad=1200p as=1200p pd=30u ps=540u
mn3 out 4 gnd gnd lvno w=420u l=2u ad=600p as=600p pd=30u ps=390u
.model di d cjo=3p
.model lvn nmos level=3 kp=65u vto=0.8 tox=30n nsub=2.8e15 gamma=0.94 phi=0.65 vmax=150k
+ xj=0.11u ld=0.4u theta=0.054
.model lvp pmos level=3 kp=20.3u vto=-0.8 tox=30n nsub=3.3e16 gamma=0.92 phi=0.65
+ vmax=970k xj=0.63u ld=0.15u theta=0.108
.model lvno nmos level=3 kp=65u vto=0.8 tox=30n nsub=2.8e15 gamma=0.94 phi=0.65 vmax=150k
+ xj=0.11u ld=0.4u theta=0.054
.model lvpo pmos level=3 kp=20.3u vto=-0.8 tox=30n nsub=3.3e16 gamma=0.92 phi=0.65
+vmax=970k xj=0.63u ld=0.15u theta=0.108
.ends

.subckt 74AHC1G02 a b y vcc gnd
c vcc gnd 2p
ra a av 100
rb b bv 100
da1 av vcc di
da2 gnd av di
db1 bv vcc di
db2 gnd bv di
raw aw gnd 1Gig
mpi1 aw av vcc vcc lvp w=88u l=2u ad=290p as=550p pd=10u ps=100u
mni1 aw av gnd gnd lvn w=56u l=2u ad=162p as=550p pd=10u ps=75u
mpi2 bw bv vcc vcc lvp w=88u l=2u ad=290p as=550p pd=10u ps=100u
mni2 bw bv gnd gnd lvn w=56u l=2u ad=162p as=550p pd=10u ps=75u
*
MPL1 3 aw vcc vcc LVp w=112u L=2u AD=150P AS=300P PD= 75U PS=150U
MPL2 3 bw vcc vcc LVp w=112u L=2u AD=150P AS=300P PD= 75U PS=150U
MNL1 3 aw p gnd LVN w=300u L=2u AD=300P AS=300P PD=300U PS=300U
MNL2 p bw gnd gnd LVN w=300u L=2u AD=300P AS=300P PD=300U PS=300U
rfik1 p gnd 1Gig
rfik2 p 3 1Gig
cfik p gnd 10f
r2 3 4 170
mpout y 4 vcc vcc lvpo w=1080u l=2u ad=1200p as=1200p pd=30u ps=540u
mnout y 4 gnd gnd lvno w=420u l=2u ad=600p as=600p pd=30u ps=390u
cout y gnd 1.5p ic=0
.model di d cjo=3p
.model lvn nmos level=3 kp=65u vto=0.8 tox=30n nsub=2.8e15 gamma=0.94 phi=0.65 vmax=150k
+ xj=0.11u ld=0.4u theta=0.054
.model lvp pmos level=3 kp=20.3u vto=-0.8 tox=30n nsub=3.3e16 gamma=0.92 phi=0.65
+ vmax=970k xj=0.63u ld=0.15u theta=0.108
.model lvno nmos level=3 kp=65u vto=0.8 tox=30n nsub=2.8e15 gamma=0.94 phi=0.65 vmax=150k
+ xj=0.11u ld=0.4u theta=0.054
.model lvpo pmos level=3 kp=20.3u vto=-0.8 tox=30n nsub=3.3e16 gamma=0.92 phi=0.65
+vmax=970k xj=0.63u ld=0.15u theta=0.108
.ends 74AHC1G02


.subckt 74AHC1G08 a b y vcc gnd
d1 gnd a dio
d2 a vcc dio
d3 gnd b dio
d4 b vcc dio
.model dio d cjo=3p
mpa1 a2 a vcc vcc lvp w=88u l=2u ad=290p pd=10u
mna1 a2 a gnd gnd lvn w=56u l=2u ad=162p pd=10u
mpb1 b2 b vcc vcc lvp w=88u l=2u ad=290p pd=10u
mnb1 b2 b gnd gnd lvn w=56u l=2u ad=162p pd=10u
r1 a2 gnd 100Meg
r2 b2 gnd 100Meg
mpoa 10 a2 vcc vcc lvp w=88u l=2u ad=140p pd=5u
r10 10 3 100Meg
c10 10 vcc 50f Rpar=100Meg
mpob 3 b2 10 vcc lvp w=88u l=2u ad=290p as=140p pd=10u ps=5u
mnoa1 3 a2 gnd gnd lvn w=56u l=2u ad=162p pd=10u
mnob1 3 b2 gnd gnd lvn w=56u l=2u ad=162p pd=10u
mp2 4 3 vcc vcc lvp w=364u l=2u ad=500p pd=10u
mn2 4 3 gnd gnd lvn w=184u l=2u ad=275p pd=10u
mp3 y 4 vcc vcc lvpo w=1080u l=2u ad=1200p pd=30u
mn3 y 4 gnd gnd lvno w=420u l=2u ad=600p pd=30u
cout y gnd 1p Rpar=100Meg
.model lvn nmos level=3 kp=65u vto=0.8 tox=30n nsub=2.8e15 gamma=0.94 phi=0.65 vmax=150k
+ xj=0.11u ld=0.4u theta=0.054
.model lvp pmos level=3 kp=20.3u vto=-0.8 tox=30n nsub=3.3e16 gamma=0.92 phi=0.65 vmax=970k
+ xj=0.63u ld=0.15u theta=0.108
.model lvno nmos level=3 kp=65u vto=0.8 tox=30n nsub=2.8e15 gamma=0.94 phi=0.65 vmax=150k
+ xj=0.11u ld=0.4u theta=0.054
.model lvpo pmos level=3 kp=20.3u vto=-0.8 tox=30n nsub=3.3e16 gamma=0.92 phi=0.65 vmax=970k
+ xj=0.63u ld=0.15u theta=0.108
.ends

.subckt 74AHC1G04 in out vcc gnd
d1 gnd in dio
d2 in vcc dio
.model dio d cjo=3p
mp1 2 in vcc vcc lvp w=88u l=2u ad=290p as=550p pd=10u ps=100u
mn1 2 in gnd gnd lvn w=56u l=2u ad=162p as=550p pd=10u ps=75u
rf1 2 gnd 100Meg
mp2 3 2 vcc vcc lvp w=364u l=2u ad=500p as=500p pd=10u ps=430u
mn2 3 2 gnd gnd lvn w=184u l=2u ad=275p as=275p pd=10u ps=270u
rf2 3 gnd 100Meg
mp3 out 3 vcc vcc lvpo w=1080u l=2u ad=1200p as=1200p pd=30u ps=540u
mn3 out 3 gnd gnd lvno w=420u l=2u ad=600p as=600p pd=30u ps=390u
cout out gnd 2p Rpar=100Meg
.model lvn nmos level=3 kp=65u vto=0.8 tox=30n nsub=2.8e15 gamma=0.94 phi=0.65 vmax=150k
+ xj=0.11e-6 ld=0.4e-6 theta=0.054
.model lvp pmos level=3 kp=20.3u vto=-0.8 tox=30n nsub=3.3e16 gamma=0.92 phi=0.65 vmax=970k
+ xj=0.63e-6 ld=0.15e-6 theta=0.108
.model lvno nmos level=3 kp=65u vto=0.8 tox=30n nsub=2.8e15 gamma=0.94 phi=0.65 vmax=150k
+ rs=10 rd=10 xj=0.11e-6 ld=0.4e-6 theta=0.054
.model lvpo pmos level=3 kp=20.3u vto=-0.8 tox=30n nsub=3.3e16 gamma=0.92 phi=0.65 vmax=970k
+ rs=20 rd=20 xj=0.63e-6 ld=0.15e-6 theta=0.108
.ends 74AHC1G04

.SUBCKT 74HCU04_my in out vcc gnd
r in inv 100
C1 inv gnd 1.5P
C2 inv vcc 1.5P
C3 out vcc 1.5P
C4 out gnd 1.5P
d1 inv vcc di
d2 gnd inv di
.model di d
R1 inv 4 150
MP1 out 4 vcc vcc MHCPEN W=220U L=2.4U AD=1000P PD=30U
MN1 out 4 gnd gnd MHCNEN W=100U L=2.4U AD=500P PD=30U
.Model MHCNEN NMOS (LEVEL=3 RS=40 RD=40
+KP=45.3E-6 VTO=0.72 TOX=51.5E-9 nfs=1.E+11
+NSUB=2.8E15 GAMMA=0.94 PHI=0.65 VMAX=150E3 RS=13.3 RD=13.3
+XJ=0.11E-6 LD=0.52E-6 THETA=0.054 ETA=0.025 KAPPA=0.0)
.Model MHCPEN PMOS (LEVEL=3 RS=80 RD=80
+KP=22.1E-6 VTO=-0.71 TOX=51.5E-9 NSUB=3.3E16 nfs=7E+11
+GAMMA=0.92 PHI=0.65 VMAX=970E3
+XJ=0.63E-6 LD=0.23E-6 THETA=0.108 ETA=0.322 )
.ENDS
*

.subckt SN74AHC1G00 a b y vcc gnd
da1 a vcc dio
da2 gnd a dio
db1 b vcc dio
db2 gnd b dio
.model dio d cjo=3p
mpi1 aw a vcc vcc lvp w=88u l=2u ad=290p as=550p pd=10u ps=100u
mni1 aw a gnd gnd lvn w=56u l=2u ad=162p as=550p pd=10u ps=75u
r1 aw gnd 100Meg
r2 bw gnd 100Meg
mpi2 bw b vcc vcc lvp w=88u l=2u ad=290p as=550p pd=10u ps=100u
mni2 bw b gnd gnd lvn w=56u l=2u ad=162p as=550p pd=10u ps=75u
*
mp1 3 aw p vcc lvp w=420u l=2u ad=200p as=500p pd=10u ps=430u
mn1 3 aw gnd gnd lvn w=184u l=2u ad=275p as=275p pd=10u ps=270u
mp2 p bw vcc vcc lvp w=420u l=2u ad=500p as=200p pd=10u ps=430u
mn2 3 bw gnd gnd lvn w=184u l=2u ad=275p as=275p pd=10u ps=270u
rfik p vcc 100Meg
rfik2 3 vcc 100Meg
mp3 y 3 vcc vcc lvp w=1080u l=2u ad=1200p as=1200p pd=30u ps=540u
mn3 y 3 gnd gnd lvn w=420u l=2u ad=600p as=600p pd=30u ps=390u
cout y gnd 2p Rpar=100Meg
.model lvn nmos level=3 kp=47u vto=0.8 tox=30n nsub=2.8e15 gamma=1 phi=0.65 vmax=150e3 xj=0.11u ld=0.4u theta=0.054
.model lvp pmos level=3 kp=11u vto=-0.8 tox=30n nsub=3.3e16 gamma=1 phi=0.65 vmax=970e3 xj=0.63u ld=0.15u theta=0.108
.ends SN74AHC1G00

* Node Assignments
* noninverting input
* | inverting input
* | | positive supply
* | | | negative supply
* | | | | output
* | | | | |
* | | | | |
.SUBCKT AD8541 1 2 99 50 45
*
* INPUT STAGE
*
M1 4 1 8 8 PIX L=0.6u W=16u
M2 6 7 8 8 PIX L=0.6u W=16u
M3 11 1 10 10 NIX L=0.6u W=16u
M4 12 7 10 10 NIX L=0.6u W=16u
RC1 4 50 20E3
RC2 6 50 20E3
RC3 99 11 20E3
RC4 99 12 20E3
C1 4 6 1.5p
C2 11 12 1.5p
I1 99 8 1E-5
I2 10 50 1E-5
V1 99 9 0.2
V2 13 50 0.2
D1 8 9 DX
D2 13 10 DX
*EOS 7 2 POLY(3) (22,98) (73,98) (81,0) 1E-3 1 1 1
BEOS 7 2 V=1E-3 + V(22,98) + V(73,98) + V(81,0)

IOS 1 2 2.5p
*
* CMRR 64dB, ZERO AT 20kHz
*
*ECM1 21 98 POLY(2) (1,98) (2,98) 0 .5 .5
BECM1 21 98 V=0.5*(V(1,98) + V(2,98))

RCM1 21 22 79.6E3
CCM1 21 22 100p
RCM2 22 98 50
*
* PSRR=90DB, ZERO AT 200Hz
*
RPS1 70 0 1E6
RPS2 71 0 1E6
CPS1 99 70 1E-5
CPS2 50 71 1E-5
*EPSY 98 72 POLY(2) (70,0) (0,71) 0 1 1
BEPSY 98 72 V=V(70,0) + V(0,71)

RPS3 72 73 1.59E6
CPS3 72 73 500p
RPS4 73 98 25
*
* VOLTAGE NOISE REFERENCE OF 35NV/RT(Hz)
*
VN1 80 0 0
RN1 80 0 16.45E-3

*HN 81 0 VN1 35
BHN 81 0 V=35*I(VN1)

RN2 81 0 1
*
* INTERNAL VOLTAGE REFERENCE
*
*VFIX 90 98 DC 1
VFIX 90 98 1

S1 90 91 50 99 VSY_SWITCH
*VSN1 91 92 DC 0
VSN1 91 92 0

RSY 92 98 1E3
*EREF 98 0 POLY(2) (99,0) (50,0) 0 .5 .5
BEREF 98 0 V=0.5*V(99,0) + 0.5*V(50,0)

*GSY 99 50 POLY(1) (99,50) 0 3.7E-6
BGSY 99 50 I=3.7E-6*V(99,50)

*
* ADAPTIVE GAIN STAGE
* AT VSY>+4.2, AVOL=45 V/MV
* AT VSY<+3.8, AVOL=450 V/MV
*

*G1 98 30 POLY(2) (4,6) (11,12) 0 2.5E-5 2.5E-5
BG1 98 30 I=2.5E-5*(V(4,6) +V(11,12))

*VR1 30 31 DC 0
VR1 30 31 0


*H1 31 98 POLY(2) VR1 VSN1 0 5.45E6 0 0 49.05E9
BH1 31 98 V=0 + 5.45E6*I(VR1) + 49.05E9*I(VR1)*I(VSN1)

CF 45 30 10p
D3 30 99 DX
D4 50 30 DX
*
* OUTPUT STAGE
*
M5 45 46 99 99 POX L=0.6u W=375u
M6 45 47 50 50 NOX L=0.6u W=500u

*EG1 99 46 POLY(1) (98,30) 1.05 1
BEG1 99 46 V=1.05 + V(98,30)

*EG2 47 50 POLY(1) (30,98) 1.04 1
BEG2 47 50 V=1.04 + V(30,98)

*
* MODELS
*
.MODEL POX PMOS (LEVEL=2,KP=20u,VTO=-1,LAMBDA=0.067)
.MODEL NOX NMOS (LEVEL=2,KP=20u,VTO=1,LAMBDA=0.067)
.MODEL PIX PMOS (LEVEL=2,KP=20u,VTO=-0.7,LAMBDA=0.01,KF=1E-31)
.MODEL NIX NMOS (LEVEL=2,KP=20u,VTO=0.7,LAMBDA=0.01,KF=1E-31)
.MODEL DX D(IS=1E-14)
*.MODEL VSY_SWITCH VSWITCH(ROFF=100E3,RON=1,VOFF=-4.2,VON=-3.5)
.MODEL VSY_SWITCH SW(ROFF=100E3,RON=1,VT=-3.85,VH=0.35)
.ENDS AD8541

* Node Assignments
*			noninverting input
*			|	inverting input
*			|	|	 positive supply
*			|	|	 |	 negative supply
*			|	|	 |	 |	 output
*			|	|	 |	 |	 |
*			|	|	 |	 |	 |
.SUBCKT AD8603		1	2	99	50	45
*
* INPUT STAGE
*
M1 14 7 8 8 PIX L=1u W=42u
M2 16 2 8 8 PIX L=1u W=42u
M3 17 7 10 10 NIX L=1u W=42u
M4 18 2 10 10 NIX L=1u W=42u
RC5 14 50 1E+5
RC6 16 50 1E+5
RC7 99 17 1E+5
RC8 99 18 1E+5
C1 14 16 0.8p
C2 17 18 0.8p
I1 99 8 4u
I2 10 50 4u
V1 99 9 0.3
V2 13 50 0.3
D1 8 9 DX
D2 13 10 DX
EOS 7 1 POLY(3) (22,98) (73,98) (81,98) 40E-6 1 1 1
IOS 1 2 0.05p
*
* CMRR 90dB, ZERO AT 15kHz, POLE AT 2MHz
*
ECM1 21 98 POLY(2) (1,98) (2,98) 0 0.5 0.5
CCM1 21 22 3.54E-10
RCM1 21 22 30000
RCM2 22 98 1
*
* PSRR=100dB, ZERO AT 300Hz
*
EPSY 98 72 POLY(1) (99,50) 0 1
CPS3 72 73 5.30E-9
RPS3 72 73 100E+3
RPS4 73 98 1
*
*
* VOLTAGE NOISE REFERENCE OF 20nV/rt(Hz)
*
VN1 80 98 0
RN1 80 98 16.45E-3
HN 81 98 VN1 20
RN2 81 98 1
*
* INTERNAL VOLTAGE REFERENCE
*
EREF 98 0 POLY(2) (99,0) (50,0) 0 .5 .5
GSY 99 50 (99,50) 1.9E-6
EVP 97 98 POLY(1) (99,50) -0.6 0.5
EVN 51 98 POLY(1) (50,99) 0.6 0.5
*
* GAIN STAGE
*
G1 98 30 POLY(2) (14,16) (17,18) 0 1.25E-5 1.25E-5
R1 30 98 4.69e7
CF 45 30 50p
D3 30 97 DX
D4 51 30 DX
*
* OUTPUT STAGE
*
M5 45 46 99 99 POX L=1u W=1.61m
M6 45 47 50 50 NOX L=1u W=2.15m
EG1 99 46 POLY(1) (98,30) 0.3778 1
EG2 47 50 POLY(1) (30,98) 0.3771 1
*
* MODELS
*
.MODEL POX PMOS (LEVEL=2,KP=10u,VTO=-0.328,LAMBDA=0.01,RD=0)
.MODEL NOX NMOS (LEVEL=2,KP=10u,VTO=+0.328,LAMBDA=0.01,RD=0)
.MODEL PIX PMOS (LEVEL=2,KP=10u,VTO=-0.328,LAMBDA=0.01,Kf=10E-35,AF=1,TOX=100n)
.MODEL NIX NMOS (LEVEL=2,KP=10u,VTO=+0.328,LAMBDA=0.01,KF=10E-35,AF=1,TOX=100n)
.MODEL DX D(IS=1E-14,RS=5)
.ENDS



* CREATED USING PARTS RELEASE 4.01 ON 09/08/89 AT 10:54
* (REV N/A) SUPPLY VOLTAGE: +/-5V
* CONNECTIONS: NON-INVERTING INPUT
* | INVERTING INPUT
* | | POSITIVE POWER SUPPLY
* | | | NEGATIVE POWER SUPPLY
* | | | | OUTPUT
* | | | | |
.SUBCKT LM358_TI 1 2 3 4 5
*
 C1 11 12 5.544p
 C2 6 7 20.00p
 DC 5 53 DX
 DE 54 5 DX
 DLP 90 91 DX
 DLN 92 90 DX
 DP 4 3 DX
 EGND 99 0 POLY(2) (3,0) (4,0) 0 .5 .5
 FB 7 99 POLY(5) VB VC VE VLP VLN 0 15.91E6 -20E6 20E6 20E6 -20E6
 GA 6 0 11 12 125.7E-6
 GCM 0 6 10 99 7.067E-9
 IEE 3 10 DC 10.04E-6
 HLIM 90 0 VLIM 1K
 Q1 11 2 13 QX
 Q2 12 1 14 QX
 R2 6 9 100.0E3
 RC1 4 11 7.957E3
 RC2 4 12 7.957E3
 RE1 13 10 2.773E3
 RE2 14 10 2.773E3
 REE 10 99 19.92E6
 RO1 8 5 50
 RO2 7 99 50
 RP 3 4 30.31E3
 VB 9 0 DC 0
 VC 3 53 DC 2.100
 VE 54 4 DC .6
 VLIM 7 8 DC 0
 VLP 91 0 DC 40
 VLN 0 92 DC 40
.MODEL DX D(IS=800.0E-18)
.MODEL QX PNP(IS=800.0E-18 BF=250)
.ENDS


* OPA820 Unit Gain Low Noise Wide Bandwidth Voltage Feedback Amp
* REV. A - Created 8/31/04 Rea.Schmid@ti.com
* REV. B - Created 6/23/06 X-ramus2@ti.com - Diode DX model missing from Netlist
*
*
* NOTES:
* 1- This macromodel predicts well: DC, small-signal AC,
* noise, and transient performance under a wide range
* of conditions
* 2- This macromodel does not predict: distortion
* (harmonic, intermod, diff. gain & phase, ...),
* temperature effects, board parasitics, differences
* between package styles, and process changes
* 3- This is duplicated for duals. There is no amplifier crosstalk
* included in this simulation package.
*
* CONNECTIONS:
* Non-Inverting Input
* | Inverting Input
* | | Out
* | | | Positive Supply
* | | | | Negative Supply
* | | | | |
* | | | | |
* | | | | |
* | | | | |
.SUBCKT OPA820 + - Out V+ V-
V_V12 17 V- DC 1.10
I_I24 25 24 DC 100uA
L_L51 0 52 41.5U
C_C50 50 52 0.0415F
D_D25 0 25 DN3 .25
D_D24 24 0 DN3 .25
C_C52 0 51 0.0415F
L_L50 50 51 41.5U
R_R53 52 51 1MEG
E_E71 73 74 POLY(2) 51 52 V+ V- -785M 1 0.5
E_E70 70 71 POLY(2) 52 51 V+ V- -785m 1 0.5
D_D12 17 16 Da 1
D_D70 71 Out DX 1
D_D73 Out 73 DX 1
I_I12 16 V- DC 1.575mA
C_C6 0 3 .9p
C_C7 0 - .9p
D_D42 42 40 DX 1
D_D41 40 41 DX 1
E_E41 41 0 POLY(1) V+ V- -1.7 0.5 0
E_E42 42 0 POLY(1) V- V+ 1.7 0.5 0
V_V1 V+ 10 DC 1.4
R_R70 70 V+ 28
R_R71 V- 74 28
Q_Q1 11 3 16 QN 1.0
G_G50 0 50 POLY(1) 40 0 0 1.0u 0 0
C_C5 0 40 25f
R_R10 11 10 400
R_R11 12 10 400
R_R1 30 0 160K
R_R40 40 0 1K
G_G40 0 40 POLY(1) 30 0 0 1E-03 0 0
G_G30 0 30 POLY(1) 12 11 1m 4.814m 0 0
C_C2 30 0 20.0p
Q_Q2 12 - 16 QN 2
G_G11 - 0 POLY(2) 24 0 25 0 0 .2M .2M
D_D20 20 0 DN1 .5
D_D21 0 21 DN1 .5
I_I20 21 20 DC 10.5uA
E_E11 + 3 POLY(2) 20 0 21 0 .2M .3 .3
C_C8 11 12 40f
*
.MODEL Da D IS=1.0000f
.MODEL DN1 D(IS=2F AF=1 KF=10.5E-17)
.MODEL DN3 D( IS=.1F AF=1 KF=39E-17)
.MODEL QN NPN IS=7.6E-18 VAF=78.71 VAR=1.452 BF=157
+RB=1.02E02 CJE=0.720f CJC=3.208E-16 KF=9.5f AF=1
.MODEL DX D IS=1f
.ENDS OPA820

* CONNECTIONS: NON-INVERTING INPUT
* | INVERTING INPUT
* | | POSITIVE POWER SUPPLY
* | | | NEGATIVE POWER SUPPLY
* | | | | OUTPUT
* | | | | |
.SUBCKT OPA128 1 2 3 4 5
*
C1 11 12 2.204p
C2 6 7 25.00p
DC 5 53 DX
DE 54 5 DX
DLP 90 91 DX
DLN 92 90 DX
DP 4 3 DX
EGND 99 0 POLY(2) (3,0) (4,0) 0 .5 .5
FB 7 99 POLY(5) VB VC VE VLP VLN 0 106.6E6 -10E6 10E6 10E6 -10E6
GA 6 0 11 12 314.2E-6
GCM 0 6 10 99 395.5p
ISS 3 10 DC 80.00E-6
HLIM 90 0 VLIM 1K
J1 11 2 10 JX
J2 12 1 10 JX
R2 6 9 100.0E3
RD1 4 11 3.183E3
RD2 4 12 3.183E3
RO1 8 5 25
RO2 7 99 75
RP 3 4 33.33E3
RSS 10 99 2.500E6
VB 9 0 DC 0
VC 3 53 DC 2
VE 54 4 DC 2
VLIM 7 8 DC 0
VLP 91 0 DC 29
VLN 0 92 DC 29
.MODEL DX D(IS=800.0E-18)
.MODEL JX PJF(IS=20.00f BETA=616.8E-6 VTO=-1)
.ENDS


* "E" IS ENHANCED MODEL
*
* REV.B 3/21/92 BCB: added input bias current correction and
* current and voltage noise
* | INVERTING INPUT
* | | POSITIVE POWER SUPPLY
* | | | NEGATIVE POWER SUPPLY
* | | | | OUTPUT
* | | | | |
.SUBCKT OPA128E 1 2 3 4 5
*
C1 11 12 2.204p
C2 6 7 25.00p
DC 5 53 DX
DE 54 5 DX
DLP 90 91 DX
DLN 92 90 DX
DP 4 3 DX
EGND 99 0 POLY(2) (3,0) (4,0) 0 .5 .5
FB 7 99 POLY(5) VB VC VE VLP VLN 0 106.6E6 -10E6 10E6 10E6 -10E6
GA 6 0 11 12 314.2E-6
GCM 0 6 10 99 395.5p
ISS 3 10 DC 80.00E-6
HLIM 90 0 VLIM 1K
J1 11 2 10 JX
J2 12 64 10 JX
G11 2 4 POLY(4) (10,2) (11,2) (4,2) (66,0) 0 1p 1p 1p 120E-9
G21 1 4 POLY(4) (10,1) (12,1) (4,1) (68,0) 0 1p 1p 1p 120E-9
R2 6 9 100.0E3
RD1 4 11 3.183E3
RD2 4 12 3.183E3
RO1 8 5 25
RO2 7 99 75
* RP 3 4 33.33E3
RSS 10 99 2.500E6
VB 9 0 DC 0
VC 3 53 DC 2
VE 54 4 DC 2
VLIM 7 8 DC 0
VLP 91 0 DC 29
VLN 0 92 DC 29
****************************
* OPA128 "E" - ENHANCEMENTS
****************************
* OUTPUT SUPPLY MIRROR
FQ3 0 20 POLY(1) VLIM 0 1
DQ1 20 21 DX
DQ2 22 20 DX
VQ1 21 0 0
VQ2 22 0 0
FQ1 3 0 POLY(1) VQ1 0.700E-3 1
FQ2 0 4 POLY(1) VQ2 0.700E-3 -1
* QUIESCIENT CURRENT
RQ 3 4 2.5E5
* DIFF INPUT CAPACITANCE
CDIF 1 2 1.0p
* COMMON MODE INPUT CAPACITANCE
C1CM 1 99 1.0p
C2CM 2 99 1.0p
* INPUT VOLTAGE NOISE
VN1 61 0 0.6
VN2 0 62 0.6
DN1 61 63 DY
DN2 63 62 DY
EN 64 1 63 0 1
* INPUT CURRENT NOISE
RN1 0 65 60.3865
RN2 65 66 60.3865
RN3 66 0 120.773
RN4 0 67 60.3865
RN5 67 68 60.3865
RN6 68 0 120.773
******************
.MODEL DY D(IS=1.9E-16 AF=1 KF=5.643E-16)
.MODEL DX D(IS=800.0E-18)
.MODEL JX PJF(IS=20.00f BETA=616.8E-6 VTO=-1)
.ENDS

*OPA847 Wideband, Ultra-Low Noise Voltage Feedback Operational Amplifier with Shutdown
* REV. A - Created 7/14/06 X-ramus2@ti.com
*
*
* NOTES:
* 1- This macromodel predicts well: DC, small-signal AC, noise,
* , and transient performance under a wide range
* of conditions.
* 2- This macromodel does not predict well: distortion
* (harmonic, intermod, diff. gain & phase, ...),
* temperature effects, board parasitics, differences
* between package styles, and process changes
* 3- For Spice3F4 users they might need to un-comment the lines for the F
* function and comment out the Lines for PSpice F functions
* and subckts. First try the present netlist then comment out lines if
* errors appear.
* General form:
* FXXXXXXX N+ N- <POLY(ND)> VN1 <VN2 ...> P0 <P1 ...> <IC=...>
* Examples:
* F1 12 10 VCC 1MA 1.3M
* 4- For some simulators the subckt for the F statement need to be placed
* inside the ends statement followed by carriage return
* 5- Known Problems: - None
*
* CONNECTIONS:
* Pin 1: NC
* | Inverting Input
* | | Non-Inverting Input
* | | | Negative Supply
* | | | | Pin 5: NC
* | | | | | Output
* | | | | | | Positive Supply
* | | | | | | | Disable
* | | | | | | | |
* | | | | | | | |
* | | | | | | | |
.SUBCKT OPA847 inm inp V- Out V+ Dis
.PARAM x1=0.25
.PARAM x2={x1*2}
.PARAM x6={x2*3}
.PARAM x24=3
.PARAM x30={x2*15}
.PARAM x60={x30*2}
.PARAM x128=16

Q_Q1 11 $N_0001 $N_0002 PNP8 {x24}
Q_Q47 10 $N_0001 $N_0003 PNP8 {x24}
R_R1 $N_0003 $N_0004 175
R_R2 $N_0002 $N_0004 175
V_V1 $N_0005 Vmid 0.0659V
X_F1 $N_0006 $N_0007 $N_0004 $N_0008 OPA847_Model_F1
R_R37 Vmid $N_0009 288
X_F4 $N_0010 $N_0009 $N_0004 $N_0011 OPA847_Model_F4
X_F3 $N_0007 $N_0010 $N_0004 $N_0012 OPA847_Model_F3
C_C2 $N_0013 $N_0004 5p
C_C3 $N_0013 11 3.95p
X_F2 $N_0008 $N_0013 $N_0014 $N_0013 OPA847_Model_F2
E_E1 Vmid $N_0013 $N_0004 $N_0013 0.5
R_R36 $N_0013 $N_0004 49.5kk
X_F5 $N_0015 $N_0013 $N_0016 $N_0013 OPA847_Model_F5
Q_Q14 $N_0018 $N_0017 $N_0019 NPN8 .125
X_F8 $N_0020 $N_0018 V+ $N_0021 OPA847_Model_F8
X_F6 $N_0022 $N_0006 V+ $N_0017 OPA847_Model_F6
R_R21 $N_0004 V+ 6
Q_Q44 V+ $N_0016 $N_0023 NPN8 {x30}
R_R31 $N_0016 $N_0024 750
R_R8 V- $N_0017 200k
Q_Q15 $N_0017 $N_0019 V- NPN8 {x1}
R_R6 $N_0013 V- 6
R_R40 V- $N_0019 2.317k
Q_Q43 V- $N_0016 $N_0025 PNP8 {x30}
Q_Q24 V- $N_0023 $N_0026 PNP8 {x60}
Q_Q20 V- $N_0026 $N_0024 PNP8 {x2}
Q_Q19 V+ $N_0026 $N_0024 NPN8 {x2}
R_R15 $N_0026 Out 2
X_F7 V+ $N_0020 V+ $N_0025 OPA847_Model_F7
X_F9 $N_0021 V- $N_0023 V- OPA847_Model_F9
Q_Q46 10 $N_0027 $N_0014 NPN8 {x128}
C_C7 $N_0013 $N_0016 0.25p
Q_Q18 V+ $N_0025 $N_0026 NPN8 {x60}
C_C6 10 $N_0026 3.428p
R_R38 $N_0012 $N_0001 125
R_R39 $N_0001 $N_0011 125
Q_Q48 $N_0016 10 $N_0011 PNP8 {x6}
Q_Q41 $N_0015 11 $N_0012 PNP8 {x6}
X_S1 $N_0004 Dis $N_0022 $N_0005 OPA847_Model_S1
R_R41 inp $N_0027 10
R_R42 inm $N_0028 10
Q_Q49 11 $N_0028 $N_0014 NPN8 {x128*1.005}

.MODEL NPN8 NPN
+ IS=7.604E-18 BF=1.570E+02 NF=1.000E+00 VAF= 7.871E+01
+ IKF= 3.975E-02 ISE= 3.219E-14 NE=2.000E+00 BR=7.614E-01
+ NR=1.000E+00 VAR= 1.452E+00 IKR= 8.172E-02 ISC= 7.618E-21
+ NC=1.847E+00 RB=1.060E+02 IRB= 0.000E+00 RBM= 2.400E+00
+ RE=2.520E+00 RC=1.270E+02 CJE= 1.120E-13 VJE= 7.591E-01
+ MJE= 5.406E-01 TF=1.213E-11 XTF= 2.049E+00 VTF= 1.813E+00
+ ITF= 4.293E-02 PTF= 0.000E+00 CJC= 8.208E-14 VJC= 6.666E-01
+ MJC= 4.509E-01 XCJC=8.450E-02 TR=4.000E-11 CJS= 1.160E-13
+ VJS= 5.286E-01 MJS= 4.389E-01 XTB= 1.022E+00 EG=1.120E+00
+ XTI= 1.780E+00 KF=3.500E-16 AF=1.000E+00 FC=8.273E-01


.MODEL PNP8 PNP
+ IS=7.999E-18 BF=1.418E+02 NF=1.000E+00 VAF= 4.158E+01
+ IKF= 1.085E-01 ISE= 2.233f NE=1.505E+00 BR=3.252E+01
+ NR=1.050E+00 VAR= 1.093E+00 IKR= 5.000E-05 ISC= 6.621E-16
+ NC=1.150E+00 RB=6.246E+01 IRB= 0.000E+00 RBM= 2.240E+00
+ RE=2.537E+00 RC=1.260E+02 CJE= 9.502E-14 VJE= 7.320E-01
+ MJE= 4.930E-01 TF=1.303E-11 XTF= 3.500E+01 VTF= 3.259E+00
+ ITF= 2.639E-01 PTF= 0.000E+00 CJC= 1.080E-13 VJC= 7.743E-01
+ MJC= 5.000E-01 XCJC=8.504E-02 TR=1.500E-10 CJS= 1.290E-13
+ VJS= 9.058E-01 MJS= 4.931E-01 XTB= 1.732E+00 EG=1.120E+00
+ XTI= 2.000E+00 KF=3.500E-16 AF=1.000E+00 FC=8.500E-01

.subckt OPA847_Model_F1 1 2 3 4
F_F1 3 4 VF_F1 1
VF_F1 1 2 0V
.ends OPA847_Model_F1
.subckt OPA847_Model_F4 1 2 3 4
F_F4 3 4 VF_F4 5.96931517984
VF_F4 1 2 0V
.ends OPA847_Model_F4
.subckt OPA847_Model_F3 1 2 3 4
F_F3 3 4 VF_F3 5.96931517984
VF_F3 1 2 0V
.ends OPA847_Model_F3
.subckt OPA847_Model_F2 1 2 3 4
F_F2 3 4 VF_F2 17.54155155502
VF_F2 1 2 0V
.ends OPA847_Model_F2
.subckt OPA847_Model_F5 1 2 3 4
F_F5 3 4 VF_F5 1
VF_F5 1 2 0V
.ends OPA847_Model_F5
.subckt OPA847_Model_F8 1 2 3 4
F_F8 3 4 VF_F8 1.14285714286
VF_F8 1 2 0V
.ends OPA847_Model_F8
.subckt OPA847_Model_F6 1 2 3 4
F_F6 3 4 VF_F6 0.1666667
VF_F6 1 2 0V
.ends OPA847_Model_F6
.subckt OPA847_Model_F7 1 2 3 4
F_F7 3 4 VF_F7 8
VF_F7 1 2 0V
.ends OPA847_Model_F7
.subckt OPA847_Model_F9 1 2 3 4
F_F9 3 4 VF_F9 7
VF_F9 1 2 0V
.ends OPA847_Model_F9
.subckt OPA847_Model_S1 1 2 3 4
S_S1 3 4 1 2 _S1
RS_S1 1 2 1G
.MODEL _S1 VSWITCH Roff=1e9 Ron=1m Voff=3V Von=2V
.ends OPA847_Model_S1
.ENDS OPA847

* OPA342 SPICE Macro-model 
* 
* REV. A CREATED 11 JUNE 1999 BY BILL MACLEAN
* REV. B CREATED 26 JULY 1999 BY NEIL P. ALBAUGH
* 
* BASED ON OPA340 PSPICE MODEL BY MAREK LIS, BURR-BROWN CORPORATION
*
* non-inverting input
* | inverting input
* | | positive supply
* | | | negative supply
* | | | | output
* | | | | |
.SUBCKT OPA342 + - V+ V- OUT
*
* INPUT STAGE
i1 V+ 5 150u
m7 550 vswitch 5 5 pix l=6u w=25u m=4
m8 550 550 V- V- nix l=6u w=25u m=4
m9 553a 550 V- V- nix l=6u w=25u m=4
m9c 66 nvsat 553a V- nix l=6u w=25u m=4
Vpvsat V+ vswitch DC 1.3
Vnvsat nvsat V- DC 1.37
iin1 + 98 .2p
iin2 - 98 .2p
d3 5 V+ dx
d4 V- 66 dx
d5 - V+ dx
d6 + V+ dx
d7 V- - dx
d8 V- + dx
m1 33 - 66 V- nix l=6u w=25u
m2 4 7 66 V- nix l=6u w=25u
m3 8 - 5 5 pix l=6u w=25u
m4 9 7 5 5 pix l=6u w=25u
eos 7 + poly(1) 25 98 .130m 0
ios - + 0p
r1 V+ 33 4.833k
r2 V+ 4 4.833k
r3 8 V- 4.833k
r4 9 V- 4.833k
*
* GAIN STAGE
*
eref 98 0 poly(2) V+ 0 V- 0 0 0.7 0.7
g1 98 21 poly(2) 4 33 9 8 0 145u 145u
rg 21 98 18.078e6
cc 21 OUT 40p
d1 21 22 dx
d2 23 21 dx
v1 V+ 22 1.37
v2 23 V- 1.37
*
* COMMON MODE GAIN STAGE
*
ecm 24 98 poly(2) + 98 - 98 0 0.5 0.5
r5 24 25 1e6
r6 25 98 10k
c1 24 25 0.75p
* OUTPUT STAGE
ep V+ 39 poly(1) 98 21 0.88925 1
en 38 V- poly(1) 21 98 0.88925 1
ffa	V+ 	V-	vh 1.2
vh OUT 6h DC 1M
vl 6l OUT DC 1M
m113 6h 39 V+ V+ pox l=1.5u w=1500u
m114 6l 38 V- V- nox l=1.5u w=1500u
c15 OUT 39 50p
c16 OUT 38 50p
* MODEL DEFINITIONS
*
.model dx d(rs=1 cjo=0.1p)
.model nix nmos(vto=0.75 kp=205.5u rd=1 rs=1 rg=1 rb=1 cgso=4e-9
+cgdo=4e-9 cgbo=16.667e-9 cbs=2.34e-13 cbd=2.34e-13)
.model nox nmos(vto=0.75 kp=195u rd=.5 rs=.5 rg=1 rb=1 cgso=66.667p
+cgdo=66.667p cgbo=125e-9 cbs=2.34e-13 cbd=2.34e-13)
.model pix pmos(vto=-0.75 kp=205.5u rd=1 rs=1 rg=1 rb=1 cgso=4e-9
+cgdo=4e-9 cgbo=16.667e-9 cbs=2.34e-13 cbd=2.34e-13)
.model pox pmos(vto=-0.75 kp=195u rd=.5 rs=.5 rg=1 rb=1 cgso=66.667p
+cgdo=66.667p cgbo=125e-9 cbs=2.34e-13 cbd=2.34e-13)
.ENDS OPA342

* BEGIN MODEL OPA360
* BEGIN NOTES
* MODEL TEMP RANGE -40 TO 85 C
* NOTE THAT NOT ALL MODEL PARAMETERS
* TRACK THE DATASHEET VERSUS TEMP
* FOR ACCURATE INPUT BIAS CURRENT TO
* +- 5% USE SPICE OPTION GMIN=1E-14
* FOR ACCURATE INPUT BIAS CURRENT TO
* +- 20% USE SPICE OPTION GMIN=1E-13
* END NOTES
* BEGIN FEATURES
* CLOSED LOOP GAIN AND PHASE
* GROUP DELAY
* SAG PIN
* INPUT COMMON MODE VOLTAGE RANGE
* OUTPUT SWING VERSUS OUTPUT CURRENT
* OUTPUT CURRENT FLOWS THROUGH SUPPLY
* PSRR OF VOFFSET
* BIAS CURRENT
* QUIESCENT CURRENT
* SHUTDOWN FUNCTION
* SHUTDOWN / ENABLE DELAYS
* QUIESCENT CURRENT IN SHUTDOWN
* END FEATURES
* PINOUT ORDER IN SAG +V GND OUT EN
* PINOUT ORDER 1 3 6 2 4 5
*.SUBCKT OPA360 1 3 6 2 4 5
.SUBCKT OPA360 1 2 3 6 5 4
Q20 7 8 9 QLN
R3 10 11 1
R4 12 11 1
R10 8 13 1E3
R11 14 15 1E3
R12 16 6 2
R13 2 17 2
R16 18 19 300
R17 20 21 2
R18 9 22 2
D5 23 6 DD
D6 2 23 DD
D7 24 0 DIN
D8 25 0 DIN
I8 0 24 0.1E-3
I9 0 25 0.1E-3
E2 9 0 2 0 1
E3 21 0 6 0 1
D9 26 0 DVN
D10 27 0 DVN
I10 0 26 0.1E-3
I11 0 27 0.1E-3
E4 28 29 26 27 0.025
G2 30 29 24 25 1.2E-6
R22 2 6 100E6
E5 31 0 21 0 1
E6 32 0 9 0 1
E7 33 0 34 0 1
R30 31 35 1E4
R31 32 36 1E5
R32 33 37 1E5
R33 0 35 1
R34 0 36 10
R35 0 37 10
E10 38 39 37 0 0.03
R36 40 34 1E3
R37 34 41 1E3
C6 31 35 1p
C7 32 36 1p
C8 33 37 2p
E11 42 38 36 0 0.3
E12 30 42 35 0 0.67
E14 43 9 21 9 0.5
D11 18 21 DD
D12 9 18 DD
M1 44 45 17 17 NOUT L=3U W=15000U
M2 46 47 16 16 POUT L=3U W=15000U
M3 48 48 20 20 POUT L=3U W=15000U
M4 49 50 10 10 PIN L=3U W=675U
M5 51 52 12 12 PIN L=3U W=675U
M8 53 53 22 22 NOUT L=3U W=15000U
R43 54 47 100
R44 55 45 100
G3 18 43 56 43 0.2E-3
R45 43 18 9E6
C12 19 23 3.3p
R46 9 49 2E3
R47 9 51 2E3
C13 49 51 0.1p
C14 30 0 0.5p
C15 28 0 0.5p
C16 23 0 0.5p
D13 45 7 DD
D14 57 47 DD
Q15 57 15 21 QLP
V18 30 58 -30E-3
M19 59 60 21 21 PIN L=6U W=500U
E17 41 0 30 0 1
E18 40 0 29 0 1
M23 60 60 21 21 PIN L=6U W=500U
V21 59 11 0.6
R59 23 46 1
R60 44 23 1
J1 61 30 61 JNC
J2 61 28 61 JNC
J3 28 62 28 JNC
J4 30 62 30 JNC
C21 30 63 0.1p
E20 64 43 51 49 1
R62 64 56 1E4
C23 56 43 0.1p
G7 65 43 18 43 -1E-3
G8 43 66 18 43 1E-3
G9 43 67 53 9 1E-3
G10 68 43 21 48 1E-3
D17 68 65 DD
D18 66 67 DD
R66 65 68 100E6
R67 67 66 100E6
R68 68 21 1E3
R69 9 67 1E3
E23 21 54 21 68 1
E24 55 9 67 9 1
R70 66 43 1E6
R71 67 43 1E6
R72 43 68 1E6
R73 43 65 1E6
G11 6 2 69 0 1.27E-3
R75 42 30 1E9
R76 38 42 1E9
R77 39 38 1E9
R78 29 28 1E9
R79 43 56 1E9
R81 54 21 1E9
R82 9 55 1E9
R83 34 0 1E9
G14 60 9 70 0 425E-6
G15 48 53 70 0 220E-6
E48 71 18 70 0 30
E49 72 43 70 0 -30
V49 73 72 15
V50 74 71 -15
R127 71 0 1E12
R128 72 0 1E12
M41 43 74 18 75 PSW L=1.5U W=150U
M42 18 73 43 76 NSW L=1.5U
R129 75 0 1E12
R130 76 0 1E12
M43 77 5 9 9 NET L=3U W=300U
M44 78 79 9 9 NEN L=3U W=3000U
R131 77 21 1E4
R132 78 80 1E6
V51 80 9 1
M45 81 81 21 21 PEN L=6U W=60U
M46 5 81 21 21 PEN L=6U W=60U
I20 81 9 2E-6
C26 5 0 1p
E50 70 0 82 9 1
V52 78 82 1.111E-6
R133 9 82 1E12
C32 21 77 2p
C33 80 78 0.25p
I21 6 2 2.5E-6
L1 83 4 24E-9
R150 83 4 400
V78 21 61 0.7
V79 62 9 -0.1
M47 84 79 9 9 NEN L=3U W=3000U
R152 84 80 1E6
C34 80 84 0.25p
V80 84 85 1.111E-6
R153 9 85 1E12
E53 69 0 85 9 1
R154 0 69 1E12
R155 48 21 1E8
R156 9 53 1E8
R157 17 45 1E8
R158 16 47 1E8
RG1 0 69 1E9
R159 63 28 100
R225 52 28 240
R226 50 58 240
I40 28 0 3.3p
I47 30 0 3.3p
R304 29 86 325
M50 87 77 9 9 NEN L=3U W=300U
M51 79 87 9 9 NEN L=3U W=300U
R307 87 80 1E4
R308 79 80 1E4
C54 80 87 1.5E-10
C55 80 79 0.75p
E95 21 14 6 16 5
E96 13 9 17 2 5
M52 88 89 2 2 NIQ L=3U W=1000U
R309 88 6 722
E97 89 2 70 0 2
R310 2 89 1E9
R312 0 70 1E9
R313 60 21 1E9
R315 1 90 1.1E3
R316 90 39 1.4E3
C56 39 0 14.16p
C57 90 4 12p
R317 2 29 650
R319 23 83 3.42
C58 1 91 0.15f
R320 91 29 50
R321 86 4 845
R322 3 86 528
.MODEL DVN D KF=20p IS=1E-16
.MODEL DD D
.MODEL DIN D
.MODEL QLN NPN
.MODEL QLP PNP
.MODEL JNC NJF IS=1E-18
.MODEL POUT PMOS KP=200U VTO=-0.7
.MODEL NOUT NMOS KP=200U VTO=0.7
.MODEL PIN PMOS KP=200U VTO=-0.7
.MODEL NIN NMOS KP=200U VTO=0.7
.MODEL NIQ NMOS KP=200U VTO=0.7 IS=1E-18
.MODEL NET NMOS KP=200U VTO=1.2 IS=1E-18
.MODEL NEN NMOS KP=200U VTO=0.5 IS=1E-18
.MODEL PEN PMOS KP=200U VTO=-0.7 IS=1E-18
.MODEL PSW PMOS KP=200U VTO=-7.5 IS=1E-18
.MODEL NSW NMOS KP=200U VTO=7.5 IS=1E-18
.ENDS
* END MODEL OPA360

* AD8552 SPICE Macro-model
* Typical Values
* 7/99, Ver. 1.0
* TAM / ADSC
*
* Copyright 1999 by Analog Devices
*
* Refer to "README.DOC" file for License Statement. Use of this
* model indicates your acceptance of the terms and provisions in
* the License Statement.
*
* Node Assignments
*			noninverting input
*			|	inverting input
*			|	|	 positive supply
*			|	|	 |	 negative supply
*			|	|	 |	 |	 output
*			|	|	 |	 |	 |
*			|	|	 |	 |	 |
.SUBCKT AD8552		1	2	99	50	45
*
* INPUT STAGE
*
M1 4 7 8 8 PIX L=1E-6 W=355.3E-6
M2 6 2 8 8 PIX L=1E-6 W=355.3E-6
M3 11 7 10 10 NIX L=1E-6 W=355.3E-6
M4 12 2 10 10 NIX L=1E-6 W=355.3E-6
RC1 4 14 9E+3
RC2 6 16 9E+3
RC3 17 11 9E+3
RC4 18 12 9E+3
RC5 14 50 1E+3
RC6 16 50 1E+3
RC7 99 17 1E+3
RC8 99 18 1E+3
C1 14 16 30p
C2 17 18 30p
I1 99 8 100E-6
I2 10 50 100E-6
V1 99 9 0.3
V2 13 50 0.3
D1 8 9 DX
D2 13 10 DX
EOS 7 1 POLY(3) (22,98) (73,98) (81,98) 1E-6 1 1 1
IOS 1 2 2.5p
*
* CMRR 120dB, ZERO AT 20Hz
*
ECM1 21 98 POLY(2) (1,98) (2,98) 0 .5 .5
RCM1 21 22 50E+6
CCM1 21 22 159p
RCM2 22 98 50
*
* PSRR=120dB, ZERO AT 1Hz
*
RPS1 70 0 1E+6
RPS2 71 0 1E+6
CPS1 99 70 1E-5
CPS2 50 71 1E-5
EPSY 98 72 POLY(2) (70,0) (0,71) 0 1 1
RPS3 72 73 15.9E+6
CPS3 72 73 10E-9
RPS4 73 98 16
*
* VOLTAGE NOISE REFERENCE OF 45nV/rt(Hz)
*
VN1 80 98 0
RN1 80 98 16.45E-3
HN 81 98 VN1 45
RN2 81 98 1
*
* INTERNAL VOLTAGE REFERENCE
*
EREF 98 0 POLY(2) (99,0) (50,0) 0 .5 .5
GSY 99 50 (99,50) 48E-6
EVP 97 98 (99,50) 0.5
EVN 51 98 (50,99) 0.5
*
* LHP ZERO AT 7MHz, POLE AT 50MHz
*
E1 32 98 POLY(2) (4,6) (11,12) 0 .5814 .5814
R2 32 33 3.7E+3
R3 33 98 22.74E+3
C3 32 33 1p
*
* GAIN STAGE
*
G1 98 30 (33,98) 22.7E-6
R1 30 98 259.1E+6
CF 45 30 45.4p
D3 30 97 DX
D4 51 30 DX
*
* OUTPUT STAGE
*
M5 45 46 99 99 POX L=1E-6 W=1.111E-3
M6 45 47 50 50 NOX L=1E-6 W=1.6E-3
EG1 99 46 POLY(1) (98,30) 1.1936 1
EG2 47 50 POLY(1) (30,98) 1.2324 1
*
* MODELS
*
.MODEL POX PMOS (LEVEL=2,KP=10E-6,VTO=-1,LAMBDA=0.001,RD=8)
.MODEL NOX NMOS (LEVEL=2,KP=10E-6,VTO=+1,LAMBDA=0.001,RD=5)
.MODEL PIX PMOS (LEVEL=2,KP=100E-6,VTO=-1,LAMBDA=0.01)
.MODEL NIX NMOS (LEVEL=2,KP=100E-6,VTO=+1,LAMBDA=0.01)
.MODEL DX D(IS=1E-14,RS=5)
.ENDS AD8552


* Rev.A March-2008
* MODEL FEATURES INCLUDE OUTPUT SWING, OUTPUT CURRENT THRU THE SUPPLY RAILS,
* OUTPUT CURRENT LIMIT, OPEN LOOP GAIN AND PHASE WITH RL AND CL EFFECTS, SLEW
* RATE, COMMON MODE REJECTION WITH FREQ EFFECTS, POWER SUPPLY REJECTION WITH
* FREQ EFFECTS, INPUT VOLTAGE NOISE WITH 1/F, INPUT CURRENT NOISE, INPUT BIAS
* CURRENT, INPUT BIAS CURRENT TEMPERATURE EFFECTS, INPUT COMMON MODE RANGE,
* INPUT OFFSET VOLTAGE WITH TEMPERATURE EFFECTS, AND QUIESCENT CURRENT VS
* VOLTAGE AND TEMPERATURE.
*///////////////////////////////////////////////////////////////////////////////
* MODEL TEMP RANGE IS -40 TO +125 DEG C. NOTE THAT MODEL IS FUNCTIONAL OVER THIS
* RANGE BUT NOT ALL PARAMETERS TRACK THOSE OF THE REAL PART
*///////////////////////////////////////////////////////////////////////////////
* PINOUT ORDER +IN -IN +V -V OUT
* PINOUT ORDER 3 4 5 2 1
.SUBCKT LMP7721 3 4 5 2 1
*
* USE V44 BELOW TO ADJUST OFFSET
* PRESENT VALUE OF 248.7 UV GIVES 26 UV NET
* NOTE THAT VOS CHANGES VIA CMRR,PSRR, AND TCVOS
* ADJUST UP OR DN FROM 248.7 UV
V44 26 11 248.7E-6
*
* USE R325 BELOW TO ADJUST BIAS CURRENT
* PRESENT VALUE OF 1E7 GIVES TYPICAL IB
* USE 1E8 FOR WORST CASE IB
R325 0 100 1E7
*
* NOTE
* USE ANALYSIS OPTION GMIN OF 1E-13 TO 1f AND
* RELTOL=0.00001 TO 0.000001 FOR ACCURATE INPUT
* BIAS CURRENT
*
* MODEL FEATURES INCLUDE OUTPUT SWING, OUTPUT CURRENT THRU
* THE SUPPLY RAILS, OUTPUT CURRENT LIMIT, OPEN LOOP GAIN
* AND PHASE WITH RL AND CL EFFECTS, SLEW RATE, COMMON MODE
* REJECTION WITH FREQ EFFECTS, POWER SUPPLY REJECTION WITH
* FREQ EFFECTS, INPUT VOLTAGE NOISE WITH 1/F, INPUT CURRENT
* NOISE, INPUT BIAS CURRENT, INPUT BIAS CURRENT TEMPERATURE
* EFFECTS, INPUT COMMON MODE RANGE, INPUT OFFSET VOLTAGE
* WITH TEMPERATURE EFFECTS, AND QUIESCENT CURRENT VS
* VOLTAGE AND TEMPERATURE.
*
D17 6 0 DIN
D18 7 0 DIN
I14 0 6 0.1E-3
I15 0 7 0.1E-3
D19 8 0 DVN
D20 9 0 DVN
I16 0 8 0.1E-3
I17 0 9 0.1E-3
E15 10 4 8 9 0.7
G5 11 10 6 7 1.1E-14
E16 12 0 13 0 1
E17 14 0 15 0 1
E18 16 0 17 0 1
R56 12 18 1E6
R57 14 19 1E6
R58 16 20 1E6
R59 0 18 10
R60 0 19 10
R61 0 20 10
E19 21 22 20 0 1.4
R62 23 17 1E3
R63 17 24 1E3
C15 12 18 1p
C16 14 19 1p
C17 16 20 10p
E20 25 21 19 0 -6
E21 26 25 18 0 6
R64 0 27 1E12
G12 11 10 28 0 1.1E-6
R136 0 28 10E3
R137 0 28 10E3
R138 22 21 1E9
R139 21 25 1E9
R140 25 26 1E9
E54 24 0 11 0 1
E55 23 0 10 0 1
C23 11 10 0.05p
E57 22 3 29 0 8.45E-4
R146 22 3 1E9
R147 0 27 1E12
Q41 30 31 15 QLN
R148 31 32 1E3
R149 33 34 1E3
R150 35 13 5
R151 15 36 5
R153 37 38 200
R154 39 13 5
R155 15 40 5
D22 41 5 DD
D23 2 41 DD
E58 15 0 2 0 1
E59 13 0 5 0 1
R156 2 5 10E6
E67 42 15 13 15 0.5
D24 43 13 DD
D25 15 44 DD
R157 45 46 100
R158 47 48 100
G14 37 42 49 42 0.1E-3
R159 42 37 3.3E7
C24 38 50 5.25p
C25 41 0 0.5p
D26 48 30 DD
D27 51 46 DD
Q42 51 34 13 QLP
R160 41 52 1
R161 53 41 1
E61 54 42 55 56 1
R162 54 49 1E4
C26 49 42 0.3p
G15 57 42 37 42 -1E-3
G16 42 58 37 42 1E-3
G17 42 59 60 15 1E-3
G18 61 42 13 62 1E-3
D28 61 57 DD
D29 58 59 DD
R163 57 61 100E6
R164 59 58 100E6
R165 61 13 1E3
R166 15 59 1E3
R167 58 42 1E6
R168 59 42 1E6
R169 42 61 1E6
R170 42 57 1E6
G19 5 2 63 0 0.95E-3
R171 42 49 1E9
R172 45 13 1E9
R173 15 47 1E9
G20 62 60 27 0 0.1E-3
L2 41 1 0.4E-9
R175 41 1 400
R176 62 13 1E8
R177 15 60 1E8
R178 36 48 1E8
R179 35 46 1E8
R180 0 27 1E9
E99 13 33 13 35 1.9
E100 32 15 36 15 6.5
E124 50 0 41 0 1
R219 37 50 3.3E9
I30 0 64 1E-3
D46 64 0 DD
R278 0 64 10E6
V27 64 29 0.65
R279 0 29 10E6
Q52 52 46 35 QOP
Q53 53 48 36 QON
Q54 60 60 40 QON
Q55 62 62 39 QOP
E144 13 45 13 61 1
E145 47 15 59 15 1
I33 0 65 1E-3
D49 65 0 DD
R287 0 65 10E6
V130 65 66 1.2301
R288 0 66 10E6
E50 67 0 66 0 -1.75
R289 0 67 10E6
R290 68 67 10E6
M3 68 69 0 0 NEN L=2U W=1000U
G22 70 71 68 0 3E-6
V32 72 0 1
R791 72 69 1E6
M4 69 27 0 0 NEN L=2U W=100U
E51 37 44 42 15 0.7
E52 43 37 13 42 0.7
G23 5 0 52 41 1
G24 2 0 41 53 -1
V35 13 73 1
M45 74 75 76 76 NEN L=3U W=3000U
R293 76 77 1E4
R294 74 13 1E6
V36 13 76 1
C110 13 73 1p
E53 27 0 78 76 1
V37 74 78 1.111E-6
R295 76 78 1E12
R296 73 13 1E6
C111 77 76 3f
C112 13 74 3f
M20 79 80 76 76 NEN L=3U W=300U
M21 75 79 76 76 NEN L=3U W=300U
R297 79 13 1E4
R298 75 13 1E4
C113 13 79 55p
C114 13 75 150p
E154 81 37 27 0 30
E155 82 42 27 0 -30
V138 83 82 15
V139 84 81 -15
R300 81 0 1E12
R301 82 0 1E12
M12 42 84 37 85 PSW L=1.5U W=150U
M13 37 83 42 86 NSW L=1.5U W=150U
R302 85 0 1E12
R303 86 0 1E12
M14 77 73 13 13 PEN L=6U W=60U
E156 87 76 77 76 -1
R304 76 87 10E6
R305 76 87 10E6
V40 80 87 1
R306 76 80 10E6
M55 88 89 2 2 NEN L=2U W=1000U
R809 88 5 100E3
E37 89 2 27 0 3
M56 63 90 0 0 NEN L=2U W=10M
R811 63 67 850E3
E60 91 0 27 0 -1
R312 0 91 10E6
R313 0 91 10E6
V43 90 91 1
R814 0 90 10E6
G25 5 2 27 0 -0.33E-3
G26 5 2 92 0 0.7E-4
E161 93 0 5 2 1
M57 92 90 0 0 NEN L=2U W=10M
R815 92 93 75E3
R317 4 10 1E9
R319 94 56 2E3
R320 94 55 2E3
C47 56 55 1.2p
M58 56 95 96 96 PIN L=3U W=650U
M59 55 97 98 98 PIN L=3U W=650U
Q58 99 70 71 QPI
R321 11 95 40
R322 10 97 40
R323 96 99 1
R324 98 99 1
V145 13 71 0.2
V46 94 15 0
D50 100 101 DL
V47 101 0 3
G51 10 0 100 0 1.6E-11
I61 10 0 1f
G52 11 0 100 0 1.6E-11
I62 11 0 1f
J1 102 95 102 JC
J2 95 103 95 JC
J3 102 97 102 JC
J4 97 103 97 JC
V48 13 102 0.48
V49 103 15 0.15
G53 104 3 104 3 2.5E-13
G54 104 4 104 4 2.5E-13
V146 104 15 1
.MODEL DL D IS=0.95E-11 N=1.9 XTI=1.5
.MODEL JC NJF IS=1E-18
.MODEL QPI PNP
.MODEL QON NPN RC=5
.MODEL QOP PNP RC=5
.MODEL DD D
.MODEL DVN D KF=2.5f
.MODEL DIN D KF=8E-17
.MODEL QLN NPN
.MODEL QLP PNP
.MODEL PIN PMOS KP=200U VTO=-0.7
.MODEL NIQS NMOS KP=200U VTO=0.7 IS=1E-18
.MODEL NEN NMOS KP=200U VTO=0.5 IS=1E-18
.MODEL PEN PMOS KP=200U VTO=-0.7 IS=1E-18
.MODEL PSW PMOS KP=200U VTO=-7.5 IS=1E-18
.MODEL NSW NMOS KP=200U VTO=7.5 IS=1E-18
.ENDS LMP7721


.SUBCKT MCP6541 1 2 3 4 5
* | | | | |
* | | | | Output
* | | | Negative Supply
* | | Positive Supply
* | Inverting Input
* Non-inverting Input
*

* The following comparators are covered by this model:
* MCP6541, MCP6542, MCP6543, MCP6544
*
* Revision History:
* REV A: 27-Sep-06 HNV created model
*
* Recommendations:
* Use PSPICE (other simulators may require translation)
* For a quick, effective design, use a combination of: data sheet
* specs, bench testing, and simulations with this macromodel
* For high impedance circuits, set GMIN=100F in the .OPTIONS statement
* Can disable Hysteresis for faster response in large circuits by adding comments
* in front of statements flagged below
*
* Supported:
* Typical performance for temperature range (-40 to 125) degrees Celsius
* DC, AC, Transient, and Noise analyses.
* Most specs, including: offsets, DC PSRR, DC CMRR, input impedance,
* open loop gain, voltage ranges, supply current, ... , etc.
* Temperature effects for Ibias, Iquiescent, Iout short circuit
* current, Vsat on both rails, Slew Rate vs. Temp and P.S.
*
* Not Supported:
* Chip select (MCP6543)
* Some Variation in specs vs. Power Supply Voltage
* Monte Carlo (Vos, Ib), Process variation
* Distortion (detailed non-linear behavior)
* Behavior outside normal operating region
*
* Input Stage
V10 3 10 -505M
R10 10 11 690K
R11 10 12 690K
G10 10 11 10 11 144U
G11 10 12 10 12 144U
C11 11 12 576f
C12 1 0 4.00P IC=100m
E12 71 14 POLY(7) 20 0 21 0 22 0 23 0 26 0 27 0 111 0
+ 1.5M 79.6 79.6 79.6 79.6 1 1 0.5M
* LINE ABOVE FOR HYSTERESIS, LINE BELOW FOR NO HYSTERESIS
*+ 1.5M 79.6 79.6 79.6 79.6 1 1 0
G12 1 0 62 0 1m
G13 1 2 63 0 1m
M12 11 14 15 15 NMI
M14 12 2 15 15 NMI
G14 2 0 62 0 1m
C14 2 0 4.00P
I15 15 4 50.0U
V16 16 4 -305M
GD16 16 1 TABLE {V(16,1)} ((-100,-1p)(0,0)(1m,1u)(2m,1m))
V13 3 13 -305M
GD13 2 13 TABLE {V(2,13)} ((-100,-1p)(0,0)(1m,1u)(2m,1m))
R71 1 0 20.0E12
R72 2 0 20.0E12
R73 1 2 20.0E12
*
* Noise, PSRR, and CMRR
I20 21 20 423U
D20 20 0 DN1
D21 0 21 DN1
I22 22 23 1N
R22 22 0 1k
R23 0 23 1k
G26 0 26 POLY(2) 3 0 4 0 0.00 -177U -177U
R26 26 0 1
G27 0 27 POLY(2) 1 0 2 0 -2.75M 158U 158U
R27 27 0 1
*
* Open Loop Gain, Slew Rate
G30 0 30 12 11 1
R30 30 0 1K
cR30 30 0 10p ;my
G31 0 31 3 4 -2.7
I31 0 31 DC 110
R31 31 0 1 TC=2.34M,-4.57U
GD31 30 0 TABLE {V(30,31)} ((-100,-1n)(0,0)(1m,0.1)(2m,2))
G32 32 0 3 4 12
I32 32 0 DC 76.5
R32 32 0 1 TC=1.80M,-3.97U
GD32 0 30 TABLE {V(30,32)} ((-2m,2)(-1m,0.1)(0,0)(100,-1n))
G33 0 33 30 0 1m
R33 33 0 1K
G34 0 34 33 0 31.6M
R34 34 0 1K
C34 34 0 503N
G37 0 37 34 0 1m
R37 37 0 1K
C37 37 0 3P
G38 0 38 37 0 1m
R38 39 0 1K
L38 38 39 32U
E38 35 0 38 0 1
G35 33 0 TABLE {V(35,3)} ((-1,-1n)(0,0)(18.0,1n))(20.0,1))
G36 33 0 TABLE {V(35,4)} ((-22.0,-1)((-20.0,-1n)(0,0)(1,1n))
*
* Output Stage
R80 50 0 100MEG
*cg50 0 50 60f ;my
G50 0 50 57 96 2
R58 57 96 0.50
R57 57 0 500
C58 5 0 2.00P
G57 0 57 POLY(3) 3 0 4 0 35 0 0 1M 1M 2M
GD55 55 57 TABLE {V(55,57)} ((-2m,-1)(-1m,-1m)(0,0)(10,1n))
GD56 57 56 TABLE {V(57,56)} ((-2m,-1)(-1m,-1m)(0,0)(10,1n))
E55 55 0 POLY(2) 3 0 51 0 -1.26M 1 -39.0M
E56 56 0 POLY(2) 4 0 52 0 1.02M 1 -52.0M
R51 51 0 1k
R52 52 0 1k
GD51 50 51 TABLE {V(50,51)} ((-10,-1n)(0,0)(1m,1m)(2m,1))
GD52 50 52 TABLE {V(50,52)} ((-2m,-1)(-1m,-1m)(0,0)(10,1n))
G53 3 0 POLY(1) 51 0 -50.0U 1M
G54 0 4 POLY(1) 52 0 -50.0U -1M
*
* Current Limit
G99 96 5 99 0 1
R98 0 98 1 TC=-2.95M,7.2U
G97 0 98 TABLE { V(96,5) } ((-11.0,-10.0M)(-1.00M,-9.9M)(0,0)(1.00M,9.9M)(11.0,10.0M))
E97 99 0 VALUE { V(98)*((V(3)-V(4))*760M -1.15)}
D98 4 5 DESD
D99 5 3 DESD
*
* Temperature / Voltage Sensitive IQuiscent
R61 0 61 1 TC=2.53M,-13.0U
G61 3 4 61 0 1
G60 0 61 TABLE {V(3, 4)}
+ ((0,0)(600M,5.7N)(650M,30.0N)(800M,200N)
+ (1.33,558N)(1.4,570N)(5.5,580N))
*
* Temperature Sensitive offset voltage
I73 0 70 DC 1uA
R74 0 70 1 TC=3.00
E75 1 71 70 0 1
*
* Temp Sensistive IBias
I62 0 62 DC 1uA
R62 0 62 REXP 68.2U
*
* Temp Sensistive Offset IBias
I63 0 63 DC 1uA
R63 0 63 REXPO 1U
*
* Hysteresis
G110 0 110 POLY(2) 3 0 4 0 3.1 -50M 50M
R110 110 0 1 TC=2.2M,-14U
*E111 111 0 VALUE { V(110) * SGN(V(57) }
* LINE ABOVE CAUSED CONVERGENCE ERROR, USE TWO LINES BELOW INSTEAD
E111 111 0 VALUE { V(110) * V(112) }
E112 112 0 TABLE { V(120) } ((0,-1)(1.01,-0.99)(2,0.99)(3,1))
* Node 120 above is output of FF. Can substitute with node 57 for
* direct input from output state.
*
* Hyst FF Node 120 is output of FF
X_U113 0 0 113 114 120 115 $G_DPWR $G_DGND DFFRSH
E114 114 0 TABLE {V(57)}((-1,-1n)(1m,0)(2m,4)(1,4.01))
R113 0 115 1k
E113 113 0 TABLE {V(57)}((-1,4.01)(-2m,4)(-1m,1n)(0,0))
*
*
* Models
.MODEL NMI NMOS(L=2U W=42U KP=20U LEVEL=1 )
.MODEL DESD D N=1 IS=1f
.MODEL DN1 D IS=1P KF=146E-18 AF=1
.MODEL REXP RES TCE= 10.1
.MODEL REXPO RES TCE= 9
.subckt dffrsh d clk r s q qbar vcc vgnd
A1 d vgnd clk s r qbar q vgnd DFLOP Vhigh=5 REF=1.5 td=20n trise=20n tfall=20n
.ends dffrsh
.ENDS MCP6541

.SUBCKT MCP6541_my 1 2 3 4 5
* | | | | |
* | | | | Output
* | | | Negative Supply
* | | Positive Supply
* | Inverting Input
* Non-inverting Input
*

* The following comparators are covered by this model:
* MCP6541, MCP6542, MCP6543, MCP6544
*
* Revision History:
* REV A: 27-Sep-06 HNV created model
*
* Recommendations:
* Use PSPICE (other simulators may require translation)
* For a quick, effective design, use a combination of: data sheet
* specs, bench testing, and simulations with this macromodel
* For high impedance circuits, set GMIN=100F in the .OPTIONS statement
* Can disable Hysteresis for faster response in large circuits by adding comments
* in front of statements flagged below
*
* Supported:
* Typical performance for temperature range (-40 to 125) degrees Celsius
* DC, AC, Transient, and Noise analyses.
* Most specs, including: offsets, DC PSRR, DC CMRR, input impedance,
* open loop gain, voltage ranges, supply current, ... , etc.
* Temperature effects for Ibias, Iquiescent, Iout short circuit
* current, Vsat on both rails, Slew Rate vs. Temp and P.S.
*
* Not Supported:
* Chip select (MCP6543)
* Some Variation in specs vs. Power Supply Voltage
* Monte Carlo (Vos, Ib), Process variation
* Distortion (detailed non-linear behavior)
* Behavior outside normal operating region
*
* Input Stage
V10 3 10 -505M
R10 10 11 690K
R11 10 12 690K
G10 10 11 10 11 144U
G11 10 12 10 12 144U
C11 11 12 576f
C12 1 0 4.00P IC=100m
E12 71 14 POLY(7) 20 0 21 0 22 0 23 0 26 0 27 0 111 0
+ 1.5M 79.6 79.6 79.6 79.6 1 1 0.5M
* LINE ABOVE FOR HYSTERESIS, LINE BELOW FOR NO HYSTERESIS
*+ 1.5M 79.6 79.6 79.6 79.6 1 1 0
G12 1 0 62 0 1m
G13 1 2 63 0 1m
M12 11 14 15 15 NMI
M14 12 2 15 15 NMI
G14 2 0 62 0 1m
C14 2 0 4.00P
I15 15 4 50.0U
V16 16 4 -305M
GD16 16 1 TABLE {V(16,1)} ((-100,-1p)(0,0)(1m,1u)(2m,1m))
V13 3 13 -305M
GD13 2 13 TABLE {V(2,13)} ((-100,-1p)(0,0)(1m,1u)(2m,1m))
R71 1 0 20.0E12
R72 2 0 20.0E12
R73 1 2 20.0E12
*
* Noise, PSRR, and CMRR
*I20 21 20 423U
iI20 21 20 0
*D20 20 0 DN1
VD20 20 0 0
*D21 0 21 DN1
VD21 0 21 0
*I22 22 23 1N
VI22 22 23 -1u
R22 22 0 1k
R23 0 23 1k
G26 0 26 POLY(2) 3 0 4 0 0.00 -177U -177U
R26 26 0 1
G27 0 27 POLY(2) 1 0 2 0 -2.75M 158U 158U
R27 27 0 1
*
* Open Loop Gain, Slew Rate
G30 0 30 12 11 1
R30 30 0 1.00K
cR30 30 0 1.0p ;my
G31 0 31 3 4 -2.7
I31 0 31 DC 110
R31 31 0 1 TC=2.34M,-4.57U
GD31 30 0 TABLE {V(30,31)} ((-100,-1n)(0,0)(1m,0.1)(2m,2))
G32 32 0 3 4 12
I32 32 0 DC 76.5
R32 32 0 1 TC=1.80M,-3.97U
cR32 32 0 10n ;my
GD32 0 30 TABLE {V(30,32)} ((-2m,2)(-1m,0.1)(0,0)(100,-1n))
G33 0 33 30 0 1m
R33 33 0 1K
G34 0 34 33 0 31.6M
R34 34 0 1K
C34 34 0 503N
G37 0 37 34 0 1m
R37 37 0 1K
C37 37 0 3P
G38 0 38 37 0 1m
R38 39 0 1K
L38 38 39 32U
E38 35 0 38 0 1
G35 33 0 TABLE {V(35,3)} ((-1,-1n)(0,0)(18.0,1n))(20.0,1))
G36 33 0 TABLE {V(35,4)} ((-22.0,-1)((-20.0,-1n)(0,0)(1,1n))
*
* Output Stage
*R80 50 0 100MEG
cg50 0 50 900f ;my
biG50 0 50 i=v(57,96)*2 tripdv=100m tripdt=100n  Rpar=100Meg
*G50 0 50 57 96 2
R58 57 96 0.50
cR58 57 96 20n ;my
R57 57 0 500
cR57 57 0 2p ;my
C58 5 0 2.00P
G57 0 57 POLY(3) 3 0 4 0 35 0 0 1M 1M 2M
GD55 55 57 TABLE {V(55,57)} ((-2m,-1)(-1m,-1m)(0,0)(10,1n))
GD56 57 56 TABLE {V(57,56)} ((-2m,-1)(-1m,-1m)(0,0)(10,1n))
E55 55 0 POLY(2) 3 0 51 0 -1.26M 1 -39.0M
E56 56 0 POLY(2) 4 0 52 0 1.02M 1 -52.0M
R51 51 0 1k
CR51 51 0 1p ;my
R52 52 0 1k
CR52 52 0 1p ;my
GD51 50 51 TABLE {V(50,51)} ((-10,-1n)(0,0)(1m,1m)(2m,1))
GD52 50 52 TABLE {V(50,52)} ((-2m,-1)(-1m,-1m)(0,0)(10,1n))
G53 3 0 POLY(1) 51 0 -50.0U 1M
G54 0 4 POLY(1) 52 0 -50.0U -1M
*
* Current Limit
G99 96 5 99 0 1
R98 0 98 1 TC=-2.95M,7.2U
cR98 0 98 10n ;my
G97 0 98 TABLE { V(96,5) } ((-11.0,-10.0M)(-1.00M,-9.9M)(0,0)(1.00M,9.9M)(11.0,10.0M))
E97 99 0 VALUE { V(98)*((V(3)-V(4))*760M -1.15)}
D98 4 5 DESD
D99 5 3 DESD
*
* Temperature / Voltage Sensitive IQuiscent
R61 0 61 1 TC=2.53M,-13.0U
cR61 0 61 10n ;my
G61 3 4 61 0 1
G60 0 61 TABLE {V(3, 4)}
+ ((0,0)(600M,5.7N)(650M,30.0N)(800M,200N)
+ (1.33,558N)(1.4,570N)(5.5,580N))
*
* Temperature Sensitive offset voltage
VE75 1 71 {1u*(1+3*(TEMP-27))}
*
* Temp Sensistive IBias
Vr62 62 0 {68.2p*(1+10.1*(temp-27))}
*
* Temp Sensistive Offset IBias
Vr63 63 0 {1p*(1+9*(temp-27))}
*
* Hysteresis
G110 0 110 POLY(2) 3 0 4 0 3.1 -50M 50M
R110 110 0 1 TC=2.2M,-14U
CR110 110 0 1n ;my
   E111 111 0 VALUE { V(110) * SGN(V(57)) }
* LINE ABOVE CAUSED CONVERGENCE ERROR, USE TWO LINES BELOW INSTEAD
***E111 111 0 VALUE { V(110) * V(112) }
***E112 112 0 TABLE { V(120,0) } ((0,-1)(1.01,-0.99)(2,0.99)(3,1))
* Node 120 above is output of FF. Can substitute with node 57 for
* direct input from output state.
*
* Hyst FF Node 120 is output of FF
X_U113 0 0 113 114 120 115 $G_DPWR $G_DGND DFFRSH
vvvp $G_DPWR 0 3
vvvg $G_DGND 0 0
E114 114 0 TABLE {V(57,0)}((-1,-1n)(1m,0)(2m,4)(1,4.01))
R113 0 115 1k
CR113 0 115 10p ;my
E113 113 0 TABLE {V(57,0)}((-1,4.01)(-2m,4)(-1m,1n)(0,0))
*
*
* Models
.MODEL NMI NMOS(L=2U W=42U KP=20U LEVEL=1)
.MODEL DESD D N=1 IS=10f
.MODEL DN1 D IS=1P KF=146E-18 AF=1
.MODEL REXP RES TCE= 10.1
.MODEL REXPO RES TCE= 9
.subckt dffrsh d clk r s q qbar vcc vgnd
A1 d vgnd clk s r qbar q vgnd DFLOP Vhigh=5 REF=1.5 td=20n trise=20n tfall=20n
.ends dffrsh
.ENDS MCP6541_my

.SUBCKT MCP6401 1 2 3 4 5
* | | | | |
* | | | | Output
* | | | Negative Supply
* | | Positive Supply
* | Inverting Input
* Non-inverting Input
*
* The following op-amps are covered by this model:
* MCP6401, MCP6401R, MCP6401U, MCP6402, MCP6404
*
* Date of model creation: 10/10/2010
* Level of Model Creator: 3.0
*
* Revision History:
* REV A: 10-Oct-10
*
* Recommendations:
* Use PSPICE (or SPICE 2G6; other simulators may require translation)
* For a quick, effective design, use a combination of: data sheet
* specs, bench testing, and simulations with this macromodel
* For high impedance circuits, set GMIN=100F in the .OPTIONS statement
*
* Supported:
* Typical performance for temperature range (-40 to 125) degrees Celsius
* DC, AC, Transient, and Noise analyses.
* Most specs, including: offsets, DC PSRR, DC CMRR, input impedance,
* open loop gain, voltage ranges, supply current, ... , etc.
* Temperature effects for Ibias, Iquiescent, Iout short circuit
* current, Vsat on both rails, Slew Rate vs. Temp and P.S.
*
* Not Supported:
* Some Variation in specs vs. Power Supply Voltage
* Vos distribution, Ib distribution for Monte Carlo
* Distortion (detailed non-linear behavior)
* Some Temperature analysis
* Process variation
* Behavior outside normal operating region
*
*
* Input Stage
V10 3 10 -400M
R10 10 11 1.00MEG
R11 10 12 1.00MEG
G10 10 11 10 11 100U
G11 10 12 10 12 100U
C11 11 12 397f
C12 1 0 6P
E12 71 14 POLY(6) 20 0 21 0 22 0 23 0 26 0 27 0 4.5M 11.7 11.7 3.6 3.6 1 1
G12 1 0 62 0 1m
G13 1 2 63 0 1u
M12 11 14 15 15 NMI
M14 12 2 15 15 NMI
G14 2 0 62 0 1m
C14 2 0 6P
C13 1 2 3P
I15 15 4 20.0U
V16 16 4 -200M
GD16 16 1 TABLE {V(16,1)} ((-100,-1p)(0,0)(1m,1u)(2m,1m))
V13 3 13 -200M
GD13 2 13 TABLE {V(2,13)} ((-100,-1p)(0,0)(1m,1u)(2m,1m))
R71 1 0 20.0E12
R72 2 0 20.0E12
R73 1 2 20.0E12
*
* Noise, PSRR, and CMRR
I20 21 20 423U
D20 20 0 DN1
D21 0 21 DN1
I22 22 23 1N
R22 22 0 1k
R23 0 23 1k
G26 0 26 POLY(2) 3 0 4 0 0.00 -79.4U -100U
R26 26 0 1
G27 0 27 POLY(2) 1 0 2 0 -847U 40U 40U
R27 27 0 1
*
* Open Loop Gain, Slew Rate
G30 0 30 12 11 1
R30 30 0 1.00K
G31 0 31 3 4 3.9
I31 0 31 DC 51.5
R31 31 0 1 TC=3.03M,2.40U
GD31 30 0 TABLE {V(30,31)} ((-100,-1n)(0,0)(1m,0.1)(2m,2))
CD31 31 30 2p
G32 32 0 3 4 2.2
I32 32 0 DC 93
R32 32 0 1 TC=2.22M,-2.72U
GD32 0 30 TABLE {V(30,32)} ((-2m,2)(-1m,0.1)(0,0)(100,-1n))
CD32 32 30 2p
G33 0 33 30 0 1m
R33 33 0 1K
G34 0 34 33 0 0.325
R34 34 0 1K
C34 34 0 50.3U
G37 0 37 34 0 1m
R37 37 0 1K
C37 37 0 63.6P
G38 0 38 37 0 1m
R38 39 0 1K
L38 38 39 79.5U
E38 35 0 38 0 1
G35 33 0 TABLE {V(35,3)} ((-1,-1n)(0,0)(90,1n))(91,1))
G36 33 0 TABLE {V(35,4)} ((-91,-1)((-90,-1n)(0,0)(1,1n))
*
* Output Stage
R80 50 0 100MEG
G50 0 50 57 96 2
R58 57 96 0.50
R57 57 0 1.2K
C58 5 0 2.00P
G57 0 57 POLY(3) 3 0 4 0 35 0 0 312U 416U 833U
GD55 55 57 TABLE {V(55,57)} ((-2m,-1)(-1m,-1m)(0,0)(10,1n))
CD55 55 57 2p
CD56 57 56 2p
GD56 57 56 TABLE {V(57,56)} ((-2m,-1)(-1m,-1m)(0,0)(10,1n))
E55 55 0 POLY(2) 3 0 51 0 2M 1 -54M
E56 56 0 POLY(2) 4 0 52 0 1.2M 1 -50M
R51 51 0 1k
R52 52 0 1k
GD51 50 51 TABLE {V(50,51)} ((-10,-1n)(0,0)(1m,1m)(2m,1))
GD52 50 52 TABLE {V(50,52)} ((-2m,-1)(-1m,-1m)(0,0)(10,1n))
CD51 50 52 2p
CD52 50 51 2p
G53 3 0 POLY(1) 51 0 -20.0U 1M
G54 0 4 POLY(1) 52 0 -20.0U -1M
*
* Current Limit
G99 96 5 99 0 1
R98 0 98 1 TC=-3.71M,8.17U
G97 0 98 TABLE { V(96,5) } ((-12.0,-7.00M)(-1.00M,-6.93M)(0,0)(1.00M,6.93M)(12.0,7.00M))
E97 99 0 VALUE { V(98)*((V(3)-V(4))*428M + 142M)}
D98 4 5 DESD
D99 5 3 DESD
*
* Temperature / Voltage Sensitive IQuiscent
R61 0 61 1 TC=2.24M,3.12U
G61 3 4 61 0 1
G60 0 61 TABLE {V(3,4)}
+ ((0,0)(800M,440N)(850M,3.00U)(1.3,40.0U)
+ (1.4,42.0U)(5.00,46.0U)(7.00,50.0U))
*
* Temperature Sensitive offset voltage
I73 0 70 DC 1uA
R74 0 70 1 TC=2.00
E75 1 71 70 0 1
*
* Temp Sensistive IBias
I62 0 62 DC 1uA
R62 0 62 REXP 1.1m
*
* Temp Sensistive Offset IBias
I63 0 63 DC 1uA
R63 0 63 1.1 TC=30.4M,454U
*
* Models
.MODEL NMI NMOS(L=2.00U W=50.0U KP=20.0U LEVEL=1 )
.MODEL DESD D N=1 IS=1.00f cjo=50f ;my
.MODEL DN1 D IS=1P KF=146E-18 AF=1 cjo=50f ;my
.MODEL REXP RES TCE= 6.6
.ENDS MCP6401


.SUBCKT MCP6231 1 2 3 4 5
* | | | | |
* | | | | Output
* | | | Negative Supply
* | | Positive Supply
* | Inverting Input
* Non-inverting Input
*
*
* The following op-amps are covered by this model:
* MCP6231,MCP6232,MCP6234
*
* Revision History:
* REV A: 23-Aug-06, Created model
* REV B: 27-Jul-07, Updated output impedance for better model stability w/cap load
*
* Recommendations:
* Use PSPICE (other simulators may require translation)
* For a quick, effective design, use a combination of: data sheet
* specs, bench testing, and simulations with this macromodel
* For high impedance circuits, set GMIN=100F in the .OPTIONS statement
*
* Supported:
* Typical performance for temperature range (-40 to 125) degrees Celsius
* DC, AC, Transient, and Noise analyses.
* Most specs, including: offsets, DC PSRR, DC CMRR, input impedance,
* open loop gain, voltage ranges, supply current, ... , etc.
* Temperature effects for Ibias, Iquiescent, Iout short circuit
* current, Vsat on both rails, Slew Rate vs. Temp and P.S.
*
* Not Supported:
* Some Variation in specs vs. Power Supply Voltage
* Monte Carlo (Vos, Ib), Process variation
* Distortion (detailed non-linear behavior)
* Behavior outside normal operating region
*
* Input Stage
V10 3 10 -500M
R10 10 11 6.90K
R11 10 12 6.90K
C11 11 12 12.8P
C12 1 0 6.00P
E12 71 14 POLY(4) 20 0 21 0 26 0 27 0 5.00M 48.2 48.2 1 1
G12 1 0 62 0 1m
M12 11 14 15 15 NMI
M14 12 2 15 15 NMI
G14 2 0 62 0 1m
C14 2 0 6.00P
I15 15 4 50.0U
V16 16 4 -300M
GD16 16 1 TABLE {V(16,1)} ((-100,-1p)(0,0)(1m,1u)(2m,1m))
V13 3 13 -300M
GD13 2 13 TABLE {V(2,13)} ((-100,-1p)(0,0)(1m,1u)(2m,1m))
R71 1 0 20.0E12
R72 2 0 20.0E12
R73 1 2 20.0E12
I80 1 2 500f
*
* Noise, PSRR, and CMRR
I20 21 20 423U
D20 20 0 DN1
D21 0 21 DN1
G26 0 26 POLY(2) 3 0 4 0 0.00 -112U -12U
R26 26 0 1
G27 0 27 POLY(2) 1 0 2 0 -776U 38U 38U
R27 27 0 1
*
* Open Loop Gain, Slew Rate
G30 0 30 12 11 1
R30 30 0 1.00K
cr30 30 0 1p ;my
G31 0 31 3 4 1.58
I31 0 31 DC 67
R31 31 0 1 TC=3.75M,3.19U
GD31 30 0 TABLE {V(30,31)} ((-100,-1n)(0,0)(1m,.1)(2m,2))
G32 32 0 3 4 -1.7
I32 32 0 DC 108
R32 32 0 1 TC=3.11M,3.25U
cr32 32 0 1n ;my
GD32 0 30 TABLE {V(30,32)} ((-2m,2)(-1m,.1)(0,0)(100,-1n))
G33 0 33 30 0 1m
R33 33 0 1K
G34 0 34 33 0 1.12
R34 34 0 1K
C34 34 0 575U
G37 0 37 34 0 1m
R37 37 0 1K
C37 37 0 4.08N
G38 0 38 37 0 1m
R38 39 0 1K
Cr38 39 0 1p ;my
L38 38 39 4.54M
E38 35 0 38 0 1
G35 33 0 TABLE {V(35,3)} ((-1,-1n)(0,0)(65,1n))(65.5,1))
G36 33 0 TABLE {V(35,4)} ((-65.5,-1)((-65,-1n)(0,0)(1,1n))
*
* Output Stage
*R80 50 0 100MEG
R80 50 0 1k ;my
cr80 50 0 100f ;my
G50 0 50 57 96 2
R58 57 96 0.50
R57 57 0 2620
cr57 57 0 0.4p ;my
C58 5 0 2.00P
G57 0 57 POLY(3) 3 0 4 0 35 0 0 168U 34U 440U
GD55 55 57 TABLE {V(55,57)} ((-2m,-1)(-1m,-1m)(0,0)(10,1n))
GD56 57 56 TABLE {V(57,56)} ((-2m,-1)(-1m,-1m)(0,0)(10,1n))
E55 55 0 POLY(2) 3 0 51 0 -0.65M 1 -61.5M
E56 56 0 POLY(2) 4 0 52 0 1.5M 1 -49.5M
R51 51 0 1k
R52 52 0 1k
*GD51 50 51 TABLE {V(50,51)} ((-10,-1n)(0,0)(1m,1m)(2m,1))
*GD52 50 52 TABLE {V(50,52)} ((-2m,-1)(-1m,-1m)(0,0)(10,1n))
Bgd51 51 0 v=uramp(v(50))
Bgd52 52 0 v=-uramp(-v(50))
G53 3 0 POLY(1) 51 0 -50.0U 1M
G54 0 4 POLY(1) 52 0 -50.0U -1M
*
* Current Limit
G99 96 5 99 0 1
R98 0 98 1 TC=-3.13M,11.1U
G97 0 98 TABLE { V(96,5) } ((-11.0,-10.0M)(-1.00M,-9.9M)(0,0)(1.00M,9.9M)(11.0,10.0M))
E97 99 0 VALUE { V(98)*((V(3)-V(4))*400M + 111E-18)}
D98 4 5 DESD
D99 5 3 DESD
*
* Temperature / Voltage Sensitive IQuiscent
R61 0 61 1 TC=2.70M,5.24U
G61 3 4 61 0 1
G60 0 61 TABLE {V(3, 4)}
+ ((0,0)(750M,190N)(800M,1.00U)(900M,4.00U)
+ (1.1,17.0U)(1.2,18.7U)(5.5,20.0U))
*
* Temperature Sensistive offset voltage
I73 0 70 DC 1uA
R74 0 70 1 TC=3
E75 1 71 70 0 1
*
* Temp Sensistive IBias
I62 0 62 DC 1uA
R62 0 62 REXP 59.91066U
*
* Models
.MODEL NMI NMOS(L=2.00U W=42.0U KP=20.0U LEVEL=1 )
.MODEL DESD D N=1 IS=1.00f
.MODEL DN1 D IS=1P KF=22E-18 AF=1
.MODEL REXP RES TCE= 10.06834
.ENDS MCP6231

.SUBCKT MCP6291 1 2 3 4 5
*               | | | | |
*               | | | | Output
*               | | | Negative Supply
*               | | Positive Supply
*               | Inverting Input
*               Non-inverting Input
*
*
* The following op-amps are covered by this model:
*      MCP6291, MCP6291R, MCP6292, MCP6293, MCP6294, MCP6295
*
* Revision History:
*      REV A: 27-Aug-06, HNV (created model) 
*			     (MC_RQ, 27-Aug-06, Level 1.17)
*      REV B: 09-Jul-12, Added MCP6291R
*       
* Recommendations:
*      Use PSPICE (other simulators may require translation)
*      For a quick, effective design, use a combination of: data sheet
*            specs, bench testing, and simulations with this macromodel
*      For high impedance circuits, set GMIN=100F in the .OPTIONS statement
*
* Supported:
*      Typical performance for temperature range (-40 to 125) degrees Celsius
*      DC, AC, Transient, and Noise analyses.
*      Most specs, including: offsets, DC PSRR, DC CMRR, input impedance,
*            open loop gain, voltage ranges, supply current, ... , etc.
*      Temperature effects for Ibias, Iquiescent, Iout short circuit 
*            current, Vsat on both rails, Slew Rate vs. Temp and P.S.
*
* Not Supported:
*      Chip select (MCP6293, MCP6295)
*      Some Variation in specs vs. Power Supply Voltage
*      Monte Carlo (Vos, Ib), Process variation
*      Distortion (detailed non-linear behavior)
*      Behavior outside normal operating region
*
* Input Stage
V10  3 10 -500M
R10 10 11 345K
R11 10 12 345K
G10 10 11 10 11 288U
G11 10 12 10 12 288U
C11 11 12 0.3p 
C12  1  0 6.00P
E12 71 14 POLY(4) 20 0 21 0 26 0 27 0   3.00M 1 1 1 1
G12 1 0 62 0 1m
M12 11 14 15 15 NMI
G13 1 2 62 0 .14m
M14 12 2 15 15 NMI 
G14 2 0 62 0 1m
C14  2  0 6.00P
I15 15 4 200u
V16 16 4 -300M
GD16 16 1 TABLE {V(16,1)} ((-100,-1p)(0,0)(1m,1u)(2m,1m)) 
V13 3 13 -300M
GD13 2 13 TABLE {V(2,13)} ((-100,-1p)(0,0)(1m,1u)(2m,1m)) 
R71  1  0 20.0E12
R72  2  0 20.0E12
R73  1  2 20.0E12
*
* Noise, PSRR, and CMRR
I20 21 20 423U
D20 20  0 DN1
D21  0 21 DN1
G26  0 26 POLY(2) 3 0 4 0   0.00 15U 9U
R26 26  0 1
G27  0 27 POLY(2) 1 0 2 0  -138U 7.2U 7.2U
R27 27  0 1
*
* Open Loop Gain, Slew Rate
G30  0 30 12 11 1
R30 30  0 1K
cR30 30 0 1p ;my
G31 0 31 3 4 5.64
I31 0 31 DC 85
R31 31  0 1 TC=3.29M,-3.86U
cr31 31 0 1n ;my
GD31 30 0 TABLE {V(30,31)} ((-100,-1n)(0,0)(1m,0.1)(2m,2))
G32 32 0 3 4 10
I32 32 0 DC 92
R32 32  0 1 TC=2.52M,-1.81U
cr32 32 0 1n ;my
GD32 0 30 TABLE {V(30,32)} ((-2m,2)(-1m,0.1)(0,0)(100,-1n))
G33  0 33 30 0 1m
R33  33 0 1K
cr33 33 0 1p ;my
G34  0 34 33 0 316M
R34  34 0 1K
C34  34 0 5.03U 
G37  0 37 34 0 1m
R37  37 0 1K
C37  37 0 4P
G38  0 38 37 0 1m
R38  39 0 1K
cr38 39 0 1p ;my
L38  38 39 35U 
R388 38 39 50k
E38  35 0 38 0 1
G35 33 0 TABLE {V(35,3)} ((-1,-1n)(0,0)(90.0,1n))(95.0,1))
G36 33 0 TABLE {V(35,4)} ((-95.0,-1)((-90.0,-1n)(0,0)(1,1n))
*
* Output Stage
*R80 50 0 100MEG
RRR 50 0 1k
cR80 50 0 100f   ;my
G50 0 50 57 96 2
R58 57  96 0.50
cR58 57 96 1n    ;my
R57 57  0 500
cR57 57 0 1p    ;my
C58  5  0 2.00P
G57  0 57 POLY(3) 3 0 4 0 35 0   0 30M 22M 2.00M
*GD55 55 57 TABLE {V(55,57)} ((-2m,-1)(-1m,-1m)(0,0)(10,1n))
*GD56 57 56 TABLE {V(57,56)} ((-2m,-1)(-1m,-1m)(0,0)(10,1n))
xDi1 57 55 Ddd ;my
xDi3 56 57 Ddd ;my
*
E55 55  0 POLY(2) 3 0 51 0 -1.55M 1 -17.8M
E56 56  0 POLY(2) 4 0 52 0 3.0M 1 -19.4M
R51 51 0 1k
*cr51 51 0 1p ;my
R52 52 0 1k
*cr52 52 0 1p ;my
ccc 51 52 0.5p ;my
*GD51 50 51 TABLE {V(50,51)} ((-10,-1n)(0,0)(1m,1m)(2m,1))
*GD52 50 52 TABLE {V(50,52)}  ((-2m,-1)(-1m,-1m)(0,0)(10,1n))

*xDi5 50 51 Ddd ;my
Bd1 51 0 v=uramp(v(50))
Bd2 52 0 v=-uramp(-v(50))
*xDi7 52 50 Ddd ;my


G53  3  0 POLY(1) 51 0  -50.0U 1M
G54  0  4 POLY(1) 52 0  -50.0U -1M
*
* Current Limit
G99 96 5 99 0 1
R98 0 98 1 TC=1.80M,3.49U
cr98 98 0 1n ;my
G97 0 98 TABLE { V(96,5) } ((-11.0,-19.0M)(-1.00M,-18.8M)(0,0)(1.00M,18.8M)(11.0,19.0M))
E97 99 0 VALUE { V(98)*((V(3)-V(4))*35.0M + 912M)}
D98 4 5 DESD
D99 5 3 DESD
*
* Temperature / Voltage Sensitive IQuiscent
R61 0 61 1 TC=2.62M,-1.92U
G61 3 4 61 0 1
G60 0 61 TABLE {V(3, 4)} 
+ ((0,0)(900M,9.2U)(1.4,300U)(2,860U)
+ (2.5,990U)(2.7,990U)(3.1,880U)(5.5,990U))
*
* Temperature Sensistive offset voltage
I73 0 70 DC 1uA
R74 0 70 1 TC=1.7
cr74 70 0 1n ;my
E75 1 71 70 0 1 
*
* Temp Sensistive IBias
I62 0 62 DC 1uA
R62 0 62 REXP  237.67473U
*
* Models
.MODEL NMI NMOS(L=2U W=42U KP=20U LEVEL=1 )
.MODEL DESD  D   N=1 IS=1f cjo=5f ;my
.MODEL DN1 D   IS=1P KF=27F AF=1 cjo=5f ;my
.MODEL REXP RES TCE= 9.26823
*
.subckt ddd p m
Di1 p m Dd1
Di2 p m Dd2
*c p m .1f
.model dd1 d vfwd=1m ron=1m ilimit=1
.model dd2  d vfwd=0 ron=1 Roff=10Gig ilimit=1m
.ends ddd
.ENDS MCP6291

.SUBCKT MCP6051 1 2 3 4 5         ;my
*               | | | | |
*               | | | | Output
*               | | | Negative Supply
*               | | Positive Supply
*               | Inverting Input
*               Non-inverting Input
*
*
* The following op-amps are covered by this model:
*      MCP6051, MCP6052, MCP6054
*
* Revision History:
*      REV A: 19-Aug-09, Created model
*
* Recommendations:
*      Use PSPICE (or SPICE 2G6; other simulators may require translation)
*      For a quick, effective design, use a combination of: data sheet
*            specs, bench testing, and simulations with this macromodel
*      For high impedance circuits, set GMIN=100F in the .OPTIONS statement
*
* Supported:
*      Typical performance for temperature range (-40 to 125) degrees Celsius
*      DC, AC, Transient, and Noise analyses.
*      Most specs, including: offsets, DC PSRR, DC CMRR, input impedance,
*            open loop gain, voltage ranges, supply current, ... , etc.
*      Temperature effects for Ibias, Iquiescent, Iout short circuit 
*            current, Vsat on both rails, Slew Rate vs. Temp and P.S.
*
* Not Supported:
*      Some Variation in specs vs. Power Supply Voltage
*      Vos distribution, Ib distribution for Monte Carlo
*      Distortion (detailed non-linear behavior)
*      Some Temperature analysis
*      Process variation
*      Behavior outside normal operating region
*
* Input Stage
V10  3 10 -500M
R10 10 11 2.18MEG
R11 10 12 2.18MEG
G10 10 11 10 11 40U
G11 10 12 10 12 40U
C11 11 12 364E-15
C12  1  0 6P
E12 71 14 POLY(6) 20 0 21 0 22 0 23 0 26 0 27 0 100U 13 13 4.7 4.7 1 1
G12 1 0 62 0 1m
G13 1 2 63 0 1u
M12 11 14 15 15 NMI 
M14 12 2 15 15 NMI 
G14 2 0 62 0 1m
C14  2  0 6P
C13  1  2 3P
I15 15 4 5.00U
V16 16 4 -300M
GD16 16 1 TABLE {V(16,1)} ((-100,-1p)(0,0)(1m,1u)(2m,1m)) 
V13 3 13 -300M
GD13 2 13 TABLE {V(2,13)} ((-100,-1p)(0,0)(1m,1u)(2m,1m)) 
R71  1  0 13.3E12
R72  2  0 13.3E12
R73  1  2 13.3E12
*
* Noise, PSRR, and CMRR
I20 21 20 423U
D20 20  0 DN1
D21  0 21 DN1
I22 22 23 1N
R22 22 0  1k
R23  0 23 1k
G26  0 26 POLY(2) 3 0 4 0   0.00 -63.0U -8.91U
R26 26  0 1
G27  0 27 POLY(2) 1 0 2 0  -2120N 100N 100N
R27 27 0 0.1m
*
* Open Loop Gain, Slew Rate
G30  0 30 12 11 1
R30 30  0 1.00K
cr30 30 0 1p      ;my
G31 0 31 3 4 6.5
I31 0 31 DC 43
R31 31  0 1 TC=3.0M,-1U
GD31 30 0 TABLE {V(30,31)} ((-100,-1n)(0,0)(1m,0.1)(2m,2))
G32 32 0 3 4 4
I32 32 0 DC 80
R32 32  0 1 TC=2.4M,-6U
GD32 0 30 TABLE {V(30,32)} ((-2m,2)(-1m,0.1)(0,0)(100,-1n))
G33  0 33 30 0 1m
R33  33 0 1K
G34  0 34 33 0 562M
R34  34 0 1K
C34  34 0 235U
G37  0 37 34 0 1m
R37  37 0 1K
C37  37 0 88.4P
G38  0 38 37 0 1m
R38  38 0 1K
E38  35 0 38 0 1
G35 33 0 TABLE {V(35,3)} ((-1,-1n)(0,0)(270,1n))(297,1))
G36 33 0 TABLE {V(35,4)} ((-297,-1)((-270,-1n)(0,0)(1,1n))
*
* Output Stage
*R80 50 0 100MEG
R80 50 0 1k        ;my
Cr80 50 0 100f     ;my
G50 0 50 57 96 2
R58 57  96 0.50
cr58 57 96 1n      ;my
R57 57  0 1.8K
cr57 57 0 0.5p     ;my
C58  5  0 2.00P
G57  0 57 POLY(4) 3 0 4 0 35 0 27 0 0 0.3M 0.25M 555U .5
GD55 55 57 TABLE {V(55,57)} ((-2m,-1)(-1m,-1m)(0,0)(10,1n))
GD56 57 56 TABLE {V(57,56)} ((-2m,-1)(-1m,-1m)(0,0)(10,1n))
E55 55  0 POLY(3) 3 0 51 0 3 4 -7M  1 -70.7M -2.2M 0 0 0.56m  0 6.4m
E56 56  0 POLY(3) 4 0 52 0 3 4 6M 1 -60.0M 2M 0 0 0.513m 0 5m
**                   0 3 4 lowend-same 1 mainR divergLow 0 0 hiDiff
R51 51 0 1k
R52 52 0 1k
*GD51 50 51 TABLE {V(50,51)} ((-10,-1n)(0,0)(1m,1m)(2m,1))
*GD52 50 52 TABLE {V(50,52)}  ((-2m,-1)(-1m,-1m)(0,0)(10,1n))
Bgd51 51 0 v=uramp(v(50))        ;my
Bgd52 52 0 v=-uramp(-v(50))      ;my
G53  3  0 POLY(1) 51 0  -5.00U 1M
G54  0  4 POLY(1) 52 0  -5.00U -1M
*
* Current Limit
G99 96 5 99 0 1
R98 0 98 1 TC=-5.4M,20.3U
G97 0 98 TABLE { V(96,5) } ((-12.0,-7.5m)(-1.00M,-7.42m)(0,0)(1.00M,7.42m)(12.0,7.5m))
E97 99 0 VALUE { V(98)*((V(3)-V(4))*650M + -300M)}
D98 4 5 DESD
D99 5 3 DESD
*
* Temperature / Voltage Sensitive IQuiscent
R61 0 61 1 TC=3.05M,-10.0U
G61 3 4 61 0 1
G60 0 61 TABLE {V(3, 4)} 
+ ((0,0)(600M,320N)(700M,1.2U)(1.3,26.0U)
+ (1.4,27.0U)(5.2,32.0U)(7.00,34.0U))
*
* Temperature Sensitive offset voltage
I73 0 70 DC 1uA
R74 0 70 1 TC=1.75,8M
E75 1 71 70 0 1 
*
* Temp Sensistive IBias
I62 0 62 DC 1uA
R62 0 62 REXP 0.9M
*
* Temp Sensistive Offset IBias
I63 0 63 DC 1uA
R63 0 63 950M TC=6M,0.52M
*
* Models
.MODEL NMI NMOS(L=2.00U W=42.0U KP=20.0U LEVEL=1 )
.MODEL DESD  D   N=1 IS=1f cjo=5f               ;my
.MODEL DN1 D   IS=1P KF=146E-18 AF=1 cjo=5f     ;my
.MODEL REXP  RES TCE= 7.2
.ENDS MCP6051


* Date: 2009-03-10
* Simulator: PSpice 16.0.0.p001
* OPA659 SUBCIRCUIT
* HIGH SPEED MONOLITHIC OPERATIONAL AMPLIFIER
* THIS MODEL SIMULATES TYPICAL VALUES FOR THE FOLLOWING:
* SETTLING TIME, OUTPUT VOLTAGE LIMIT, INPUT VOLTAGE NOISE, INPUT BIAS CURRENT,
* TYPICAL VALUES FOR INPUT OFFSET VOLTAGE AND OFFSET BIAS CURRENT,
* CURRENT DRAW FROM POWER SUPPLY, OUTPUT IMPEDANCE AND LOADING EFFECTS
* BANDWIDTH IS RIGHT IN GAINS OF +1V/V AND +2V/V
* SLEW RATE IS SLOW FOR THE RISING EDGE AND FASTER FOR THE FALLING EDGE
* THIS MODEL WILL NOT PROVIDE ACCURATE SIMULATION OF:
* CMRR AND PSRR, INPUT CURRENT NOISE, DISTORTION, INPUT OFFSET, OPEN LOOP GAIN
.SUBCKT OPA659 IN+ IN- Vcc+ Vcc- OUT
*
J1 86 N4 0129 NFET 16
J2 83 82 79 NFET 16
RDEG1 0129 0187 10
RDEG2 79 0187 10
Q4 HIZ VREF 83 PNP 2
Q3 20 VREF 86 PNP 2
Q6 HIZ 20 22 NPN 1
Q5 20 22 74 NPN 4
Q7 22 22 76 NPN 4
RM1 74 Vcc- 50
RM2 76 Vcc- 50
Cc HIZ Vcc- 2p
IB1 IN+ N4 DC 10p
IB2 82 0 DC 11p
Voff IN- 82 DC 200e-6

* Input voltage noise source
Rinoise N1 0 536
VCCVS1_in N1 0 0
HCCVS1 IN+ N4 VCCVS1_in 536

* HIGH FREQUENCY SHAPING *
EFRQS 077 0 HIZ 0 1
RFREQS 8 71 25
LFREQS 077 8 1.5e-9
CFREQS 71 0 3.5p
C0 IN- 0 2p

* OUTPUT *
Q2 71 71 46 PNP 3
Q8 71 71 18 NPN 3
Q9 Vcc+ 46 15 NPN 12
Q10 Vcc- 18 43 PNP 12
RBAL1 15 69 1
RBAL2 43 69 1

* COMPLEX OUTPUT IMPEDANCE *
RO2 69 0139 5
RO1 69 0143 5
CO1 0143 OUT 8p
LO1 0139 OUT 1e-9


* Biasing
*V1 Vcc+ VREF DC 3.29
V1 Vcc+ VREF DC 2
I13 Vcc+ 0121 DC 1e-3
VCONT 0121 Vcc- DC 0
FDIFFP 0187 0173 VCONT 8
R16 0173 Vcc- 312
FCASC2 090 83 VCONT 8
FCASC1 092 86 VCONT 8
R18 Vcc+ 090 150
R17 Vcc+ 092 150
FEF2 18 Vcc- VCONT 3.35
FEF1 Vcc+ 46 VCONT 3.35*
ECMRR 070 0 POLY(1) IN+ IN- 0 500e-3 500e-3
GCMRR 065 0 070 Vcc- -10e-9
RCMRR1 065 0 1e3
RCMRR2 065 0125 3e3
CCMRR 070 0125 100f
*
GEPSRR 058 0 Vcc+ Vcc- 100e-9
RPSRR3 058 0141 3e3
RPSRR2 058 0180 3e3
RPSRR1 058 0 1e3
CPSRR2 0141 Vcc- 1e-9
CPSRR1 0180 Vcc+ 100p

* MODELS *
.MODEL NFET NJF(VTO=-2 BETA=100E-6 IS=100E-16 RS=25 RD=25 AF=1 KF=4.0000E-17)

.MODEL NPN NPN AF=1 BF=100 BR=1 CJC=0 CJE=0 CJS=0 EG=1.11 FC=0.5 GAMMA=1E-11
+IKF=1E9 IKR=1E9 IRB=1E9 IS=1E-16 ISC=0 ISE=0 ISS=0 ITF=0 MJC=0.33
+MJE=0.33 NC= 2 NE=1.5 NF=1 NK=0.5 NR=1 PTF=0 QCO=0
+RB=240 RBM=190 RC=200 RCO=0 RE=0 KF=0.5e-14
+TF=0 TR=0 VAF=1E9 VAR=1E9 VJC=0.75 VJE=0.75 VO=10 VTF=1E9
+XCJC=1 XCJC2=1 XTB=0 XTF=0 XTI=3

.MODEL PNP PNP AF=1 BF=100 BR=1 CJC=0 CJE=0 CJS=0 EG=1.11 FC=0.5 GAMMA=1E-11
+IKF=1E9 IKR=1E9 IRB=1E9 IS=1E-16 ISC=0 ISE=0 ISS=0 ITF=0 MJC=0.33
+MJE=0.33 NC= 2 NE=1.5 NF=1 NK=0.5 NR=1 PTF=0 QCO=0
+RB=240 RBM=190 RC=200 RCO=0 RE=0 KF=0.5e-14
+TF=0 TR=0 VAF=1E9 VAR=1E9 VJC=0.75 VJE=0.75 VO=10 VTF=1E9
+XCJC=1 XCJC2=1 XTB=0 XTF=0 XTI=3

.ENDS OPA659

* opa627 operational amplifier "macromodel" subcircuit
* rev.b 5/22/91 tk
* connections: non-inverting input
* | inverting input
* | | positive power supply
* | | | negative power supply
* | | | | output
* | | | | |
.subckt opa627 1 2 3 4 5
*
c1 11 12 3.182p
c2 6 7 23.00p
css 10 99 40.45p
dc 5 53 dx
de 54 5 dx
dlp 90 91 dx
dln 92 90 dx
dp 4 3 dx
begnd 99 0 v=.5 * (v(3) +v(4))
bfb 7 99 i=419.4e6 * i(vb) -40e6 *( i(vc)-i(ve)-i(vlp)+i(vln))
ga 6 0 11 12 2.432e-3
gcm 0 6 10 99 3.779e-9
iss 3 10 dc 1.840e-3
hlim 90 0 vlim 1k
j1 11 2 10 jx
j2 12 1 10 jx
r2 6 9 100.0e3
rd1 4 11 419.4
rd2 4 12 419.4
ro1 8 5 54
ro2 7 99 1
rp 3 4 4.286e3
rss 10 99 108.7e3
vb 9 0 dc 0
vc 3 53 dc 2.7
ve 54 4 dc 2.7
vlim 7 8 dc 0
vlp 91 0 dc 55
vln 0 92 dc 55
.model dx d(is=800.0e-18)
.model jx pjf(is=500.0f beta=1.545e-3 vto=-1)
.ends

* OPA350 SPICE Macro-model 3/31/99, Rev. B by Marek Lis
* Rev. A 12/18/98, by Marek Lis
* REV. B 23 DEC 1998 NEIL ALBAUGH; REVISED CONNECTION NAMES TO MATCH SYMBOL
* Rev. C 3/31/99, by Marek Lis: added voltage and current noise (1/f noise is NOT modeled.)
* REV. D 1 APR 1999 NEIL ALBAUGH; REVISED CONNECTION NAMES TO MATCH SYMBOL
*
* Copyright 1997 by Burr-Brown Corporation
*
* non-inverting input
* | inverting input
* | | positive supply
* | | | negative supply
* | | | | output
* | | | | |
.SUBCKT OPA350 + - V+ V- OUT
* INPUT STAGE
*
i1 V+ 5 400u
m7 550 vswitch 5 5 pix l=2u w=25u m=26
m8 550 550 V- V- nix l=2u w=25u m=26
m9 553a 550 V- V- nix l=2u w=25u m=26
m9c 66 nvsat 553a V- nix l=2u w=25u m=26
Vpvsat V+ vswitch DC 1.8
Vnvsat nvsat V- DC 1.37
iin1 + 98 .5p
iin2 - 98 .5p
d3 5 V+ dx
d4 V- 66 dx
d5 - V+ dx
d6 + V+ dx
d7 V- - dx
d8 V- + dx
rinp 7 7a 500
rinn - 2a 500
m1 33 2a 66 V- nix l=2u w=25u m=13
m2 4 7a 66 V- nix l=2u w=25u m=13
m3 8 2a 5 5 pix l=2u w=25u m=13
m4 9 7a 5 5 pix l=2u w=25u m=13
eos 7 + poly(1) 25 98 0 0
ios - + 0p
r1 V+ 33x 4.833k
r2 V+ 4x 4.833k
r3 8x V- 4.833k
r4 9x V- 4.833k
vr1 33 33x DC 2
vr2 4 4x DC 2
vr3 8x 8 DC 2
vr4 9x 9 DC 2
i1a V+ V- 2464u
*
* GAIN STAGE
*
eref 98 0 poly(2) V+ 0 V- 0 0 0.5 0.5
g1 98 21 poly(2) 4 33 9 8 0 145u 145u
rg 21 98 2.3e6
cc 21 6c 10.6pF
rcc 6c OUT 2.4k
d1 21 22 dx
d2 23 21 dx
v1 V+ 22 1.37
v2 23 V- 1.37
*
* COMMON MODE GAIN STAGE
*
ecm 24 98 poly(2) + 98 - 98 0 0.5 0.5
r5 24 25 1e6
r6 25 98 10k
c1 24 25 0.75p
*
* OUTPUT STAGE
*
isy V+ V- 540.4u
gsy V+ V- poly(1) V+ V- -3.334e-4 6.667e-5
ep V+ 39 poly(1) 98 21 0.78925 1
en 38 V- poly(1) 21 98 0.78925 1
vh OUT 6h DC -2.4e-2
vl 6l OUT DC -2.4e-2
m113 6h 39 V+ V+ pox l=1.5u w=1500u m=12
m114 6l 38 V- V- nox l=1.5u w=1500u m=12
c15 OUT 39 15p
c16 OUT 38 15p
.model dx d(rs=1 cjo=0.1p)
.model nix nmos(vto=0.75 kp=205.5u rd=1 rs=1 rg=1 rb=1 cgso=4e-9
+cgdo=4e-9 cgbo=16.667e-9 cbs=2.34e-13 cbd=2.34e-13)
.model nox nmos(vto=0.75 kp=195u rd=.5 rs=.5 rg=1 rb=1 cgso=66.667p
+cgdo=66.667p cgbo=125e-9 cbs=2.34e-13 cbd=2.34e-13)
.model pix pmos(vto=-0.75 kp=205.5u rd=1 rs=1 rg=1 rb=1 cgso=4e-9
+cgdo=4e-9 cgbo=16.667e-9 cbs=2.34e-13 cbd=2.34e-13)
.model pox pmos(vto=-0.75 kp=195u rd=.5 rs=.5 rg=1 rb=1 cgso=66.667p
+cgdo=66.667p cgbo=125e-9 cbs=2.34e-13 cbd=2.34e-13)
.ENDS OPA350

* ad8065 spice model rev. a, 5/14 vc
* + NOISE
* the following parameters are accurately modeled;
* open loop gain and phase vs. frequency
* output impedance vs. frequency
* output clamping voltage and current
* fet input common mode range
* slew rate
* output currents are reflected to v supplies
* vos is static and will not vary
* distortion is not characterized
* node assignments
* non-inverting input
* | inverting input
* | | positive supply
* | | | negative supply
* | | | | output
* | | | | |
.subckt ad8065_my 1 2 99 50 30
* fet input stage
vos 9 200 1.5m
rno no 0 1833
bno 200 2 v=v(no)
cd 1 2 4.5p
ccm1 1 0 2.1p
ccm2 2 0 2.1p
j1 10 1 5 nmod
j2 11 9 6 nmod
r3 99 5 1132
r4 99 6 1132
r5 10 4 390
r6 11 4 390
i11 4 50 0.87e-3
* common-mode gain netw0rk
becm 80 15 v=.5 *( v(2, 15)+ v(1, 15))
*zero at 40 khz
gcm1 15 81 80 15 4e-6
lcm1 81 82 2e-3
rcm1 82 15 1k
* gain stage & pole at 17 khz
ecc 98 0 99 0 1
ess 52 0 50 0 1
beref 15 0 v=.5 *( v(99) + v(50))
g1 13 15 5 6 0.6
r7 13 15 3.125k
c3 13 15 3n
v1 98 14 1
v2 16 52 1
d1 13 14 dx
d2 16 13 dx
* pole at 334 mhz
g2 15 43 13 15 3.777m
r10 15 43 265
c5 15 43 1.8p
* pole at 665 mhz
g3 15 53 43 15 7.54m
r11 15 53 133
c6 15 53 1.8p
*pole at 665 mhz
g4 15 63 53 15 7.54m
r12 15 63 133
c7 15 63 1.8p
* buffer stage
gbuf 15 32 63 15 1e-3
rbuf 32 15 1000
* output stage
vo1 99 90 0
vo2 51 50 0
r18 25 90 .02
r19 25 51 .02
vcd 25 30 0
g6 25 90 99 32 50
g7 51 25 32 50 50
v4 26 25 -0.82
v5 25 27 -0.82
d5 32 26 dx
d6 27 32 dx
fo1 15 70 vcd 1
d7 70 71 dx
d8 72 70 dx
vi1 71 15 0
vi2 15 72 0
erefq 96 0 30 0 1
iq 99 50 5.7m
bfq1 96 99 i= i(vo1) - i(vi1)
bfq2 50 96 i= i(vo2) - i(vi2)
.model nmod njf vto=0.13 beta=100 is=2.4e-13 kf=4.5e-8 af=2
.model dx d(is=1f)
.ends


* opa627e operational amplifier "macromodel" subcircuit
* "e" is enhanced model
* created using parts release 4.03 on 10/04/90 at 09:30
*
* rev.b 5/22/91 tk
* rev.c 3/21/92 bcb: added input bias current correction and
* current and voltage noise
* connections: non-inverting input
* | inverting input
* | | positive power supply
* | | | negative power supply
* | | | | output
* | | | | |
.subckt opa627e 1 2 3 4 5
*
c1 11 12 3.182p
c2 6 7 23.00p
css 10 99 40.45p
dc 5 53 dx
de 54 5 dx
dlp 90 91 dx
dln 92 90 dx
dp 4 3 dx
begnd 99 0 v=.5 * (v(3) +v(4))
bfb 7 99 i=419.4e6 * i(vb) -40e6 *( i(vc)-i(ve)-i(vlp)+i(vln))
ga 6 0 11 12 2.432e-3
gcm 0 6 10 99 3.779e-9
iss 3 10 dc 1.840e-3
hlim 90 0 vlim 1k
j1 11 2 10 jx
j2 12 64 10 jx
bg11 2 4 i=1p * (v(10, 2)+v(11, 2)+v(4, 2)) + 1.6e-6 * v(66)
bg21 1 4 i=1p * (v(10, 1)+v(12, 1)+v(4, 1)) + 1.6e-6 * v(68)
r2 6 9 100.0e3
rd1 4 11 419.4
rd2 4 12 419.4
ro1 8 5 54
ro2 7 99 1
* rp 3 4 4.286e3
rss 10 99 108.7e3
vb 9 0 dc 0
vc 3 53 dc 2.700
ve 54 4 dc 2.700
vlim 7 8 dc 0
vlp 91 0 dc 55
vln 0 92 dc 55
****************************
* opa627 "e" - enhancements
****************************
* output supply mirror
* fq3 0 20 poly(1) vlim 0 1
bfq3 0 20 i=i(vlim)
dq1 20 21 dx
dq2 22 20 dx
vq1 21 0 0
vq2 22 0 0
bfq1 3 0 i=4.76e-3 + i(vq1)
bfq2 0 4 i=4.76e-3 - i(vq2)
* quiescient current
rq 3 4 7.5e4
* diff input capacitance
cdif 1 2 8.0p
* common mode input capacitance
c1cm 1 99 7.0p
c2cm 2 99 7.0p
* input voltage noise
vn1 61 0 0.6
vn2 0 62 0.6
dn1 61 63 dy
dn2 63 62 dy
en 64 1 63 0 1
* input current noise
rn1 0 65 60.3865
rn2 65 66 60.3865
rn3 66 0 120.773
rn4 0 67 60.3865
rn5 67 68 60.3865
rn6 68 0 120.773
******************
.model dy d(is=1p af=1 kf=71.89f)
.model dx d(is=800.0e-18)
.model jx pjf(is=500.0f beta=1.545e-3 vto=-1)
.ends


* OP177 SPICE Macro-model 12/90, Rev. B
*
* Revision History:
* REV. B
* Re-ordered subcircuit call out nodes to put the
* output node last.
* Changed Ios from 0.3E-9 to 0.15E-9
* Added F1 and F2 to fix short circuit current limit.
*
* Refer to "README.DOC" file for License Statement. Use of this model
* indicates your acceptance with the terms and provisions in the License Statement.
*
* Node assignments
* non-inverting input
* | inverting input
* | | positive supply
* | | | negative supply
* | | | | output
* | | | | |
.SUBCKT OP177 1 2 99 50 39
*
* INPUT STAGE & POLE AT 6 MHZ
*
R1 2 3 5E11
R2 1 3 5E11
R3 5 97 0.0606
R4 6 97 0.0606
CIN 1 2 4p
C2 5 6 218.9E-9
I1 4 51 1
IOS 1 2 0.15E-9
EOS 9 10 POLY(1) 30 33 4E-6 1
Q1 5 2 7 QX
Q2 6 9 8 QX
R5 7 4 0.009
R6 8 4 0.009
D1 2 1 DX
D2 1 2 DX
EN 10 1 12 0 1
GN1 0 2 15 0 1
GN2 0 1 18 0 1
*
EREF 98 0 33 0 1
EPLUS 97 0 99 0 1
ENEG 51 0 50 0 1
*
* VOLTAGE NOISE SOURCE WITH FLICKER NOISE
*
DN1 11 12 DEN
DN2 12 13 DEN
VN1 11 0 DC 2
VN2 0 13 DC 2
*
* CURRENT NOISE SOURCE WITH FLICKER NOISE
*
DN3 14 15 DIN
DN4 15 16 DIN
VN3 14 0 DC 2
VN4 0 16 DC 2
*
* SECOND CURRENT NOISE SOURCE
*
DN5 17 18 DIN
DN6 18 19 DIN
VN5 17 0 DC 2
VN6 0 19 DC 2
*
* FIRST GAIN STAGE
*
R7 20 98 1
G1 98 20 5 6 59.91
D3 20 21 DX
D4 22 20 DX
E1 97 21 POLY(1) 97 33 -2.4 1
E2 22 51 POLY(1) 33 51 -2.4 1
*
* GAIN STAGE & DOMINANT POLE AT 0.053 HZ
*
R8 23 98 6.01E9
C3 23 98 500p
G2 98 23 20 33 33.3E-6
V1 97 24 1.3
V2 25 51 1.3
D5 23 24 DX
D6 25 23 DX
*
* NEGATIVE ZERO AT -4MHZ
*
R9 26 27 1
C4 26 27 -39.75E-9
R10 27 98 1E-6
E3 26 98 23 33 1E6
*
* COMMON-MODE GAIN NETWORK WITH ZERO AT 20 HZ
*
R13 30 31 1
L2 31 98 7.96E-3
G4 98 30 3 33 1.0E-7
D7 30 97 DX
D8 51 30 DX
*
* POLE AT 2 MHZ
*
R14 32 98 1
C5 32 98 79.5E-9
G5 98 32 27 33 1
*
* OUTPUT STAGE
*
R15 33 97 1
R16 33 51 1
GSY 99 50 POLY(1) 99 50 0.325E-3 0.0425E-3
F1 34 0 V3 1
F2 0 34 V4 1
R17 34 99 400
R18 34 50 400
L3 34 39 2E-7
G6 37 50 32 34 2.5E-3
G7 38 50 34 32 2.5E-3
G8 34 99 99 32 2.5E-3
G9 50 34 32 50 2.5E-3
V3 35 34 6.8
V4 34 36 4.4
D9 32 35 DX
D10 36 32 DX
D11 99 37 DX
D12 99 38 DX
D13 50 37 DY
D14 50 38 DY
*
* MODELS USED
*
.MODEL QX NPN(BF=500E6)
.MODEL DX D(IS=1f)
.MODEL DY D(IS=1f BV=50)
.MODEL DEN D(IS=1p, RS=12.08K, KF=1E-17, AF=1)
.MODEL DIN D(IS=1p, RS=7.55E-6, KF=1.55f, AF=1)
.ENDS



* CREATED USING PARTS RELEASE 4.03 ON 10/15/90 AT 15:33

* CONNECTIONS: NON-INVERTING INPUT

* | INVERTING INPUT

* | | POSITIVE POWER SUPPLY

* | | | NEGATIVE POWER SUPPLY

* | | | | OUTPUT

* | | | | |

.SUBCKT OPA177 1 2 3 4 5
*
C1 11 12 40.00p
C2 6 7 80.00p
DC 5 53 DX
DE 54 5 DX
DLP 90 91 DX
DLN 92 90 DX
DP 4 3 DX
EGND 99 0 POLY(2) (3,0) (4,0) 0 .5 .5
FB 7 99 POLY(5) VB VC VE VLP VLN 0 1.326E9 -1E9 1E9 1E9 -1E9
GA 6 0 11 12 301.6E-6
GCM 0 6 10 99 30.16p
IEE 10 4 DC 20.00E-6
HLIM 90 0 VLIM 1K
Q1 11 2 13 QX
Q2 12 1 14 QX
R2 6 9 100.0E3
RC1 3 11 3.316E3
RC2 3 12 3.316E3
RE1 13 10 729.2
RE2 14 10 729.2
REE 10 99 9.999E6
RO1 8 5 30
RO2 7 99 30
RP 3 4 15.15E3
VB 9 0 DC 0
VC 3 53 DC 1.500
VE 54 4 DC 1.500
VLIM 7 8 DC 0
VLP 91 0 DC 22
VLN 0 92 DC 22
.MODEL DX D(IS=800.0E-18)
.MODEL QX NPN(IS=800.0E-18 BF=10.00E3)
.ENDS

* WARNING : please consider following remarks before usage *
* 1) All models are a tradeoff between accuracy and complexity (ie. simulation
* time).
* 2) Macromodels are not a substitute to breadboarding, they rather confirm the
* validity of a design approach and help to select surrounding component values.
*
* 3) A macromodel emulates the NOMINAL performance of a TYPICAL device within
* SPECIFIED OPERATING CONDITIONS (ie. temperature, supply voltage, etc.).
* Thus the macromodel is often not as exhaustive as the datasheet, its goal
* is to illustrate the main parameters of the product.
*
* 4) Data issued from macromodels used outside of its specified conditions
* (Vcc, Temperature, etc) or even worse: outside of the device operating
* conditions (Vcc, Vicm, etc) are not reliable in any way.
*-----------------------------------------------------------------------------------------
** Standard Linear Ics Macromodels, 1996.
** CONNECTIONS :
* 1 INVERTING INPUT
* 2 NON-INVERTING INPUT
* 3 OUTPUT
* 4 POSITIVE POWER SUPPLY
* 5 NEGATIVE POWER SUPPLY
*
.SUBCKT TS95X 1 2 3 4 5
*
.MODEL MDTH D IS=1E-8 KF=2.664234E-16 CJO=10F
*
* INPUT STAGE
CIP 2 5 1.000000p
CIN 1 5 1.000000p
EIP 10 5 2 5 1
EIN 16 5 1 5 1
RIP 10 11 8.125000E+00
RIN 15 16 8.125000E+00
RIS 11 15 2.238465E+02
DIP 11 12 MDTH 400p
DIN 15 14 MDTH 400p
VOFP 12 13 DC 153.5u
VOFN 13 14 DC 0
IPOL 13 5 3.200000E-05
CPS 11 15 1e-9
DINN 17 13 MDTH 400p
VIN 17 5 -0.100000e+00
DINR 15 18 MDTH 400p
VIP 4 18 0.400000E+00
FCP 4 5 VOFP 1.865000E+02
FCN 5 4 VOFN 1.865000E+02
FIBP 2 5 VOFP 6.250000E-03
FIBN 5 1 VOFN 6.250000E-03
* GM1 STAGE ***************
FGM1P 119 5 VOFP 1.1
FGM1N 119 5 VOFN 1.1
RAP 119 4 2.6E+06
RAN 119 5 2.6E+06
* GM2 STAGE ***************
G2P 19 5 119 5 1.92E-02
G2N 19 5 119 4 1.92E-02
R2P 19 4 1E+07
R2N 19 5 1E+07
**************************
VINT1 500 0 5
GCONVP 500 501 119 4 19.38
VP 501 0 0
GCONVN 500 502 119 5 19.38
VN 502 0 0
********* orientation isink isource *******
VINT2 503 0 5
FCOPY 503 504 VOUT 1
DCOPYP 504 505 MDTH 400E-9
VCOPYP 505 0 0
DCOPYN 506 504 MDTH 400E-9
VCOPYN 0 506 0
***************************
F2PP 19 5 poly(2) VCOPYP VP 0 0 0 0 0.5
F2PN 19 5 poly(2) VCOPYP VN 0 0 0 0 0.5
F2NP 19 5 poly(2) VCOPYN VP 0 0 0 0 1.75
F2NN 19 5 poly(2) VCOPYN VN 0 0 0 0 1.75
* COMPENSATION ************
CC 19 119 25p
* OUTPUT ***********
DOPM 19 22 MDTH 400p
DONM 21 19 MDTH 400p
HOPM 22 28 VOUT 6.250000E+02
VIPM 28 4 5.000000E+01
HONM 21 27 VOUT 6.250000E+02
VINM 5 27 5.000000E+01
VOUT 3 23 0
ROUT 23 19 6
COUT 3 5 1.300000E-10
DOP 19 25 MDTH 400p
VOP 4 25 1.052
DON 24 19 MDTH 400p
VON 24 5 1.052
.ENDS

* OPA364 SPICE Macro-model 
* 
* Rev. A 12 December 2003, by W.K. Sands
*
* Rev. B 16 December 2003 By Neil Albaugh: ADDED HEADER TEXT & EDITED TEXT
*
*	This macromodel has been optimized to model the AC, DC, and transient response performance within 
* the device data sheet specified limits. 
* Correct operation of this macromodel has been verified on MicroSim P-Spice ver. 8.0 and on 
* PENZAR Development TopSPICE ver. 6.82d. For help with other analog simulation software, 
* please consult your software supplier. 
*
* 
* Copyright 2003 by Texas Instruments Corporation
*
* BEGIN MODEL OPA364
*
* BEGIN NOTES
*
*
* MODEL TEMPERATURE RANGE IS -40 C TO +125 C, NOT ALL PARAMETERS ACCURATELY TRACK THOSE OF AN ACTUAL OPA364 
* OVER THE FULL TEMPERATURE RANGE BUT ARE AS CLOSE AS PRACTICAL
*
* END NOTES
*
* BEGIN MODELED FEATURES
*
* OPEN LOOP GAIN AND PHASE
* INPUT VOLTAGE NOISE
* INPUT CURRENT NOISE
* INPUT BIAS CURRENT
* SAME VERSUS TEMPERATURE
* INPUT CAPACITANCE
* INPUT COMMON MODE VOLTAGE RANGE
* INPUT CLAMPS TO RAILS
* CMRR WITH FREQUENCY EFFECTS
* PSRR WITH FREQUENCY EFFECTS
* SLEW RATE
* QUIESCENT CURRENT
* QUIESCENT CURRENT VS VOLTAGE
* RAIL TO RAIL OUTPUT STAGE
* HIGH CLOAD EFFECTS
* CLASS AB BIAS IN OUTPUT STAGE
* OUTPUT CURRENT THROUGH SUPPLIES
* OUTPUT CURRENT LIMITING
* OUTPUT CLAMPS TO RAILS
* OUTPUT SWING VS OUTPUT CURRENT
* OUTPUT SWING VS SUPPLY VOLT
* OUTPUT WILL SWING SLIGHTLY BELOW -V W EXTERNAL PULLDOWN TO A SUPPLY MORE NEGATIVE THAN -V
*
* END FEATURES
*
*
* PINOUT ORDER +IN -IN +V -V OUT
* PINOUT ORDER 3 4 6 2 1
*
.SUBCKT OPA364 3 4 6 2 1
*
VEN 5 2 1
RVEN 5 2 1E9
Q20 7 8 9 QLN
R3 10 11 20
R4 12 11 20
R10 8 13 1E3
R11 14 15 1E3
R12 15 6 7
R13 2 13 7
R16 16 17 300
R17 18 19 7
R18 9 20 7
D5 1 6 DD
D6 2 1 DD
D7 21 0 DIN
D8 22 0 DIN
I8 0 21 0.1E-3
I9 0 22 0.1E-3
E2 9 0 2 0 1
E3 19 0 6 0 1
D9 23 0 DVN
D10 24 0 DVN
I10 0 23 0.1E-3
I11 0 24 0.1E-3
E4 25 4 23 24 0.07
G2 26 4 21 22 2.8E-7
R22 2 6 100E6
E5 27 0 28 0 1
E6 29 0 9 0 1
E7 30 0 31 0 1
R30 27 32 1E5
R31 29 33 1E5
R32 30 34 1E5
R33 0 32 10
R34 0 33 10
R35 0 34 10
E10 35 3 34 0 0.11
R36 36 31 1K
R37 31 37 1K
C6 27 32 2p
C7 29 33 2p
C8 30 34 2p
E11 38 35 33 0 1
E12 26 38 32 0 1
E14 39 9 19 9 0.5
D11 16 19 DD
D12 9 16 DD
M1 40 41 13 13 NOUT L=3U W=400U
M2 42 43 15 15 POUT L=3U W=1400U
M3 44 44 18 18 POUT L=3U W=1400U
M4 45 46 10 10 PIN L=3U W=160U
M5 47 48 12 12 PIN L=3U W=160U
M8 49 49 20 20 NOUT L=3U W=400U
R43 50 43 100
R44 51 41 100
G3 16 39 52 39 0.2E-3
R45 39 16 2.5E6
C12 17 1 10p
R46 9 45 2E3
R47 9 47 2E3
C13 45 47 1p
C14 26 0 3p
C15 25 0 3p
C16 1 0 0.5p
D13 41 7 DD
D14 53 43 DD
Q15 53 14 19 QLP
V18 26 54 0.18M
M19 55 56 28 28 PIN L=6U W=500U
E17 37 0 26 0 1
E18 36 0 4 0 1
M23 56 56 28 28 PIN L=6U W=500U
V21 55 11 0.9
R59 1 42 17
R60 40 1 53
J1 57 26 57 JNC
J2 57 25 57 JNC
J3 25 58 25 JNC
J4 26 58 26 JNC
C21 26 59 2p
E20 60 39 47 45 1
R62 60 52 1E4
C23 52 39 0.1p
G7 61 39 16 39 -1E-3
G8 39 62 16 39 1E-3
G9 39 63 49 9 1E-3
G10 64 39 19 44 1E-3
D17 64 61 DD
D18 62 63 DD
R66 61 64 100E6
R67 63 62 100E6
R68 64 19 1E3
R69 9 63 1E3
E23 19 50 19 64 1
E24 51 9 63 9 1
R70 62 39 1E6
R71 63 39 1E6
R72 39 64 1E6
R73 39 61 1E6
G11 6 2 65 0 0.2E-3
R75 38 26 1E9
R76 35 38 1E9
R77 3 35 1E9
R78 4 25 1E9
R79 39 52 1E9
R81 50 19 1E9
R82 9 51 1E9
R83 31 0 1E9
G14 56 9 65 0 125E-6
G15 44 49 65 0 225E-6
E48 66 16 65 0 30
E49 67 39 65 0 -30
V49 68 67 15
V50 69 66 -15
R127 66 0 1E12
R128 67 0 1E12
M41 39 69 16 70 PSW L=1.5U W=150U
M42 16 68 39 71 NSW L=1.5U
R129 70 0 1E12
R130 71 0 1E12
M43 72 5 9 9 NEN L=3U W=300U
M44 73 74 9 9 NEN L=3U W=3000U
R131 72 28 1E4
R132 73 75 1E6
V51 75 9 1
I20 5 9 10p
C26 5 0 1p
E50 65 0 76 9 1
V52 73 76 1.111E-6
R133 9 76 1E12
C32 28 72 15p
I21 6 2 0.9E-6
V78 28 57 0
V79 58 9 0.05
R155 44 19 1E8
R156 9 49 1E8
R157 13 41 1E8
R158 15 43 1E8
RG1 0 65 1E9
R159 59 25 100
V82 28 19 1.8
R225 48 25 5200
R226 46 54 5200
G34 25 0 77 0 10p
I40 25 0 1p
I45 0 78 1M
D43 78 0 DD
V111 78 79 0.7
R293 0 79 1E6
E92 80 0 79 0 -571
R294 0 80 1E6
R295 81 80 1E6
D44 82 81 DD
V112 82 83 27
V113 81 77 26.4
I46 0 84 1M
D45 84 0 DD
V114 84 85 0.7
R296 0 85 1E6
E93 83 0 85 0 1
G35 26 0 77 0 10p
I47 26 0 1p
M48 86 87 2 2 NIQ L=3U W=1000U
R297 86 6 8E3
E94 87 2 65 0 2
M49 88 72 9 9 NEN L=3U W=300U
M50 74 88 9 9 NEN L=3U W=300U
R298 88 75 1E4
R299 74 75 1E4
C35 75 88 2.3E-9
R300 0 77 1E9
R301 0 77 1E9
.MODEL DVN D KF=8p IS=1E-16
.MODEL DD D
.MODEL DIN D
.MODEL QLN NPN
.MODEL QLP PNP
.MODEL JNC NJF
.MODEL POUT PMOS KP=200U VTO=-0.7
.MODEL NOUT NMOS KP=200U VTO=0.7
.MODEL PIN PMOS KP=200U VTO=-0.7
.MODEL NIN NMOS KP=200U VTO=0.7
.MODEL NIQ NMOS KP=200U VTO=0.7 IS=1E-18
.MODEL NEN NMOS KP=200U VTO=0.5 IS=1E-18
.MODEL PEN PMOS KP=200U VTO=-0.7 IS=1E-18
.MODEL PSW PMOS KP=200U VTO=-7.5 IS=1E-18
.MODEL NSW NMOS KP=200U VTO=7.5 IS=1E-18
.ENDS
* END MODEL OPA364

* OPA365 SPICE MACROMODEL
*          
*   Rev. A    4 August 2006, by W.K. SANDS
*
*   Rev. B    4 August 2006, by NEIL ALBAUGH: ADDED HEADER TEXT & EDITED TEXT
*
* MODEL TEMPERATURE RANGE IS -40 C TO +125 C, NOT ALL PARAMETERS ACCURATELY TRACK THOSE OF AN ACTUAL OPA365 
* OVER THE FULL TEMPERATURE RANGE BUT ARE AS CLOSE AS PRACTICAL
*
* END NOTES
*
* BEGIN MODEL OPA365
*
* BEGIN MODEL FEATURES
*
* OPEN LOOP GAIN AND PHASE
* INPUT VOLTAGE NOISE
* INPUT CURRENT NOISE
* INPUT BIAS CURRENT
* INPUT CAPACITANCE
* INPUT COMMON MODE VOLTAGE RANGE
* INPUT CLAMPS TO RAILS
* CMRR WITH FREQUENCY EFFECTS
* PSRR WITH FREQUENCY EFFECTS
* SLEW RATE
* SETTLING TIME
* OVERLOAD RECOVERY TIME
* QUIESCENT CURRENT
* QUIESCENT CURRENT VS VOLTAGE
* RAIL TO RAIL OUTPUT STAGE
* HIGH CLOAD EFFECTS
* CLASS AB BIAS IN OUTPUT STAGE
* OUTPUT CURRENT THROUGH SUPPLIES
* OUTPUT CURRENT LIMITING
* OUTPUT CLAMPS TO RAILS
* OUTPUT SWING VS OUTPUT CURRENT
*
* END MODEL FEATURES
*
* PINOUT ORDER +IN -IN +V -V OUT
* PINOUT ORDER  3   4   5  2  1
*
.SUBCKT OPA365 3 4 5 2 1
*
Q23 6 7 8 QNL
R211 9 10 2
R212 11 10 2
R213 7 12 1E3
R214 13 14 1E3
R215 15 5 8
R216 2 16 8
R218 17 18 250
R219 19 20 8
R220 8 21 8
D33 22 5 DD
D34 2 22 DD
D35 23 0 DIN
D36 24 0 DIN
I29 0 23 0.1E-3
I30 0 24 0.1E-3
E72 8 0 2 0 1
E73 20 0 5 0 1
D37 25 0 DVN
D38 26 0 DVN
I31 0 25 0.1E-3
I32 0 26 0.1E-3
E74 27 4 25 26 0.32
G25 28 4 23 24 1.75E-6
R221 2 5 5E3
E75 29 0 20 0 1
E76 30 0 8 0 1
E77 31 0 32 0 1
R223 29 33 1E5
R224 30 34 1E5
R225 31 35 1E5
R226 0 33 10
R227 0 34 10
R228 0 35 10
E78 36 3 35 0 0.003
R229 37 32 1E3
R230 32 38 1E3
C50 29 33 1E-12
C51 30 34 1E-12
C52 31 35 5E-9
E79 39 36 34 0 -0.15
E80 28 39 33 0 0.15
E81 40 8 20 8 0.5
D39 17 20 DD
D40 8 17 DD
M61 41 42 16 16 NOUT L=3U W=1600U
M62 43 44 15 15 POUT L=3U W=1600U
M63 45 45 19 19 POUT L=3U W=1600U
M64 46 47 9 9 PIN L=3U W=440U
M65 48 49 11 11 PIN L=3U W=440U
M66 50 50 21 21 NOUT L=3U W=1600U
R231 51 44 100
R232 52 42 100
G26 17 40 53 40 0.2E-3
R233 40 17 20E6
C53 18 22 4.2E-12
R234 8 46 3E3
R235 8 48 3E3
C54 46 48 0.08E-12
C55 28 0 6E-12
C56 27 0 6E-12
C57 22 0 5E-12
D41 42 6 DD
D42 54 44 DD
Q24 54 14 20 QPL
V93 28 55 75E-6
M67 56 57 20 20 PIN L=6U W=500U
E82 38 0 28 0 1
E83 37 0 4 0 1
M68 57 57 20 20 PIN L=6U W=500U
V95 56 10 -0.9
R236 22 43 8
R237 41 22 8
J9 20 28 20 JI
J10 20 27 20 JI
J11 27 58 27 JI
J12 28 58 28 JI
C58 28 27 0.35E-12
E84 59 40 48 46 1
R238 59 53 1E4
C59 53 40 0.08E-12
G27 60 40 17 40 -1E-3
G28 40 61 17 40 1E-3
G29 40 62 50 8 1E-3
G30 63 40 20 45 1E-3
D43 63 60 DD
D44 61 62 DD
R239 60 63 100E6
R240 62 61 100E6
R241 63 20 1E3
R242 8 62 1E3
E85 20 51 20 63 1
E86 52 8 62 8 1
R243 61 40 1E6
R244 62 40 1E6
R245 40 63 1E6
R246 40 60 1E6
R247 0 64 1E6
R248 39 28 1E9
R249 36 39 1E9
R250 3 36 1E9
R251 4 27 1E9
R252 40 53 1E9
R253 51 20 1E9
R254 8 52 1E9
R255 32 0 1E9
G32 57 8 64 0 181E-6
G33 45 50 64 0 490E-6
I35 5 2 3.15E-3
L5 22 1 0.4E-9
R265 22 1 400
R269 45 20 1E8
R270 8 50 1E8
R271 15 44 1E8
R272 42 22 1E8
G36 27 0 65 0 23E-12
I42 27 0 200E-15
I47 0 66 1M
D46 66 0 DD
V113 66 67 0.655
R311 0 67 1E6
E94 68 0 67 0 -571
R312 0 68 1E6
G37 28 0 65 0 23E-12
I49 28 0 200E-15
V119 69 68 -73
D47 69 65 DD
R313 0 65 1E6
R315 47 55 100
R316 27 49 100
V120 58 8 0.3
R317 57 20 1E9
V121 64 0 1
R380 17 22 1E9
E115 12 8 16 8 1.5
E116 20 13 5 15 1.5
.MODEL DVN D KF=8E-14 IS=1E-16
.MODEL DIN D
.MODEL DD D
.MODEL JI NJF IS=1E-18
.MODEL QPL PNP
.MODEL QNL NPN
.MODEL POUT PMOS KP=200U VTO=-0.7
.MODEL NOUT NMOS KP=200U VTO=0.7
.MODEL PIN PMOS KP=200U VTO=-0.7
.ENDS

* OPA134 operational amplifier "macromodel" subcircuit
* This model can also be used for OPA2134 (dual op amp)
* created using Parts release 6.2i on 02/23/96 at 08:48
* Parts is a MicroSim product.
* REV. A SB 7/20/96
* adapted from OPA132 model 9/24/96 BCT
*
* connections: non-inverting input
* | inverting input
* | | positive power supply
* | | | negative power supply
* | | | | output
* | | | | |
.SUBCKT OPA134 1 2 3 4 5
*
C1 11 12 3.240p
C2 6 7 8.000p
CSS 10 99 1.000E-30
DC 5 53 DX
DE 54 5 DX
DLP 90 91 DX
DLN 92 90 DX
DP 4 3 DX
BEGND 99 0 V=0.5*(V(3)+V(4))
BFB 7 99 I=I(VB)*248.0E6 +(-I(VC)+I(VE)+I(VLP)-I(VLN))*250E6
GA 6 0 11 12 402.0E-6
GCM 0 6 10 99 4.020E-9
ISS 3 10 DC 160.0E-6
HLIM 90 0 VLIM 1E3
J1 11 2 10 JX
J2 12 1 10 JX
R2 6 9 100.0E3
RD1 4 11 2.490E3
RD2 4 12 2.490E3
RO1 8 5 20
RO2 7 99 20
RP 3 4 7.500E3
RSS 10 99 1.250E6
VB 9 0 DC 0
VC 3 53 DC 1.200
VE 54 4 DC .9
VLIM 7 8 DC 0
VLP 91 0 DC 40
VLN 0 92 DC 40
.MODEL DX D(IS=800.0E-18)
.MODEL JX PJF(IS=2.500f BETA=1.010E-3 VTO=-1)
.ENDS

.Subckt OPA2134_my 3 2 5 6 1 7 8 4
X1 3 2 8 4 1 opa134
X2 5 6 8 4 7 opa134
.ends

.Subckt OPA2342_my 3 2 5 6 1 7 8 4
X1 3 2 8 4 1 OPA342
X2 5 6 8 4 7 OPA342
.ends

.Subckt OPA2354 3 2 5 6 1 7 8 4
X1 3 2 8 4 1 opa354
X2 5 6 8 4 7 opa354
.ends

*-----------------------------------------------------------------------
* OPA655 Wideband, Unity Gain Stable, FET-Input, VFB Op Amp
* created 05/28/96 sb
* Rev.A 07/20/96 bb
* Rev.B 05/05/00 kb
* 1- Uses a multiple pole-zero topology
* 2- For better convergence during transient analysis set:
* .OPTIONS ITL4=40
* 3- This macromodel predicts room temperature performance
* (T=27 deg C) for: DC, small-signal AC, noise, and
* transient simulations
* 4- This macromodel does not predict: distortion
* (harmonic, intermod, diff. gain & phase, ...),
* temperature effects, board parasitics, differences
* between package styles, and process changes
* CONNECTIONS:
* Non-Inverting Input
* | Inverting Input
* | | Positive Power Supply
* | | | Negative Power Supply
* | | | | Output
* | | | | |
.SUBCKT OPA655 3 2 7 4 6
*
* Package Parasitics
C2 2 0 1P
C3 3 0 1P
C4 4 0 1P
C6 6 0 1P
C7 7 0 1P
*
* Input Stage
V10 7 10 DC 0.2
R10 10 11 39.5
R11 10 12 39.5
C10 11 12 4.15P
*;2nd POLE at 485MHz
J10 11 3 14 JX
J11 12 13 14 JX
I12 14 4 DC 10.0M
V12 15 4 DC 4.54
D12 15 14 DX
G10 3 0 POLY(2) 22 0 23 0 -1P 1U 1U
E11 13 2 POLY(2) 20 0 21 0 0.5M 1 1
G11 2 0 POLY(2) 24 0 25 0 1P 1U 1U
*
* Noise Sources
I20 21 20 DC 12.0U
D20 20 0 DN1
D21 0 21 DN1
I22 23 22 DC 220U
D22 22 0 DN2
D23 0 23 DN2
I24 25 24 DC 220U
D24 24 0 DN3
D25 0 25 DN3
*
* Supply Current
I26 7 4 DC 13.8M
*
* Second Stage
G30 0 30 POLY(1) 12 11 0 25.4M
R30 30 0 19.8K
*;1st POLE at 259kHz
C30 30 0 31.0P
*;SR=290V/us
E31 31 0 POLY(1) 7 4 -2.23 0.5
E32 32 0 POLY(1) 4 7 +2.23 0.5
D31 30 31 DX
D32 32 30 DX
*
* Third Stage
G40 0 40 POLY(1) 30 0 0 1U
R40 40 0 1MEG
C40 40 0 0.127F
*;3rd POLE at 1.25GHz
* Output Stage
R50 7 50 5.0
R51 54 4 9.0
E50 50 51 POLY(2) 0 40 7 4 -691M 1 0.5
E51 53 54 POLY(2) 40 0 7 4 -691M 1 0.5
D50 51 52 DX
D51 52 53 DX
L50 52 6 3N
.MODEL DN1 D(IS=1F AF=1.0 KF=0.5F)
.MODEL DN2 D(IS=1F AF=1.0 KF=0.1F)
.MODEL DN3 D(IS=1F AF=1.0 KF=0.1F)
.MODEL DX D(IS=1F)
.MODEL JX NJF(BETA=162M VTO=-1.55 IS=2.5P CGD=500F)
.ENDS OPA655

* OPA657 Non-Unity Gain Stable, FET Voltage Limiting Amplifier
* REV. A - Created 1/21/02 Rea Schmid
* REV. B - Created 2/26/02 Rea Schmid - Purpose to adjust voltage and noise curves
* REV. C - Created 6/27/06 Xavier Ramus - to correct input stage oscillation
* REV. D - Created 10/23/06 Xavier Ramus - To correct Noise
* REV. E - Created 11/22/06 Xavier Ramus - To correct behavior in transimpedance applications
*
*
* NOTES:
* 1- This macromodel predicts well: DC, small-signal AC,
* noise, and transient performance under a wide range
* of conditions
* 2- This macromodel does not predict well: distortion
* (harmonic, intermod, diff. gain & phase, ...),
* temperature effects, board parasitics, differences
* between package styles, and process changes
* 3 - Known Problems: - none
*
* |-------------------------------------------------------------|
* | This macro model is being supplied as an aid to |
* | circuit designs. While it reflects reasonably close |
* | similarity to the actual device in terms of performance, |
* | it is not suggested as a replacement for breadboarding. |
* | Simulation should be used as a forerunner or a supplement |
* | to traditional lab testing. | |
* | Neither this library nor any part may be copied without |
* | the express written consent of Texas Instruments Corp. |
* CONNECTIONS:
* Non-Inverting Input
* | Inverting Input
* | | Output
* | | | Positive Supply
* | | | | Negative Supply
* | | | | |
* | | | | |
* | | | | |
.SUBCKT OPA657 + - Out V+ V-
.PARAM x2=0.25
.PARAM x4=0.5
.PARAM x8=1
.PARAM x10={x2*5}
.PARAM x16=2
.PARAM x24=3
.PARAM x64=8
.PARAM xFET=3

R_R13 $N_0001 V+ 520
I_I2 $N_0002 $N_0003 DC 580u
R_R11 $N_0004 V+ 195
R_R7 $N_0006 $N_0005 4
L_L2 Out $N_0005 1nH
C_C7 $N_0005 0 45p
R_R5 V- $N_0007 100
R_R6 V- $N_0008 100
R_R12 V- $N_0009 150
R_R14 V- $N_0010 520
I_I1 $N_0011 $N_0012 DC 513.33uA
R_R9 $N_0014 $N_0013 22.5
R_R10 $N_0016 $N_0015 22.5
I_I3 $N_0017 $N_0018 DC 722.3u
X_F7 $N_0018 $N_0019 $N_0014 V- OPA657schm_F7
X_F8 $N_0019 V- $N_0016 V- OPA657schm_F8
X_F10 $N_0020 $N_0017 V+ $N_0021 OPA657schm_F10
X_F9 V+ $N_0020 V+ $N_0022 OPA657schm_F9
Q_Q5 $N_0024 $N_0023 $N_0025 PNP8 {x64}
Q_Q9 $N_0011 $N_0011 $N_0026 PNP8 {x2}
Q_Q14 $N_0023 $N_0027 $N_0028 NPN8 {x4}
Q_Q12 $N_0029 $N_0029 $N_0027 NPN8 {x4}
Q_Q11 $N_0023 $N_0011 $N_0030 PNP8 {x4}
Q_Q10 $N_0029 $N_0011 $N_0031 PNP8 {x4}
Q_Q3 V+ $N_0031 $N_0032 NPN8 {x24}
Q_Q7 V+ $N_0025 $N_0006 NPN8 {x64*2}
Q_Q19 $N_0002 $N_0002 $N_0001 PNP8 {x2}
Q_Q21 $N_0003 $N_0003 $N_0010 NPN8 {x2}
Q_Q13 $N_0028 $N_0028 $N_0008 NPN8 {x10}
Q_Q15 $N_0027 $N_0028 $N_0007 NPN8 {x10}
Q_Q6 $N_0032 $N_0023 $N_0033 NPN8 {x64*1.2}
Q_Q20 $N_0033 $N_0003 $N_0009 NPN8 {x8/8*8}
Q_Q18 $N_0025 $N_0002 $N_0004 PNP8 {x2*2.0}
Q_Q4 V- $N_0007 $N_0024 PNP8 {x24}
Q_Q22 V- $N_0033 $N_0006 PNP8 {x64*5}
X_F1 $N_0012 V- $N_0034 V- OPA657schm_F1
J_J29 $N_0021 + $N_0013 JX6_3 {xFET}
J_J30 $N_0022 - $N_0015 JX6_3 {xFET}
R_R3 $N_0031 V+ 600
R_R4 $N_0030 V+ 600
R_R8 $N_0026 V+ 2.8k
Q_Q24 V- $N_0016 $N_0022 PNP8 1
Q_Q2 $N_0030 $N_0016 $N_0034 NPN8 {x16}
Q_Q1 $N_0031 $N_0014 $N_0034 NPN8 {x16}
Q_Q23 V- $N_0014 $N_0021 PNP8 1
C_C6 V- $N_0023 1.1p

.MODEL NPN8 NPN
+ IS=7.604E-18 BF=1.570E+02 NF=1.000E+00 VAF= 7.871E+01
+ IKF= 3.975E-02 ISE= 3.219E-14 NE=2.000E+00 BR=7.614E-01
+ NR=1.000E+00 VAR= 1.452E+00 IKR= 8.172E-02 ISC= 7.618E-21
+ NC=1.847E+00 RB=1.060E+02 IRB= 0.000E+00 RBM= 2.400E+00
+ RE=2.520E+00 RC=1.270E+02 CJE= 1.120E-13 VJE= 7.591E-01
+ MJE= 5.406E-01 TF=1.213E-11 XTF= 2.049E+00 VTF= 1.813E+00
+ ITF= 4.293E-02 PTF= 0.000E+00 CJC= 8.208E-14 VJC= 6.666E-01
+ MJC= 4.509E-01 XCJC=8.450E-02 TR=4.000E-11 CJS= 1.160E-13
+ VJS= 5.286E-01 MJS= 4.389E-01 XTB= 1.022E+00 EG=1.120E+00
+ XTI= 1.780E+00 KF=3.500E-16 AF=1.000E+00 FC=8.273E-01


.MODEL PNP8 PNP
+ IS=7.999E-18 BF=1.418E+02 NF=1.000E+00 VAF= 4.158E+01
+ IKF= 1.085E-01 ISE= 2.233f NE=1.505E+00 BR=3.252E+01
+ NR=1.050E+00 VAR= 1.093E+00 IKR= 5.000E-05 ISC= 6.621E-16
+ NC=1.150E+00 RB=6.246E+01 IRB= 0.000E+00 RBM= 2.240E+00
+ RE=2.537E+00 RC=1.260E+02 CJE= 9.502E-14 VJE= 7.320E-01
+ MJE= 4.930E-01 TF=1.303E-11 XTF= 3.500E+01 VTF= 3.259E+00
+ ITF= 2.639E-01 PTF= 0.000E+00 CJC= 1.080E-13 VJC= 7.743E-01
+ MJC= 5.000E-01 XCJC=8.504E-02 TR=1.500E-10 CJS= 1.290E-13
+ VJS= 9.058E-01 MJS= 4.931E-01 XTB= 1.732E+00 EG=1.120E+00
+ XTI= 2.000E+00 KF=3.500E-16 AF=1.000E+00 FC=8.500E-01

.MODEL JX6_3 NJF
+ BETA=0.35e-3 RD=13.3 RS=13.299 BETATCE=-1.994 LAMBDA=28.67E-9 ISR=0 NR=2 IS=5.956f N=1 XTI=3
+ ALPHA=2.7155E-9 VK=1 CGD=2.025p M=0.57 PB=1 FC=0.5 CGS=11.7E-13 AF=1 KF=0
+ VTOTC=0.0025 VTO=-2.85

.subckt OPA657schm_F7 1 2 3 4
F_F7 3 4 VF_F7 1.00165517241
VF_F7 1 2 0V
.ends OPA657schm_F7

.subckt OPA657schm_F8 1 2 3 4
F_F8 3 4 VF_F8 1.00165517241
VF_F8 1 2 0V
.ends OPA657schm_F8

.subckt OPA657schm_F10 1 2 3 4
F_F10 3 4 VF_F10 1.33600996816
VF_F10 1 2 0V
.ends OPA657schm_F10

.subckt OPA657schm_F9 1 2 3 4
F_F9 3 4 VF_F9 1.33600996816
VF_F9 1 2 0V
.ends OPA657schm_F9

.subckt OPA657schm_F1 1 2 3 4
F_F1 3 4 VF_F1 4
VF_F1 1 2 0V
.ends OPA657schm_F1
.ENDS OPA657

*-----------------------------------------------------------------------
* OPA656 Wideband, Unity Gain Stable, FET-Input, VFB Op Amp
* created 12/27/01 RS
* Revision 1/16/02 RS Input saturation
* Rev 6/12/02 RS Adj for Trimed offset & Output Drive Current
*
* NOTES:
* 1- Uses a multiple pole-zero topology
* 2- For better convergence during transient analysis set:
* .OPTIONS ITL4=40
* 3- This macromodel predicts room temperature performance
* (T=27 deg C) for: DC, small-signal AC, noise, and
* transient simulations
* 4- This macromodel does not predict: distortion
* (harmonic, intermod, diff. gain & phase, ...),
* temperature effects, board parasitics, differences
* between package styles, and process changes
* 5- Revision to correct Pinch-off and input limiting.
*
* |---------------------------------------------------------------|
* | This macro model is being supplied as an aid to |
* | circuit designs. While it reflects reasonably close |
* | similarity to the actual device in terms of performance, |
* | it is not suggested as a replacement for breadboarding. |
* | Simulation should be used as a forerunner or a supplement |
* | to traditional lab testing. |
* | |
* | Neither this library nor any part may be copied without |
* | the express written consent of Texas Instruments Corporation.|
* |---------------------------------------------------------------|
*
* CONNECTIONS:
* Non-Inverting Input
* | Inverting Input
* | | Positive Power Supply
* | | | Negative Power Supply
* | | | | Output
* | | | | |
.SUBCKT OPA656 + - V+ V- Out
C_C4 V- 0 1P
C_C2 0 V+ 1P
R_R40 16 0 1MEG
G_G40 0 16 POLY(1) 15 0 0 1U 0 0
V_V12 14 V- DC 4.54
R_R51 V- 23 9.0
R_R50 19 V+ 5
R_R30 15 0 87.92K
D_D32 18 16 DX 1
D_D31 16 17 DX 1
C_C6 Out 0 1P
D_D12 14 12 DX 1
R_R10 10 V+ 750
R_R11 11 V+ 750
Q_Q1 V+ 20 Out NPN8 8
Q_Q2 V- 22 Out PNP8 8
Q_Q4 21 21 20 PNP8 .5
Q_Q3 21 21 22 NPN8 .5
C_C30 0 15 10.54P
C_C40 16 0 0.079f
E_E50 19 20 POLY(2) 0 16 V+ V- -815M 1 0.5
E_E51 22 23 POLY(2) 16 0 V+ V- -815M 1 0.5
E_E31 17 0 POLY(1) V+ V- -1.7 0.5 0 0
E_E32 18 0 POLY(1) V- V+ 1.7 0.5 0 0
I_I12 12 V- DC 9.8M
G_G1 0 15 POLY(1) 11 10 0 25.225M 0 0
J_J10 10 + 12 JX .5
L_L2 2 - 3.96nH
J_J11 11 2 12 JX .50001505

*
.MODEL DN1 D( IS=.1F AF=1.0 KF=49.0E-17)
.MODEL DX D( IS=1.0000f)
*
.MODEL NPN8 NPN
+ IS=7.604E-18 BF=1.570E+02 NF=1.000E+00 VAF= 7.871E+01
+ IKF= 3.975E-02 ISE= 3.219E-14 NE=2.000E+00 BR=7.614E-01
+ NR=1.000E+00 VAR= 1.452E+00 IKR= 8.172E-02 ISC= 7.618E-21
+ NC=1.847E+00 RB=1.060E+02 IRB= 0.000E+00 RBM= 2.400E+00
+ RE=2.520E+00 RC=1.270E+02 CJE= 1.120E-13 VJE= 7.591E-01
+ MJE= 5.406E-01 TF=1.213E-11 XTF= 2.049E+00 VTF= 1.813E+00
+ ITF= 4.293E-02 PTF= 0.000E+00 CJC= 8.208E-14 VJC= 6.666E-01
+ MJC= 4.509E-01 XCJC=8.450E-02 TR=4.000E-11 CJS= 1.160E-13
+ VJS= 5.286E-01 MJS= 4.389E-01 XTB= 1.022E+00 EG=1.120E+00
+ XTI= 1.780E+00 KF=3.500E-16 AF=1.000E+00 FC=8.273E-01
*
.MODEL PNP8 PNP
+ IS=7.999E-18 BF=1.418E+02 NF=1.000E+00 VAF= 4.158E+01
+ IKF= 1.085E-01 ISE= 2.233f NE=1.505E+00 BR=3.252E+01
+ NR=1.050E+00 VAR= 1.093E+00 IKR= 5.000E-05 ISC= 6.621E-16
+ NC=1.150E+00 RB=6.246E+01 IRB= 0.000E+00 RBM= 2.240E+00
+ RE=2.537E+00 RC=1.260E+02 CJE= 9.502E-14 VJE= 7.320E-01
+ MJE= 4.930E-01 TF=1.303E-11 XTF= 3.500E+01 VTF= 3.259E+00
+ ITF= 2.639E-01 PTF= 0.000E+00 CJC= 1.080E-13 VJC= 7.743E-01
+ MJC= 5.000E-01 XCJC=8.504E-02 TR=1.500E-10 CJS= 1.290E-13
+ VJS= 9.058E-01 MJS= 4.931E-01 XTB= 1.732E+00 EG=1.120E+00
+ XTI= 2.000E+00 KF=3.500E-16 AF=1.000E+00 FC=8.500E-01
*
.MODEL JX NJF(BETA=2.78E-3 LAMBDA=28.67E-6 IS=5.956f
+ALPHA=2.7155 VK=1 RD=13.3 RS=13.299 CGD=1.032p CGS=2.823p
+AF=1 KF=21.75E-18 BETATCE=-1.994 VTOTC=-2.5000E-3)
.ENDS OPA656

* Node assignments
* non-inverting input
* | inverting input
* | | positive supply
* | | | negative supply
* | | | | output
* | | | | |
.SUBCKT AD820AR 1 2 99 50 25
*
* INPUT STAGE & POLE AT 5MHZ
*
R3 5 99 2456
R4 6 99 2456
CIN 1 2 5p
C2 5 6 6.48p
I1 4 50 108E-6
IOS 1 2 1E-11
EOS 7 1 POLY(1) (12,98) 800E-6 2.41
J1 5 2 4 JX
J2 6 7 4 JX
GB1 50 2 POLY(3) (2,4) (2,5) (2,50) 0 1p 1p 1p
GB2 50 7 POLY(3) (7,4) (7,5) (7,50) 0 1p 1p 1p
*
EREF 98 0 (30,0) 1
*
* GAIN STAGE & POLE AT 25 HZ
*
R5 9 98 1.234E6
C3 9 25 32p
G1 98 9 (6,5) 4.07E-4
V1 8 98 0
V2 98 10 -1
D1 9 10 DX
D2 8 9 DX
*
* COMMON-MODE GAIN NETWORK WITH ZERO AT 5 KHZ
*
R21 11 12 1E6
R22 12 98 200
C14 11 12 32.25p
E13 11 98 POLY(2) (2,98) (1,98) 0 0.5 0.5
*
* POLE AT 10 MHZ
*
R23 18 98 1E6
C15 18 98 15.9f
G15 98 18 (9,98) 1E-6
ES 26 51 POLY(1) (18,98) 1.72 1
RS 26 22 500
V3 23 51 1.03951
V4 21 23 1.36
C16 20 25 2p
C17 24 25 2p
RG1 20 97 1E8
RG2 24 97 1E8
Q1 20 20 97 PNP
Q2 20 21 22 NPN
Q3 24 23 22 PNP
Q4 24 24 51 NPN
Q5 25 20 97 PNP 20
Q6 25 24 51 NPN 20
VP 96 97 0
VN 51 52 0
EP 96 0 POLY(1) (99,0) 0.01 1
EN 52 0 POLY(1) (50,0) -0.015 1
R25 30 99 275E3
R26 30 50 275E3
FSY1 99 0 POLY(1) VP 210.5E-6 1
FSY2 0 50 POLY(1) VN 210.5E-6 1
.MODEL JX NJF(BETA=7.67E-4 VTO=-2.000 IS=12.5p)
.MODEL NPN NPN(BF=120 VAF=150 VAR=15 RB=2E3 RE=4 RC=200)
.MODEL PNP PNP(BF=120 VAF=150 VAR=15 RB=2E3 RE=4 RC=900)
.MODEL DX D(IS=1f)
.ENDS AD820AR

* TLV2221 OPERATIONAL AMPLIFIER "MACROMODEL" SUBCIRCUIT
* CREATED USING PARTS RELEASE 4.03 ON 06/17/96 AT 14:24
* REV(N/A) 3 VOLT MODEL
* CONNECTIONS: NON-INVERTING INPUT
* | INVERTING INPUT
* | | POSITIVE POWER SUPPLY
* | | | NEGATIVE POWER SUPPLY
* | | | | OUTPUT
* | | | | |
.SUBCKT TLV2221 1 2 3 4 5
*
 C1 11 12 12.24p
 C2 6 7 50.00p
 DC 5 53 DX
 DE 54 5 DX
 DLP 90 91 DX
 DLN 92 90 DX
 DP 4 3 DX
 EGND 99 0 POLY(2) (3,0) (4,0) 0 .5 .5
 FB 7 99 POLY(5) VB VC VE VLP VLN 0 440.8E3 -80E3 80E3 80E3 -80E3
 GA 6 0 11 12 78.54E-6
 GCM 0 6 10 99 12.439E-9
 ISS 3 10 DC 9.000E-6
 HLIM 90 0 VLIM 1K
 J1 11 2 10 JX
 J2 12 1 10 JX
 R2 6 9 100.0E3
 RD1 60 11 12.73E3
 RD2 60 12 12.73E3
 RO1 8 5 45
 RO2 7 99 45
 RP 3 4 32.97E3
 RSS 10 99 22.22E6
 VAD 60 4 -.5
 VB 9 0 DC 0
 VC 3 53 DC .655
 VE 54 4 DC .655
 VLIM 7 8 DC 0
 VLP 91 0 DC 2.4
 VLN 0 92 DC 4.4
.MODEL DX D(IS=800.0E-18)
.MODEL JX PJF(IS=500f BETA=1.371m VTO=-.01)
.ENDS


.SUBCKT TLV226x 1 2 3 4 5
C1 11 12 5.5p
C2 6 7 20p
DC 5 53 DX
DE 54 5 DX
DLP 90 91 DX
DLN 92 90 DX
DP 4 3 DX
EGND 99 0 POLY (2) (3,0) (4,0) 0 .5 .5
FB 7 99 POLY (5) VB VC VE VLP
+ VLN 0 8.84E6 10E6 10E6 10E6 10E6
GA 6 0 11 12 62.83u
GCM 0 6 10 99 12.34n
ISS 3 10 DC 11.05u
HLIM 90 0 VLIM 1K
J1 11 2 10 JX
J2 12 1 10 JX
R2 6 9 100.0E3
RD1 60 11 15.92k
RD2 60 12 15.92k
R01 8 5 135
R02 7 99 135
RP 3 4 15.87E3
RSS 10 99 18.18E6
VAD 4 60 0.5
VB 9 0 DC 0
VC 3 53 DC .615
VE 54 4 DC .615
VLIM 7 8 DC 0
VLP 91 0 DC 1
VLN 0 92 DC 5.1
.MODEL DX D (IS=0.8f)
.MODEL JX PJF IS=500f BETA=325u vto=-0.08
.ENDS

* OPA846 Wideband, Low Noise Voltage Feedback Op Amp
* Created 5/1/03
* NOTES:
* 1- Uses a multiple pole-zero topology
* 2- For better convergence during transient analysis set:
* .OPTIONS ITL4=40
* 3- This macromodel predicts room temperature performance
* (T=27 deg C) for: DC, small-signal AC, noise, and
* transient simulations
* 4- This macromodel does not predict: distortion
* (harmonic, intermod, diff. gain & phase, ...),
* temperature effects, board parasitics, differences
* between package styles, and process changes
* CONNECTIONS:
* Non-Inverting Input
* | Inverting Input
* | | Positive Power Supply
* | | | Negative Power Supply
* | | | | Output
* | | | | |
* | | | | |
.SUBCKT OPA846 i+ i- V+ V- Out
V_V1 V+ 10 DC 1.4
R_R10 11 10 200
R_R11 12 10 200
R_R12 15 13 5
R_R13 15 14 5
G_G1 i+ 0 POLY(2) 26 0 27 0 0 1m 1m
G_G3 0 17 POLY(1) 12 11 0 30.51M 0 0
G_G4 0 18 POLY(1) 17 0 0 1M 0 0
E_E1 19 0 POLY(1) V- V+ .9 0.5 0 0
E_E2 20 0 POLY(1) V+ V- -.9 0.5 0 0
E_E3 21 22 POLY(2) 0 18 V+ V- -785m 1 0.5
E_E4 24 25 POLY(2) 18 0 V+ V- -785m 1 0.5
D_D1 16 15 DX 1
D_D3 18 20 DX 1
D_D4 22 23 DX 1
D_D5 23 24 DX 1
D_D6 26 0 DN1 .5
D_D7 0 27 DN1 .5
G_G2 2 0 POLY(2) 28 0 29 0 0 1m 1m
I_I1 15 V- DC 1.475mA
V_V2 16 V- DC 1.2
I_I2 V+ V- DC 2.0mA
I_I3 27 26 DC 100uA
I_I4 29 28 DC 100uA
Q_Q1 11 i+ 13 NPN8 10
D_D2 19 18 DX 1
R_R14 17 0 503K
R_R15 18 0 1K
R_R16 21 V+ 45
R_R17 V- 25 45
R_R18 23 Out 5
C_C1 0 i- .35p
C_C2 17 0 7.95p
C_C3 0 18 80f
C_C4 V- Out 1p
L_L1 2 i- 2.35nH
Q_Q2 12 2 14 NPN8 10.049
D_D8 28 0 DN1 .5
D_D9 0 29 DN1 .5
.MODEL DN1 D(IS=2F AF=1 KF=10.5E-17)
.MODEL DX D(IS=1.0000f)
.MODEL NPN8 NPN
+ IS=7.604E-18 BF=1.570E+02 NF=1.000E+00 VAF= 7.871E+01
+ IKF= 3.975E-02 ISE= 3.219E-14 NE=2.000E+00 BR=7.614E-01
+ NR=1.000E+00 VAR= 1.452E+00 IKR= 8.172E-02 ISC= 7.618E-21
+ NC=1.847E+00 RB=1.060E+02 IRB= 0.000E+00 RBM= 2.400E+00
+ RE=2.520E+00 RC=1.270E+02 CJE= 1.120E-13 VJE= 7.591E-01
+ MJE= 5.406E-01 TF=1.213E-11 XTF= 2.049E+00 VTF= 1.813E+00
+ ITF= 4.293E-02 PTF= 0.000E+00 CJC= 3.052E-14 VJC= 6.666E-01
+ MJC= 4.509E-01 XCJC=8.450E-02 TR=4.000E-11 CJS= 1.160E-13
+ VJS= 5.286E-01 MJS= 4.389E-01 XTB= 1.022E+00 EG=1.120E+00
+ XTI= 1.780E+00 KF=24.5f AF=1.0 FC=8.273E-01
.ENDS

*
* The MAX9914 ultra low supply current opamp operates from a single
* +1.8 to +5.5V supply and features 1MHz GBW and Rail-to-Rail output
* and is unity gain stable.
.SUBCKT MAX9914 17 15 10 18 42
* 10=VCC
* 18=VEE
* 17=IN+
* 15=IN-
* 42=OUT
*INPUT STAGE
VS1 10 11 0V
FSUP 18 10 VS1 1
IBIAS 11 12 1.235U
M1 13 16 12 12 MOSP
M2 14 15 12 12 MOSP
VOS 17 A16 0.2M
ECMPSRR A16 16 RA 100 1
RD1 13 18 54.75K
RD2 14 18 54.75K
C1 13 14 0.72P
*INPUT BIAS CURRENT
IBIAS1 12 16 1P
IBIAS2 12 15 1P
*GAIN STAGE
GA1 100 A1 14 13 10U
RP1 A1 100 100K
CP1 A1 100 0.5P
GA 25 100 A1 100 1M
RO1 25 100 3.163K
GB 26 100 25 100 1
RO2 26 100 100K
EF 27 100 26 100 1
RLF 27 100 1MEG
CC 25 27 135.2P
*VOLTAGE LIMITING
DP1 26 151 DY
EP1 151 153 10 18 0.5
EP3 153 155 27 199 1
HCOMP1 100 155 VIS2 111.11
DP2 152 26 DY
EP2 154 152 10 18 0.5
EP4 156 154 199 26 1
HCOMP2 100 156 VIS2 111.11
*CMRR (CMRR DC RESPONSE)
RA1 RA 100 1
GCM RA 100 18 12 100U
*PSRR (PSRR DC RESPONSE)
GPS 100 RA 10 18 6U
*CURRENT LIMITING
RO3 27 199 162
D1 30 199 DY
D2 199 28 DY
D3 29 28 DY
D4 30 29 DY
ILIM1 28 30 15M
RILIM 28 30 1MEG
VIS2 29 42 0V
*INTERNAL GND AT VDD/2
EG1 100 18 10 18 0.5
*SUPPLY CURRENT MODEL
*BIAS CURRENT
ISUP 10 18 20U
*LOAD CURRENT
DSUP 18 10 DX
FIS1 100 60 VIS2 1
D17 100 60 DX
D18 60 61 DX
VIS3 100 61 0V
FSUP1 18 10 VIS3 1
*MAXIMUM INPUT COMMON MODE VOLTAGE LIMIT
DIL 12 80 DZ
RIL 80 82 100
VIL 82 81 0.8V
EIL 81 18 10 18 1
*MINIMUM SUPPLY VOLTAGE LIMIT
VVL 85 18 1.8V
VIS4 85 86 0V
RVL 86 87 30K
DVL3 87 88 DY
EVL 88 18 10 18 1
DVL4 18 12 DY
DVL5 12 84 DY
FVL 84 18 VIS4 4
.MODEL DA D(IS=100E-14 RS=0.5k)
.MODEL MOSP PMOS(VTO=-0.7 KP=268.9U)
.MODEL DX D(IS=100E-14)
.MODEL DZ D(N=10M)
.MODEL DY D(IS=100E-14 N=0.1M)
.ENDS



* connections: non-inverting input
* 		 | inverting input
*		 | | positive power supply
*		 | | | negative power supply
*		 | | | | output
*		 | | | | |
* .subckt OPA336 1 2 3 4 5
*
* Note that node "4" may be connected to ground "0", i.e., single supply operation.
*
* 4) ADD .OPTION ITL=40 AND .OPTION GMIN=10p TO NET LIST IF SIMULATION DOES NOT
* CONVERGE
* 5) ADDING .NODESET STATEMENT (BELOW) TO NET LIST MAY HELP CONVERGENCE IS CASES
* WHERE V+=5V AND V-=0V ; SINGLE SUPPLY OPERATION. ASSUMES SUBCIRCUIT IS "U1".
*
* .NODESET
* +V(2)=2.5 V(1)=2.5 V(5)=2.5 V(3)=5.0
* +V(X_U1.20)= 3.8 V(X_U1.23)= 3.8 V(X_U1.25)= .834 V(X_U1.27)= .833 V(X_U1.29)= .834
* +V(X_U1.32)= 2.03 V(X_U1.34)= 2.03 V(X_U1.43)= 4.065 V(X_U1.44)= 2.51 V(X_U1.45)= 1.93
* +V(X_U1.47)= 1.93 V(X_U1.51)= .848 V(X_U1.53)= 4.07 V(X_U1.54)= 1.58 V(X_U1.55)= 4.02
* +V(X_U1.60)= 1.94 V(X_U1.62)= .855 V(X_U1.64)= 3.17 V(X_U1.67)= 4.98 V(X_U1.76)= 2.51
* +V(X_U1.GNDS)= 0.0 V(0)= 0.0
*
* connections: non-inverting input
* | inverting input
* | | positive power supply
* | | | negative power supply
* | | | | output
* | | | | |
.subckt OPA336 1 2 3 4 5
*
M61 4 64 55 55 PCH W=20U L=0.8U M=1
M59 55 53 3 3 PCH W=15U L=5U M=4
M55 55 60 51 GNDS NCH W=5U L=0.8U M=1
M53 53 45 51 GNDS NCH W=5U L=0.8U M=1
M57 53 53 3 3 PCH W=15U L=5U M=2
C55 55 60 CP1P2 2P
M67 55 55 67 3 PCH W=5U L=5U M=1
M74 45 51 62 GNDS NCH W=5U L=1U M=1
R67 3 67 RNW 200K
R47 45 47 RPO2 2K
ITAIL 3 23 DC 6U AC 0
ITAIL2 27 4 DC 1.6U AC 0
ITAIL3 51 4 DC 0.8U AC 0
I60 3 60 DC 0.4U AC 0
RGNDS GNDS 4 0.01
M24 29 1 23 3 PCH W=90U L=2U AD=2560P PD=3328U AS=2688P PS=3494U M=1
M26 29 27 4 GNDS NCH W=500U L=2U AD=1142P PD=1670U AS=1142P PS=1670U M=1
I20 20 4 DC 1U AC 0
R20 3 20 1.2MEG
M20 4 20 23 3 PCH W=5U L=2U M=1
R32 32 25 1.2MEG
R34 34 29 1.2MEG
I34 3 34 DC 1U AC 0
I32 3 32 DC 1U AC 0
V64 3 64 DC 1.8302
V60 60 62 DC 1.0897
V62 62 4 DC .8547
M23 25 2 23 3 PCH W=90U L=2U AD=2560P PD=3328U AS=2688P PS=3494U M=1
M47 43 43 3 3 PCH W=60U L=4U M=1
M43 43 34 27 GNDS NCH W=4U L=4U M=1
M45 45 32 27 GNDS NCH W=4U L=4U M=1
M73 76 51 4 GNDS NCH W=5U L=0.8U M=20
M25 25 27 4 GNDS NCH W=500U L=2U AD=1142P PD=1670U AS=1142P PS=1670U M=1
M71 76 55 3 3 PCH W=20U L=0.8U M=20
M49 45 43 3 3 PCH W=60U L=4U M=1
RC1 44 76 RPO2 10K
R76 76 5 RPO2 100
CM1 29 44 CP1P2 200P
C45 47 76 CP1P2 22P
RC2 54 4 RPO2 10K
CM2 25 54 CP1P2 200P
*
* MODELS for LEVEL 3 PSpice
.MODEL PCH PMOS (LEVEL=3 TOX=30E-9 CGDO=1.80e-10 CGSO=1.80e-10 CJ=7.199E-4 CJSW=3.40E-10
+AF=1.05 KF=1.0e-31 JS=4.0e-7 JSSW=3.0e-13 RSH=117 MJ=.47 MJSW=.16 PHI=0.71 VTO=-.892
+LD=12E-9 WD=43E-9 TPG=+1 GAMMA=0.6)
*
.MODEL NCH NMOS (LEVEL=3 TOX=30E-9 CGDO=1.55e-10 CGSO=1.55e-10 CJ=6.300E-4 CJSW=3.83E-10
+AF=1.05 KF=2.6e-31 JS=2.0e-7 JSSW=5e-13 RSH=68 MJ=.25 MJSW=.11 PHI=0.792 VTO=.81
+LD=34E-9 WD=17E-9 TPG=-1 GAMMA=0.6)
*
.MODEL RPO2 RES (R=1 TC1=6.3e-4 TC2= 1.1e-6)
.MODEL RNW RES (R=1 TC1=5.5e-3 TC2=-1.3e-5)
.MODEL CP1P2 CAP (C=1)
.ENDS


* Changed input transistor betas to conform to final data sheet
* Ios typical spec of 60nA.
*
* non-inverting input
* | inverting input
* | | positive supply
* | | | negative supply
* | | | | output
* | | | | |
.SUBCKT OP284 1 2 99 50 45
*
* INPUT STAGE
*
Q1 5 2 3 QIN 1
Q2 6 11 3 QIN 1
Q3 7 2 4 QIP 1
Q4 8 11 4 QIP 1
DC1 2 11 DC
DC2 11 2 DC
Q5 4 9 99 QIP 1
Q6 9 9 99 QIP 1
Q7 3 10 50 QIN 1
Q8 10 10 50 QIN 1
R1 99 5 4E3
R2 99 6 4E3
R3 7 50 4E3
R4 8 50 4E3
IREF 9 10 50.5E-6
EOS 1 11 POLY(2) (22,98) (14,98) -25E-6 1E-2 1
IOS 2 1 5E-9
CIN 1 2 2p
GN1 98 1 (17,98) 1E-3
GN2 98 2 (23,98) 1E-3
*
* VOLTAGE NOISE SOURCE WITH FLICKER NOISE
*
VN1 13 98 DC 2
VN2 98 15 DC 2
DN1 13 14 DEN
DN2 14 15 DEN
*
* CURRENT NOISE SOURCE WITH FLICKER NOISE
*
VN3 16 98 DC 2
VN4 98 18 DC 2
DN3 16 17 DIN
DN4 17 18 DIN
*
* 2ND CURRENT NOISE SOURCE WITH FLICKER NOISE
*
VN5 19 98 DC 2
VN6 98 24 DC 2
DN5 19 23 DIN
DN6 23 24 DIN
*
* GAIN STAGE
*
EREF 98 0 POLY(2) (99,0) (50,0) 0 0.5 0.5
G1 98 20 POLY(2) (6,5) (8,7) 0 0.5E-3 0.5E-3
R9 20 98 1E3
*
* COMMON MODE STAGE WITH ZERO AT 100HZ
*
ECM 98 21 POLY(2) (1,98) (2,98) 0 0.5 0.5
R10 21 22 1
R11 22 98 100E-6
C4 21 22 1.592E-3
*
* NEGATIVE ZERO AT 20MHZ
*
E1 27 98 (20,98) 1E6
R17 27 28 1
R18 28 98 1E-6
C8 25 26 7.958E-9
ENZ 25 98 (27,28) 1
VNZ 26 98 DC 0
FNZ 27 28 VNZ -1
*
* POLE AT 40MHZ
*
G4 98 29 (28,98) 1
R19 29 98 1
C9 29 98 3.979E-9
*
* POLE AT 40MHZ
*
G5 98 30 (29,98) 1
R20 30 98 1
C10 30 98 3.979E-9
*
* OUTUT STAGE
*
ISY 99 50 0.276E-3
GIN 50 31 POLY(1) (30,98) .862574E-6 505.879E-6
RIN 31 50 2.75E6
VB 99 32 0.7
Q11 32 31 33 QON 1
R21 33 34 4.5E3
I1 34 50 50E-6
R22 99 35 6E3
Q12 36 36 35 QOP 1
I2 36 50 50E-6
R23 99 37 2.6E3
R24 34 38 5E3
Q13 39 36 37 QOP 1
Q14 39 38 40 QON 1.5
R25 40 50 40
Q15 39 39 41 QON 1
R26 41 42 1E3
R27 99 43 220
Q16 44 44 43 QOP 1.5
Q17 44 39 42 QON 1
R28 42 50 2E3
VSCP 99 97 DC 0
FSCP 46 99 VSCP 1
RSCP 46 99 40
Q20 44 46 99 QOP 1
Q18 45 44 97 QOP 4.5
Q19 45 34 51 QON 4.5
VSCN 51 50 DC 0
FSCN 50 47 VSCN 1
RSCN 47 50 40
Q21 34 47 50 QON 1
CC2 31 45 20p
CF1 31 34 15p
CF2 31 42 15p
CO1 34 45 15p
CO2 42 45 5p
D3 45 99 DX
D4 50 45 DX
.MODEL DC D(IS=130E-21)
.MODEL DX D()
.MODEL DEN D(RS=100 KF=12f AF=1)
.MODEL DIN D(RS=5.358 KF=56f AF=1)
.MODEL QIN NPN(BF=120 VA=200 IS=0.5E-16)
.MODEL QIP PNP(BF=90 VA=60 IS=0.5E-16)
.MODEL QON NPN(BF=200 VA=200 IS=0.5E-16 RC=50)
.MODEL QOP PNP(BF=200 VA=200 IS=0.5E-16 RC=160)
.ENDS OP284

* ADA4817 Spice Model Rev. B, 7/2008 CK
* Refer to "README.DOC" file for License Statement.
* Use of this model indicates your acceptance with
* the terms and provisions in the License Statement.
* The following parameters are accurately modeled;
*
* FET Input common mode range
* Bandwidth 960 MHz
* Voltage noise ~ 4nV/rtHz
* Slew Rate ~ 840V/us
* Input Capacitance Cm ~1.3pF and Dm ~0.1pF
* Vos is static and will not vary ~ 1.5 mV
* Distortion is not characterized
* Output Swing is not characterized. (it's currently Rail to Rail)
*
* Node assignments
* non-inverting input
* | inverting input
* | | positive supply
* | | | negative supply
* | | | | output
* | | | | |
.SUBCKT ADA4817-1 1 2 99 50 45
* FET INPUT STAGE
Eos 9 2 poly(1) 100 98 4.2m 1
Cd 1 2 0.1p
Ccm1 1 0 1.5p
Ccm2 2 0 1.5p
J1 5 1 4 pmod
J2 6 9 4 pmod
Ib1 1 0 2p
Ib2 9 0 2p
R3 50 5 rnoise 1
R4 50 6 rnoise 1
I11 99 4 1m
Ccap 45 2 0.8p
* COMMON-MODE GAIN NETW0RK
*Ecm 80 98 POLY(2) 2 98 1 98 0 .5 .5
* GAIN STAGE & POLE AT 130 kHz
Ecc 97 0 99 0 1
Ess 52 0 50 0 1
Eref 98 0 POLY(2) 99 0 50 0 0 .5 .5
G1 13 98 5 6 0.045e3
R7 13 98 Rnoise 255e3
C3 13 98 30p
V1 97 14 2.25
V2 16 52 2.25
D1 13 14 DX
D2 16 13 DX
* POLE AT 1 GHz
G2 98 43 13 98 1
R10 98 43 rnoise 1
C5 98 43 112p
* POLE AT 1.3 GHz
G3 98 53 43 98 1
R11 98 53 rnoise 1
C6 98 53 112p
*POLE AT 130 GHz
*G4 98 63 53 98 1
*R12 98 63 rnoise 1
*C7 98 63 0.122p
* BUFFER STAGE
Gbuf 98 81 53 98 1e-2
Rbuf 81 98 Rnoise 100
* OUTPUT STAGE
Vo1 99 90 0
Vo2 51 50 0
R18 25 90 rnoise .02
R19 25 51 rnoise .02
*D100 45 250 Dx
*D101 250 45 Dx
Vcd 25 45 0
G6 25 90 99 81 50
G7 51 25 81 50 50
V4 26 25 -0.8355
V5 25 27 -0.8355
D5 81 26 Dx
D6 27 81 DX
Fo1 98 70 vcd 1
D7 70 71 DX
D8 72 70 DX
vi1 71 98 0
Vi2 98 72 0
Erefq 96 0 45 0 1
Iq 99 50 -0.1017
Fq1 96 99 POLY(2) Vo1 Vi1 0 1 -1
Fq2 50 96 POLY(2) Vo2 Vi2 0 1 -1
****** Voltage noise stage
rnoise1 39 98 5.5e-4
vnoise1 39 98 0
vnoise2 101 98 0.75
dnoise1 101 39 dn
fnoise1 100 98 vnoise1 1
rnoise2 100 98 1
.model Rnoise RES(T_abs=-275)
.model pmod pjf (beta=0.5e-2, T_abs=-10)
.MODEL DX D (T_abs=-10)
.model dn d(kf=2p,af=1, T_abs=-4)
.ENDS

* PINOUT ORDER +IN -IN +V -V OUT
* PINOUT ORDER 3 4 6 2 1
.SUBCKT LMV951 3 4 6 2 1
* NOTE - THIS MODEL DOES NOT INCLUDE THE SHUTDOWN FEATURE
**********
* MODEL FEATURES INCLUDE OUTPUT SWING, OUTPUT CURRENT THRU
* THE SUPPLY RAILS, OUTPUT SWING VS IO, OUTPUT CURRENT LIMIT,
* OPEN LOOP GAIN AND PHASE, SLEW RATE, COMMON MODE REJECTION
* WITH FREQ EFFECTS, POWER SUPPLY REJECTION WITH FREQ EFFECTS,
* INPUT VOLTAGE NOISE WITH 1/F, INPUT CURRENT NOISE, INPUT
* CAPACITANCE, INPUT BIAS CURRENT, INPUT COMMON MODE RANGE,
* INPUT OFFSET, HIGH CLOAD EFFECTS, ANDQUIESCENT CURRENT VS
* VOLTAGE.
*///////////////////////////////////////////////////////////
*MODEL TEMP RANGE IS -40 TO +125 DEG C.
*NOTE THAT MODEL IS FUNCTIONAL OVER THIS RANGE BUT NOT ALL
*PARAMETERS TRACK THOSE OF THE REAL PART
*////////////////////////////////////////////////////////////
*
Q20 7 8 9 QLN
R3 10 11 2
R4 10 12 2
R10 8 13 1E3
R11 14 15 1E3
R12 16 6 2
R13 2 17 2
R16 18 19 10E3
R17 20 21 2
R18 9 22 2
D5 1 6 DD
D6 2 1 DD
D7 23 0 DIN
D8 24 0 DIN
I8 0 23 0.1E-3
I9 0 24 0.1E-3
E2 9 0 2 0 1
E3 21 0 6 0 1
D9 25 0 DVN
D10 26 0 DVN
I10 0 25 1E-3
I11 0 26 1E-3
E4 27 4 25 26 0.103
G2 28 4 23 24 2.5E-3
R22 2 6 2.05E3
E5 29 0 21 0 1
E6 30 0 9 0 1
E7 31 0 32 0 1
R30 29 33 1E5
R31 30 34 1E5
R32 31 35 1E5
R33 0 33 10
R34 0 34 10
R35 0 35 10
E10 36 3 35 0 0.07
R36 37 32 1E3
R37 32 38 1E3
C6 29 33 1p
C7 30 34 10p
C8 31 35 1p
E11 39 36 34 0 4
E12 28 39 33 0 -0.45
E14 40 9 21 9 0.6
D11 18 21 DD
D12 9 18 DD
M1 41 42 17 17 NOUT L=3U W=1800U
M2 43 44 16 16 POUT L=3U W=1800U
M3 45 45 20 20 POUT L=3U W=1800U
M8 46 46 22 22 NOUT L=3U W=1800U
R43 47 44 100
R44 48 42 100
G3 18 40 49 40 0.125E-3
R45 40 18 5E8
C12 19 50 4p
R46 51 21 2E3
R47 52 21 2E3
C13 52 51 2p
C14 28 0 3p
C15 27 0 3p
C16 1 0 3p
D13 42 7 DD
D14 53 44 DD
Q15 53 15 21 QLP
V18 28 54 -1.7E-3
E17 38 0 28 0 1
E18 37 0 4 0 1
V21 10 55 -0.98
R59 1 43 2
R60 41 1 2
J1 56 28 56 JNC
J2 56 27 56 JNC
J3 27 57 27 JNC
J4 28 57 28 JNC
E20 58 40 52 51 -1
R62 58 49 1E4
C23 49 40 4p
G7 59 40 18 40 -1E-3
G8 40 60 18 40 1E-3
G9 40 61 46 9 1E-3
G10 62 40 21 45 1E-3
D17 62 59 DD
D18 60 61 DD
R66 59 62 100E6
R67 61 60 100E6
R68 62 21 1E3
R69 9 61 1E3
E23 21 47 21 62 1
E24 48 9 61 9 1
R70 60 40 1E6
R71 61 40 1E6
R72 40 62 1E6
R73 40 59 1E6
R75 39 28 1E9
R76 36 39 1E9
R77 3 36 1E9
R78 4 27 1E9
R79 40 49 1E9
R81 47 21 1E9
R82 9 48 1E9
R83 32 0 1E9
G14 21 63 64 0 27E-6
G15 45 46 64 0 180E-6
V51 64 0 1
I21 6 2 -0.35E-3
V78 21 56 -0.1
V79 57 9 -0.08
R155 45 21 1E8
R156 9 46 1E8
R157 17 42 1E8
R158 16 44 1E8
E98 21 14 6 16 4
E99 13 9 17 2 4
R335 9 63 1E12
R336 18 50 1E9
R340 0 64 1E12
R341 0 64 1E12
M9 63 63 9 9 NIN L=3U W=300U
M10 55 63 9 9 NIN L=3U W=300U
R342 54 65 2
R343 27 66 2
M11 52 65 11 11 NIN L=3U W=75U
M12 51 66 12 12 NIN L=3U W=75U
E100 50 0 1 0 1
I22 28 0 34E-9
I23 27 0 34E-9
.MODEL DVN D KF=9p IS=1E-16
.MODEL DD D
.MODEL DIN D KF=9E-16 IS=1E-16
.MODEL QLN NPN
.MODEL QLP PNP
.MODEL JNC NJF
.MODEL POUT PMOS KP=200U VTO=-0.7
.MODEL NOUT NMOS KP=200U VTO=0.7
.MODEL PIN PMOS KP=200U VTO=-0.7
.MODEL NIN NMOS KP=200U VTO=0.7
.ENDS
* END MODEL LMV951

* CREATED USING PARTS RELEASE 4.03 ON 10/15/90 AT 14:41
* CONNECTIONS: NON-INVERTING INPUT
* | INVERTING INPUT
* | | POSITIVE POWER SUPPLY
* | | | NEGATIVE POWER SUPPLY
* | | | | OUTPUT
* | | | | |
.SUBCKT OPA121 1 2 3 4 5
*
C1 11 12 72.79p
C2 6 7 400.0p
DC 5 53 DX
DE 54 5 DX
DLP 90 91 DX
DLN 92 90 DX
DP 4 3 DX
EGND 99 0 POLY(2) (3,0) (4,0) 0 .5 .5
FB 7 99 POLY(5) VB VC VE VLP VLN 0 2.653E6 -3E6 3E6 3E6 -3E6
GA 6 0 11 12 5.027E-3
GCM 0 6 10 99 31.72E-9
ISS 3 10 DC 800.0E-6
HLIM 90 0 VLIM 1K
J1 11 2 10 JX
J2 12 1 10 JX
R2 6 9 100.0E3
RD1 4 11 198.9
RD2 4 12 198.9
RO1 8 5 25
RO2 7 99 75
RP 3 4 12.00E3
RSS 10 99 250.0E3
VB 9 0 DC 0
VC 3 53 DC 3
VE 54 4 DC 3
VLIM 7 8 DC 0
VLP 91 0 DC 40
VLN 0 92 DC 40
.MODEL DX D(IS=800.0E-18)
.MODEL JX PJF(IS=500.0f BETA=15.79E-3 VTO=-1)
.ENDS

*	this macromodel has been optimized to model the ac, dc, and transient response performance within
* model temperature range is -40 c to +125 c, not all parameters accurately track those of an actual opa357
* over the full temperature range but are as close as practical
* pinout order +in -in +v -v out
* pinout order 3 4 5 2 1
*
.subckt opa354 3 4 5 2 1
*
* begin simulation notes
* for best results when looking at input bias currents
* set abstol from 1e-13 to 3e-13
* for aid in dc convergence set itl1 from 400 to 4000
* for aid in transient analysis set itl4 from 50 to 500
* model temperature range is
* -40 c to +125 c, not all
* parameters track those of
* the real part vs temperature
* end simulation notes
* begin model features
* open loop gain and phase
* input offset voltage change at the
* rail-to-rail input transition point
* input voltage noise with 1/f
* input current noise
* input bias current
* input capacitance
* input common mode voltage range
* input clamps to rails
* cmrr with frequency effects
* psrr with frequency effects
* slew rate
* quiescent current
* rail to rail output stage
* high cload effects
* class ab bias in output stage
* output current through supplies
* output current limiting
* output clamps to rails
* output swing vs output current
* end model features
q20 6 7 8 qln
r3 9 10 20
r4 11 10 20
r10 7 12 1e3
r11 13 14 1e3
r12 14 5 2.5
r13 2 12 2.5
r16 15 16 1e3
r17 17 18 2.5
r18 8 19 2.5
d5 20 5 dd
d6 2 20 dd
d7 21 0 din
d8 22 0 din
i8 0 21 0.1e-3
i9 0 22 0.1e-3
e2 8 0 2 0 1
e3 18 0 5 0 1
d9 23 0 dvn
d10 24 0 dvn
i10 0 23 0.1e-3
i11 0 24 0.1e-3
e4 25 4 23 24 0.18
g2 26 4 21 22 5e-7
r22 2 5 100e6
e5 27 0 18 0 1
e6 28 0 8 0 1
e7 29 0 30 0 1
r30 27 31 1e4
r31 28 32 1e5
r32 29 33 1e5
r33 0 31 1
r34 0 32 10
r35 0 33 10
e10 34 3 33 0 0.4
r36 35 30 1k
r37 30 36 1k
c6 27 31 0.2p
c7 28 32 100p
c8 29 33 2p
e11 37 34 32 0 0.5
e12 26 37 31 0 3.3
e14 38 8 18 8 0.5
d11 15 18 dd
d12 8 15 dd
m1 39 40 12 12 nout l=3u w=800u
m2 41 42 14 14 pout l=3u w=800u
m3 43 43 17 17 pout l=3u w=800u
m4 44 45 9 9 pin l=3u w=160u
m5 46 25 11 11 pin l=3u w=160u
m8 47 47 19 19 nout l=3u w=800u
r43 48 42 100
r44 49 40 100
g3 15 38 50 38 0.2e-3
r45 38 15 200e6
c12 16 20 1p
r46 8 44 2e3
r47 8 46 2e3
c13 44 46 0.125p
c14 26 0 0.68p
c15 25 0 0.68p
c16 20 0 0.5p
d13 40 6 dd
d14 51 42 dd
q15 51 13 18 qlp
v18 26 45 0.7e-3
m16 52 53 54 54 nin l=3u w=160u
r53 55 54 20
m17 56 25 57 57 nin l=3u w=160u
r54 55 57 20
r55 52 18 2e3
r56 56 18 2e3
c20 52 56 0.125p
v19 45 53 -2e-3
m18 58 59 60 60 pin l=6u w=500u
m19 61 62 18 18 pin l=6u w=500u
v20 18 59 1.3
m21 55 58 8 8 nin l=6u w=500u
m22 58 58 8 8 nin l=6u w=500u
g6 15 38 63 38 0.2e-3
e17 36 0 26 0 1
e18 35 0 4 0 1
m23 62 62 18 18 pin l=6u w=500u
v21 61 10 0
r59 20 41 5
r60 39 20 5
j1 64 26 64 jnc
j2 64 25 64 jnc
j3 25 65 25 jnc
j4 26 65 26 jnc
c21 26 25 0.5p
e19 66 38 56 52 1
r61 66 63 1e4
c22 63 38 0.125p
e20 67 38 46 44 1
r62 67 50 1e4
c23 50 38 0.125p
g7 68 38 15 38 -1e-3
g8 38 69 15 38 1e-3
g9 38 70 47 8 1e-3
g10 71 38 18 43 1e-3
d17 71 68 dd
d18 69 70 dd
r66 68 71 100e6
r67 70 69 100e6
r68 71 18 1e3
r69 8 70 1e3
e23 18 48 18 71 1
e24 49 8 70 8 1
r70 69 38 1e6
r71 70 38 1e6
r72 38 71 1e6
r73 38 68 1e6
g11 5 2 72 0 3.55e-3
r75 37 26 1e9
r76 34 37 1e9
r77 3 34 1e9
r78 4 25 1e9
r79 38 50 1e9
r80 38 63 1e9
r81 48 18 1e9
r82 8 49 1e9
r83 30 0 1e9
r85 60 61 1e3
g14 62 8 73 0 400e-6
g15 43 47 73 0 1.35e-3
e48 74 15 73 0 30
e49 75 38 73 0 -30
v49 76 75 15
v50 77 74 -15
r127 74 0 1e12
r128 75 0 1e12
m41 38 77 15 78 psw l=1.5u w=150u
m42 15 76 38 79 nsw l=1.5u
r129 78 0 1e12
r130 79 0 1e12
m43 80 81 8 8 nen l=3u w=300u
m44 82 80 8 8 nen l=3u w=3000u
r131 80 18 1e4
r132 82 83 1e6
v51 83 8 1
m45 84 84 18 18 pen l=6u w=60u
m46 81 84 18 18 pen l=6u w=60u
i20 84 8 0.2e-6
c26 81 0 1p
e50 73 0 85 8 1
v52 82 85 1.111e-6
r133 8 85 1e12
c32 18 80 15p
c33 83 82 0.15p
i21 5 2 3.4e-6
l1 20 1 4e-9
r150 20 1 400
v78 18 64 0
v79 65 8 0
i22 25 0 1p
i23 26 0 1p
m47 86 80 8 8 nen l=3u w=3000u
r152 86 83 1e6
c34 83 86 0.005p
v80 86 87 1.111e-6
r153 8 87 1e12
e53 72 0 87 8 1
r154 0 72 1e12
r155 43 18 1e9
r156 8 47 1e9
r157 12 40 1e9
r158 14 42 1e9
r159 81 18 10e6
rg1 73 0 1e9
.model dvn d kf=8p is=1e-16
.model dd d
.model din d
.model qln npn
.model qlp pnp
.model jnc njf
.model pout pmos kp=200u vto=-0.7
.model nout nmos kp=200u vto=0.7
.model pin pmos kp=200u vto=-0.7
.model nin nmos kp=200u vto=0.7
.model nen nmos kp=200u vto=0.5 is=1e-18
.model pen pmos kp=200u vto=-0.7 is=1e-18
.model psw pmos kp=200u vto=-7.5 is=1e-18
.model nsw nmos kp=200u vto=7.5 is=1e-18
.ends opa354

* THIS MODEL IS APPLICABLE TO OPA340, OPA2340, OPA4340
*
* non-inverting input

* | inverting input

* | | positive supply

* | | | negative supply

* | | | | output

* | | | | |
.SUBCKT OPA340 + - V+ V- OUT

* INPUT STAGE
*
i1 V+ 5 150u
m7 550 vswitch 5 5 pix l=6u w=25u m=4
m8 550 550 V- V- nix l=6u w=25u m=4
m9 553a 550 V- V- nix l=6u w=25u m=4
m9c 66 nvsat 553a V- nix l=6u w=25u m=4
Vpvsat V+ vswitch DC 1.3
Vnvsat nvsat V- DC 1.37
iin1 + 98 .2p
iin2 - 98 .2p
d3 5 V+ dx
d4 V- 66 dx
d5 - V+ dx
d6 + V+ dx
d7 V- - dx
d8 V- + dx
m1 33 - 66 V- nix l=6u w=25u
m2 4 7 66 V- nix l=6u w=25u
m3 8 - 5 5 pix l=6u w=25u
m4 9 7 5 5 pix l=6u w=25u
eos 7 + poly(1) 25 98 0 0
ios - + 0p
r1 V+ 33 4.833k
r2 V+ 4 4.833k
r3 8 V- 4.833k
r4 9 V- 4.833k
*
* GAIN STAGE
*
eref 98 0 poly(2) V+ 0 V- 0 0 0.5 0.5
g1 98 21 poly(2) 4 33 9 8 0 145u 145u
rg 21 98 18.078e6
cc 21 OUT 10.5p
d1 21 22 dx
d2 23 21 dx
v1 V+ 22 1.37
v2 23 V- 1.37
*
* COMMON MODE GAIN STAGE
*
ecm 24 98 poly(2) + 98 - 98 0 0.5 0.5
r5 24 25 1e6
r6 25 98 10k
c1 24 25 0.75p
*
* OUTPUT STAGE
*
isy V+ V- 450.4u
gsy V+ V- poly(1) V+ V- -3.334e-4 6.667e-5
ep V+ 39 poly(1) 98 21 0.78925 1
en 38 V- poly(1) 21 98 0.78925 1
vh OUT 6h DC 1e-2
vl 6l OUT DC 1e-2
m113 6h 39 V+ V+ pox l=1.5u w=1500u
m114 6l 38 V- V- nox l=1.5u w=1500u
c15 OUT 39 50p
c16 OUT 38 50p
.model dx d(rs=1 cjo=0.1p)
.model nix nmos(vto=0.75 kp=205.5u rd=1 rs=1 rg=1 rb=1 cgso=4e-9
+cgdo=4e-9 cgbo=16.667e-9 cbs=2.34e-13 cbd=2.34e-13)
.model nox nmos(vto=0.75 kp=195u rd=.5 rs=.5 rg=1 rb=1 cgso=66.667p
+cgdo=66.667p cgbo=125e-9 cbs=2.34e-13 cbd=2.34e-13)
.model pix pmos(vto=-0.75 kp=205.5u rd=1 rs=1 rg=1 rb=1 cgso=4e-9
+cgdo=4e-9 cgbo=16.667e-9 cbs=2.34e-13 cbd=2.34e-13)
.model pox pmos(vto=-0.75 kp=195u rd=.5 rs=.5 rg=1 rb=1 cgso=66.667p
+cgdo=66.667p cgbo=125e-9 cbs=2.34e-13 cbd=2.34e-13)
.ENDS OPA340

* MAX4323 MACROMODEL
* ----------------------------
* Revision 1. 10/2011
* ----------------------------
* The MAX4323 wideband, low noise, low distortion opamps operates from single
* +2.4V to 6.5V Supply, feature ground sensing inputs and rail to rail outputs
* and are unity gain stable
* ----------------------------

*******************************
.SUBCKT MAX4323 IN+ VEE IN- OUT SHDN VCC
 XAMP1 VCC VEE IN+ IN- OUT SHDN MAX4323_S
.ENDS
*****************
.SUBCKT MAX4323_S 10 18 17 15 75 54
* 10=VCC
* 18=VEE
* 17=IN+
* 15=IN-
* 75=OUT
* 54=SHDN
*****************
*INPUT STAGE
VS1 10 11 0V
GBIAS 11 12 52 20 2.697U
CB 12 18 0.03P
M1 13 16 12 11 MOSFET
M2 14 15 12 11 MOSFET
DBIAS 18 12 DA
VOS 19 16 3m
ERDC 19 17 111 20 1
RD1 13 18 10K
RD2 14 18 10K
C1 13 14 1.5P
DIN1 16 11 DX
DIN2 18 16 DX
DIN3 15 11 DX
DIN4 18 15 DX
CIN1 17 20 7.5P
CIN2 15 20 7.5P
FSUP 18 10 VS1 1
ECHK 199 20 13 14 1
**************
*INPUT BIAS CURRENT
IBIAS1 12 16 190n
IBIAS2 12 15 170n
**************************************************
*GAIN STAGE
GA 21 20 14 13 2.512M
RO1 21 20 10K
GB 22 20 21 20 1
RO2 22 20 100K
EF 23 20 22 20 1
RLF 23 20 10MEG
CC 21 23 51.48P
EG1 20 18 10 18 0.5
*****************
*DEVICE ENABLE
REN2 10 54 100MEG
IEN1 18 54 1U
DEN3 54 10 DX
*SHDN DELAYS
EEN2 55 20 54 18 1
REN4 55 58 140K
DEN4 56 55 DA
REN3 58 56 60K
CEN 58 20 23P
******
EEN1 48 20 58 20 1
EHYST1 48 49 POLY(2) 52 20 10 18 0 0 0 0 -0.4
EVEN1 49 50 10 18 0.7
REN1 50 51 5K
VIS2 20 51 0V
*******
FEN1 52 20 VIS2 4
DEN2 20 52 DA
DEN1 52 53 DA
CL2 52 20 100P
RLEN 52 20 1MEG
VLIM2 53 20 1V
RDLY 52 57 40K
CDLY 57 20 200P
*****************
DVL1 22 33 DA
VMIN1 59 33 0.5MV
DVL2 34 22 DA
VMIN2 34 60 2.5MV
ELIM2 59 61 10 18 0.5
ELIM1 63 60 10 18 0.5
ECOMP2 62 20 65 66 1
ECOMP1 64 20 65 66 1
HCOMP2 62 61 VIS3 62.5
HCOMP1 64 63 VIS3 19
*****************
EOUT 65 20 22 20 1
ROUT1 65 66 5
VIS3 66 67 0V
RLOAD 75 20 100MEG
*****************
*CURRENT LIMIT
DSC1 67 68 DA
DSC2 69 67 DA
DSC3 69 70 DA
DSC4 70 68 DA
ISC1 68 69 10MA
RSC 68 69 10MEG
*****************
*DISABLE SWITCH
MEN1 71 72 70 10 MOSFETP
MEN2 71 73 70 18 MOSFETN
EEN3 70 72 52 20 10
EEN4 73 70 52 20 10
RSHUNT 70 71 10MEG
VIS5 71 75 0V
*****************
*SUPPLY CURRENT
*BIAS CURRENT
DSUP 18 10 DB
ISUP 10 18 40UA
GSUP 10 18 52 20 650U
*LOAD CURRENT
FSUP1 20 77 VIS5 1
CSUP 77 20 1P
DSUP1 20 77 DB
DSUP2 77 78 DB
VIS4 78 20 0V
FSUP2 10 18 VIS4 1
*****************
*CMRR DC AND AC
RRDC 111 20 1
GCM2 20 111 12 18 7.94U
*****************
*MAX COMMON MODE INPUT VCC-1.2V
DIL 12 83 DA
RIL 83 84 50
VIL 85 84 0.9V
EIL 85 18 10 18 1
*****************
*MINIMUM SUPPLY VOLTAGE SET AT 2.4
DVL3 18 12 DA
DVL4 12 86 DA
FVL 86 18 VIS6 1
VVL 87 18 2.4V
VIS6 87 88 0V
DVL5 88 89 DA
RVL 89 90 300
EVL1 90 18 10 18 1
**************************************************
.MODEL MOSFETN NMOS(VTO=5 KP=88E-2)
.MODEL MOSFETP PMOS(VTO=-5 KP=88E-2)
.MODEL MOSFET PMOS(VTO=-0.2 KP=37.25E-4)
.MODEL DA D(N=0.1M)
.MODEL DX D(IS=100E-14 RS=0.5k)
.MODEL DB D(IS=100E-14)
**************************************************
.ENDS


.subckt CA3140 1 36 15 20 12
*START OF DECK
* +IN -IN OUT +VSS -VSS
*NODE: 1 36 15 20 12
*------INPUT STAGE-------
VOSBAL 7 29 3.00000000E-03
EU1 8 1 20 12 0.0001
EU2 8 7 5 12 -1
RB1 12 10 1 TC= 1.991040E-03 (-1.244400E-04)
IB4 10 12 1.000000E-06
RB3 12 5 8743.17 TC= 1.60000000E-03 (0.00000000E+00)
IB3 12 5 5.718750E-07
G1 12 1 10 12 1.025000E-05
G2 12 36 10 12 9.750000E-06
RDM 36 29 1.500000E+12
RCM 31 13 1.500000E+12
CDM 36 29 4.000000p
G5 31 13 36 31 6.66667E-13
G6 31 13 1 31 6.66667E-13
*------INTERMEDIATE STAGE-------
GDM 31 16 29 36 1
GCM 31 16 13 31 -1.58113883E-05
R1 31 16 3.16358380E+02
C1 31 16 6.45457E-11
VCP 23 31 100
VCM 24 31 -100
DD1 16 23 MD2
.MODEL MD2 D XTI=1.000000P
* SPECTRE: + IMAX=1000
DD2 24 16 MD2
G3 31 6 16 31 -1.07249255E-06
R2 31 6 100000
C2 11 6 1.2E-11
RP1 31 20 3750
RP2 31 12 3750
*------OUTPUT STAGE-------
G4 31 11 6 31 -5.10867719E+01
ROUT 31 11 60
DD3 11 9 MD3
.MODEL MD3 D IS=10.0F XTI=1.0P N= 3.612647E-01
* SPECTRE: + IMAX=1000
DD4 9 11 MD4
.MODEL MD4 D IS=10.0F XTI=1.0P N= 8.028126E-01
* SPECTRE: + IMAX=1000
EU6 9 31 2 31 1
RO1 11 26 20
FF1 31 28 VFF1 1
VFF1 26 2 0.0
FF2 31 20 VFF2 -1
VFF2 33 31 0.0
FF3 12 31 VFF3 -1
VFF3 31 27 0.0
DD8 27 28 MID
DD7 28 33 MID
.MODEL MID D XTI=1.000000F N=1 IS=10.000000F
* SPECTRE: + IMAX=1000
VP 20 22 -29.2613
VM 21 12 -29.3113
DD5 25 22 MID
DD6 21 17 MID
VP1 20 30 2.7501
VM1 32 12 .859456
DD9 2 30 MD9
DD10 32 15 MD9
.MODEL MD9 D XTI=1.000000F N=1 IS=10.000000F
* SPECTRE: + IMAX=1000
HH1 25 2 POLY(2) VIC2 VIC1 0 1960 0 1540 0 0 0 0 0 0
HH2 2 17 POLY(2) VIC3 VIC1 0 -1960 0 -1540 0 0 0 0 0 0
VIC1 37 3 0.0
VIC2 2 14 0.0
VIC3 14 15 0.0
VPP 37 0 1
RPP 3 0 100.0K
RO3 15 20 200.0MEG
RO2 15 12 200.0MEG
.ends

.subckt mcp6041_my 1 2 3 4 5
* | | | | |
* | | | | output
* | | | negative supply
* | | positive supply
* | inverting input
* non-inverting input
*
* macromodel for the mcp6041/2/3/4 op amp family:
* mcp6041 (single)
* mcp6042 (dual)
* mcp6043 (single w/ cs; chip select is not modeled)
* mcp6044 (quad)
* rev a: 7-9-01
*
* recommendations:
* for high impedance circuits, set gmin=100f in the .options
* supported:
* typical performance at room temperature (25 degrees c)
* dc, ac, transient, and noise analyses.
* most specs, including: offsets, psrr, cmrr, input impedance,
* open loop gain, voltage ranges, supply current, ... , etc.
*
* not supported:
* chip select (mcp6043)
* variation in specs vs. power supply voltage
* distortion (detailed non-linear behavior)
* temperature analysis
* process variation
* behavior outside normal operating region
*
* input stage
r10 3 11 78k
r11 3 12 78k
c11 11 12 4.9p
c12 1 0 6p
be12 1 14 v=1e-3+v(20)+v(21)-165e-6 -20e-6*v(3, 4)+50e-6*(v(1, 3)+v(2, 4))
bg12 14 0 i=1.5p +1e-6 *(v(22)+v(23))
m12 11 14 15 15 nmi l=2u w=42u
c13 14 2 3p
m14 12 2 15 15 nmi l=2u w=42u
bg14 2 0 i=0.5p + 1e-6 * (v(24)+v(25))
c14 2 0 6p
******
i15 15 4 500n
v16 16 4 0.18
d16 16 15 dl
v13 3 13 0.00
d13 14 13 dl
* noise sources
i20 21 20 17.2n
d20 20 0 dn1
d21 0 21 dn1
i22 23 22 588u
d22 22 0 dn23
d23 0 23 dn23
i24 25 24 588u
d24 24 0 dn23
d25 0 25 dn23
* open loop gain, slew rate
*bg30 0 30 i=v(12, 11)-v(30)*0.0001+uramp(-v(30)-25.1)-uramp(v(30)-25.1)
bg30 0 30 i=v(12, 11)-v(30)*0.0001+uramp(-v(30)-0.1)-uramp(v(30)-0.1)
c30 30 300 1.14m
v300 300 0 -21.52m
bg31 0 31 i=v(30,31)
c31 31 300 775n
*
* output stage
bg43 3 0 i=1e-7+uramp(i(vam))
bg47 0 4 i=1e-7+uramp(-i(vam))
be43 44 0 v=v(3)-0.001
be47 47 0 v=v(4)
d44 45 44 dls
d46 46 45 dls
v46 46 47 1m
bg45 47 45 i=8e-4*v(31) + v(3,4)*4u
r45 45 47 125k
vam 45 450 0
r48 450 5 44
c48 5 0 2p
.model nmi nmos vto=0.3
.model dl d n=1 is=1f
.model dls d n=1m is=1f
.model dn1 d is=1f kf=1.13e-18 af=1
.model dn23 d is=1f kf=3e-20 af=1
.ends mcp6041_my

.SUBCKT MCP6041 1 2 3 4 5
*               | | | | |
*               | | | | Output
*               | | | Negative Supply
*               | | Positive Supply
*               | Inverting Input
*               Non-inverting Input
*
*
* The following op-amps are covered by this model:
*      MCP6041,MCP6042,MCP6043,MCP6044
*
* Revision History:
*      REV A: 07-Sep-01, KEB (created model)
*      REV B: 27-Aug-06, HNV (added over temperature, improved output stage, 
*                             fixed overdrive recovery time)
*                             (MC_RQ, 27-Aug-06, Level 1.17)
*
* Recommendations:
*      Use PSPICE or SIMetrix/SIMPLIS (other simulators may require translation)
*      For a quick, effective design, use a combination of: data sheet
*            specs, bench testing, and simulations with this macromodel
*      For high impedance circuits, set GMIN=100F in the .OPTIONS statement
*
* Supported:
*      Typical performance for temperature range (-40 to 125) degrees Celsius
*      DC, AC, Transient, and Noise analyses.
*      Most specs, including: offsets, DC PSRR, DC CMRR, input impedance,
*            open loop gain, voltage ranges, supply current, ... , etc.
*      Temperature effects for Ibias, Iquiescent, Iout short circuit 
*            current, Vsat on both rails, Slew Rate vs. Temp and P.S.
*
* Not Supported:
*      Chip select (MCP6043)
*      Some Variation in specs vs. Power Supply Voltage
*      Monte Carlo (Vos, Ib), Process variation
*      Distortion (detailed non-linear behavior)
*      Behavior outside normal operating region
*
* Input Stage
V10  3 10 -500M
R10 10 11 69k
R11 10 12 69k
C12  1  0 6P
C11 11 12 95P
E12 71 14 POLY(6) 20 0 21 0 22 0 23 0 26 0 27 0 2.00M 10 10 29 29 1 1
G12 1 0 62 0 1m
M12 11 14 15 15 NMI
G13 1 2 62 0 20u 
M14 12 2 15 15 NMI 
G14 2 0 62 0 1m
C14  2  0 6P
I15 15 4 2U
V16 16 4 -300M
GD16 16 1 TABLE {V(16,1)} ((-100,-1p)(0,0)(1m,1u)(2m,1m)) 
V13 3 13 -300M
GD13 2 13 TABLE {V(2,13)} ((-100,-1p)(0,0)(1m,1u)(2m,1m)) 
R71  1  0 20.0E12
R72  2  0 20.0E12
R73  1  2 20.0E12
I80  1  2 500E-15
*
* Noise, PSRR, and CMRR
I20 21 20 423U
D20 20  0 DN1
D21  0 21 DN1
I22 22 23 1N
R22 22 0  1k
R23  0 23 1k
G26  0 26 POLY(2) 3 0 4 0   0.00 -79.4U -39.8U
R26 26  0 1
G27  0 27 POLY(2) 1 0 2 0 0 27u 27u
R27 27  0 1
*
* Open Loop Gain, Slew Rate
G30  0 30 12 11 1
R30 30  0 1.00K
cr30 30 0 1p ;my
I31 0 31 DC 69.5
R31 31  0 1 TC=2.25M,-15U
GD31 30 0 TABLE {V(30,31)} ((-100,-1n)(0,0)(1m,0.1)(2m,2))
I32 32 0 DC 110.7
R32 32  0 1 TC=2.02M,-11U
GD32 0 30 TABLE {V(30,32)} ((-2m,2)(-1m,0.1)(0,0)(100,-1n))
G33  0 33 30 0 1m
R33  33 0 3K
G34  0 34 33 0 1
R34  34 0 1K
C34  34 0 70M
G37  0 341 34 0 1m
R341  341 0 1k
C341  341 0 1.3N
G371  0 37 341 0 1m
R37  37 0 1K
C37  37 0 3N
G38  0 38 37 0 1m
R38  39 0 1K
L38  38 39 13M
E38  35 0 38 0 1
G35 33 0 TABLE {V(35,3)} ((-1,-1n)(0,0)(30.0,1n))(32.0,1))
G36 33 0 TABLE {V(35,4)} ((-32.0,-1)((-30.0,-1n)(0,0)(1,1n))
*
* Output Stage
*R80 50 0 100MEG
R80 50 0 1k ;my
cr80 50 0 100f ;my 
G50 0 50 57 96 2
R58 57  96 0.50
R57 57  0 500
cr57 57 0 1p ;my
C58  5  0 2.00P
G57  0 57 POLY(3) 3 0 4 0 35 0 0 1.6M 0.11M 2.00M
GD55 55 57 TABLE {V(55,57)} ((-2m,-1)(-1m,-1m)(0,0)(10,1n))
GD56 57 56 TABLE {V(57,56)} ((-2m,-1)(-1m,-1m)(0,0)(10,1n))
E55 55  0 POLY(2) 3 0 51 0 -0.97M 1 -62.8M
E56 56  0 POLY(2) 4 0 52 0 1.2M 1 -49M
R51 51 0 1k
R52 52 0 1k
*GD51 50 51 TABLE {V(50,51)} ((-10,-1n)(0,0)(1m,1m)(2m,1))
*GD52 50 52 TABLE {V(50,52)}  ((-2m,-1)(-1m,-1m)(0,0)(10,1n))
Bg51 51 0 v=uramp(v(50))
Bg52 52 0 v=-uramp(-v(50))
G53  3  0 POLY(1) 51 0 -2U 1M
G54  0  4 POLY(1) 52 0 -2U -1M
*
* Current Limit
G99 96 5 99 0 1
R98 0 98 1 TC=-6.9M,17U
G97 0 98 TABLE { V(96,5) } ((-11.0,-4.0M)(-1.00M,-3.97M)(0,0)(1.00M,3.13M)(11.0,3.16M))
E97 99 0 VALUE { V(98)*((V(3)-V(4))*1.39 -1.5)}
D98 4 5 DESD
D99 5 3 DESD
*
* Temperature / Voltage Sensitive IQuiscent
R61 0 61 1 TC=2.52M,-4.31U
G61 3 4 61 0 1
G60 0 61 TABLE {V(3, 4)} 
+ ((0,0)(700M,5.3N)(770M,10.0N)(1.00,480N)
+ (1.5,500N)(3.5,530N)(7.00,580N))
*
* Temperature Sensistive offset voltage
I73 0 70 DC 1uA
R74 0 70 1 TC=1.5
E75 1 71 70 0 1 
*
* Temp Sensistive IBias
I62 0 62 DC 1uA
*R62 0 62 REXP  210U
R62 0 62  r=210U*((1.01)**(9*(TEMP-27)))
*
* Models
.MODEL NMI NMOS(L=2U W=42U KP=20U LEVEL=1 )
.MODEL DESD  D   N=1 IS=1.00E-15
.MODEL DN1 D   IS=1P KF=0.2F AF=1
*.MODEL REXP RES R={ ((1.01)**(9*(TEMP-27))) }
.ENDS MCP6041




.subckt mcp6021 1 2 3 4 5
* | | | | |
* | | | | output
* | | | negative supply
* | | positive supply
* | inverting input
* non-inverting input
*
* macromodel for the mcp6021/2/3/4 op amp family:
* mcp6021 (single)
* mcp6022 (dual)
* mcp6023 (single w/ cs; chip select is not modeled)
* mcp6024 (quad)
* revision history:
* rev a: 10-02-01 created keb
* recommendations:
* use pspice (or spice 2g6; other simulators may require translation)
* for a quick, effective design, use a combination of: data sheet
* specs, bench testing, and simulations with this macromodel
* for high impedance circuits, set gmin=100f in the .options
* statement
* supported:
* typical performance at room temperature (25 degrees c)
* dc, ac, transient, and noise analyses.
* most specs, including: offsets, dc psrr, dc cmrr, input impedance,
* open loop gain, voltage ranges, supply current, ... , etc.
*
* not supported:
* chip select (mcp6023)
* variation in specs vs. power supply voltage
* distortion (detailed non-linear behavior)
* temperature analysis
* process variation
* behavior outside normal operating region
*
* input stage
v10 3 10 -0.6
r10 10 11 1.63k
r11 10 12 1.63k
c11 11 12 222f
c12 1 0 6p
be12 1 14 v=v(26) +v(27)
i12 14 0 1.5p
m12 11 14 15 15 nmi l=2u w=75u
c13 14 2 3p
m14 12 2 15 15 nmi l=2u w=75u
i14 2 0 0.5p
c14 2 0 6p
i15 15 4 500u
v16 16 4 0.36
d16 16 15 dl
v13 3 13 -80m
d13 14 13 dl
*
* psrr and cmrr
bg26 0 26 i=-308e-6 + 56e-6 * v(3, 4)
r26 26 0 1
bg27 0 27 i=(v(1, 3) + v(2, 4)-10)*24e-6
r27 27 0 1
*
* open loop gain, slew rate
* g30 0 30 poly(1) 12 11 0 1k
bg30 0 30 i=1000 * v(12, 11)
r30 30 0 1
d31 30 31 dl
be31 31 0 v=57.2 + 8.33 * v(3, 4)
d32 32 30 dl
be32 0 32 v=74.0 + 8.00 * v(3, 4)
bg33 0 33 i=316 * v(30)
r33 33 0 1
c33 33 0 4.58m
bg34 0 34 i= v(33)
r34 34 0 1
c34 34 0 159p
*
* output stage
bg40 0 40 i=10 * v(47, 5)
d41 40 41 dl
r41 41 0 1k
d42 42 40 dl
r42 42 0 1k
bg43 3 0 i=500e-6 + 1e-3 * v(41)
bg44 0 4 i=500e-6 -1e-3 * v(42)
d45 47 45 dls
be45 45 0 v=-20e-3 + v(3) -20.4e-3 * v(41)
be46 46 0 v=20e-3 + v(4) -20.4e-3 * v(42)
d46 46 47 dls
bg47 0 47 i=(v(3) +v(4) + 2 * v(34))*8e-3
r47 47 0 62.5
r48 47 5 0.1
c48 5 0 2p
.model nmi nmos af=1 kf=0.1f
.model dl d n=1 is=1f cjo=2f
.model dls d n=10m is=1f
.ends mcp6021



*a Device model created by analog_uprev for mc34182 on Fri Mar 2 03:59:17 IST 2001


.subckt mc34182 1 36 15 20 12
*START OF DECK
* +IN -IN OUT +VSS -VSS
*NODE: 1 36 15 20 12
*------INPUT STAGE-------
VOSBAL 7 29 1.89000000E-05
EU1 8 1 20 12 6.3E-07
EU2 8 7 5 12 -1
RB1 12 10 1 TC= 1.239585E+01 1.510697E-01
IB4 10 12 1.000000E-06
RB3 12 5 24286.6 TC= 1.00000000E-02 0.00000000E+00
IB3 12 5 4.117500E-08
G1 12 1 10 12 3.500000E-06
G2 12 36 10 12 2.500000E-06
RDM 36 29 1.000000E+13
RCM 31 13 2.000000E+11
CDM 36 29 3.000000p
G5 31 13 36 31 5p
G6 31 13 1 31 5p
*------INTERMEDIATE STAGE-------
GDM 31 16 29 36 1
GCM 31 16 13 31 -2.50593617E-05
R1 31 16 2.53086704E+02
C1 31 16 3.70373E-10
VCP 23 31 100
VCM 24 31 -100
DD1 16 23 MD2
.MODEL MD2 D XTI=1.000000P
* SPECTRE: + IMAX=1000
DD2 24 16 MD2
G3 31 6 16 31 -2.97914598E-06
R2 31 6 100000
C2 11 6 3E-11
RP1 31 20 1500
RP2 31 12 1500
*------OUTPUT STAGE-------
G4 31 11 6 31 -5.74726183E+00
ROUT 31 11 60
DD3 11 9 MD3
.MODEL MD3 D IS=10.0F XTI=1.0P N= 1.655574E-01
* SPECTRE: + IMAX=1000
DD4 9 11 MD4
.MODEL MD4 D IS=10.0F XTI=1.0P N= 1.655578E-01
* SPECTRE: + IMAX=1000
EU6 9 31 2 31 1
RO1 11 26 20
FF1 31 28 VFF1 1
VFF1 26 2 0.0
FF2 31 20 VFF2 -1
VFF2 33 31 0.0
FF3 12 31 VFF3 -1
VFF3 31 27 0.0
DD8 27 28 MID
DD7 28 33 MID
.MODEL MID D XTI=1.000000F N=1 IS=10.000000F
* SPECTRE: + IMAX=1000
VP 20 22 -14.3105
VM 21 12 -14.3105
DD5 25 22 MID
DD6 21 17 MID
VP1 20 30 1.70849
VM1 32 12 1.70849
DD9 2 30 MD9
DD10 32 15 MD9
.MODEL MD9 D XTI=1.000000F N=1 IS=10.000000F
* SPECTRE: + IMAX=1000
HH1 25 2 POLY(2) VIC2 VIC1 0 4200 0 3300 0 0 0 0 0 0
HH2 2 17 POLY(2) VIC3 VIC1 0 -4200 0 -3300 0 0 0 0 0 0
VIC1 37 3 0.0
VIC2 2 14 0.0
VIC3 14 15 0.0
VPP 37 0 1
RPP 3 0 100.0K
RO3 15 20 200.0MEG
RO2 15 12 200.0MEG
.ends

.subckt ad8611 99 1 2 50 65 45 51 80
* non-inverting input-1
* inverting input-2
* positive supply-99
* negative supply-50
* latch-80
* dgnd- 51
* q- 45
* qnot- 65
* input stage
q1 4 3 5 pix
q2 6 2 5 pix
ibias 99 5 800e-6
rc1 4 50 1e3
rc2 6 50 1e3
cl1 4 6 3e-13
cin 1 2 3p
vcm1 99 7 1.9
d1 5 7 dx
beos 3 1 v=1e-3 + v(31, 98)
*
* reference voltages
beref 98 0 v=0.5 * (v(99)+v(50))
rref 98 0 100e3
*
* cmrr=66db, zero at 1khz
becm1 30 98 v=0.5 * (v(1, 98) + v(2, 98))
rcm1 30 31 10e3
rcm2 31 98 5
ccm1 30 31 15.9e-9
*
* latch section
rx 80 51 100e3
e1 10 98 4 6 1
s1 10 11 80 51 slatch1
r2 11 12 1
c3 12 98 5.4p
e2 13 98 12 98 1
r3 12 13 500
*
* power supply section
bgsy1 99 52 i=4e-3 -2.6e-4 * v(99, 50)
bgsy2 52 50 i=3.7e-3 -.6e-3 * v(99, 50)
rsy 52 51 10
*
* gain stage av=250 fp=100mhz
g2 98 20 12 98 0.25
r1 20 98 1000
c1 20 98 10e-13
e3 97 0 99 0 1
e4 52 0 51 0 1
v1 97 21 dc 0.8
v2 22 52 dc 0.8
d2 20 21 dx
d3 22 20 dx
*
* q output
q3 99 41 46 nox
q4 47 42 51 nox
rb1 43 41 2000
rb2 40 42 2000
cb1 99 41 0.5p
cb2 42 51 1p
ro1 46 44 1
d4 44 45 dx
ro2 47 45 500
eo1 97 43 20 51 1
eo2 40 51 20 51 1
*
* q not output
q5 99 61 66 nox
q6 67 62 51 nox
rb3 63 61 2000
rb4 60 62 2000
cb3 99 61 0.5p
cb4 62 51 1p
ro3 66 64 1
d5 64 65 dx
ro4 67 65 500
eo3 63 51 20 51 1
eo4 97 60 20 51 1
.model pix pnp(bf=100,is=1e-16)
.model nox npn(bf=100,vaf=130,is=1e-14)
.model dx d(is=1e-14)
.model slatch1 SW ron=1e6 roff=500 VH=-0.35 VT=1.75
.ends ad8611

* TI LM393 VOLTAGE COMPARATOR "MACROMODEL" SUBCIRCUIT
* CREATED USING PARTS VERSION 4.03 ON 03/07/90 AT 14:17
* REV (N/A)
* CONNECTIONS: NON-INVERTING INPUT
* | INVERTING INPUT
* | | POSITIVE POWER SUPPLY
* | | | NEGATIVE POWER SUPPLY
* | | | | OPEN COLLECTOR OUTPUT
* | | | | |
.SUBCKT LM393 1 2 3 4 5
*
 F1 9 3 V1 1
 IEE 3 7 DC 100.0E-6
 VI1 21 1 DC .75
 VI2 22 2 DC .75
 Q1 9 21 7 QIN
 Q2 8 22 7 QIN
 Q3 9 8 4 QMO
 Q4 8 8 4 QMI
.MODEL QIN PNP(IS=800.0E-18 BF=2.000E3)
.MODEL QMI NPN(IS=800.0E-18 BF=1002)
.MODEL QMO NPN(IS=800.0E-18 BF=1000 CJC=1f TR=807.4E-9)
 E1 10 4 9 4 1
 V1 10 11 DC 0
 Q5 5 11 4 QOC
.MODEL QOC NPN(IS=800.0E-18 BF=20.29E3 CJC=1f TF=942.6p TR=543.8E-9)
 DP 4 3 DX
 RP 3 4 46.3E3
.MODEL DX D(IS=800.0E-18)
.ENDS LM393

*LMC6772BIM duble comparator
.subckt LMC6772BIM 1 2 3 4 5 6 7 8
x1 3 2 1 8 4 lmc6772b
x2 5 6 7 8 4 lmc6772b
.ends LMC6772BIM


*lmc6772b cmos comparator macro-model
* connections: non-inverting input
* | inverting input
* | | output
* | | | positive power supply
* | | | | negative power supply
* | | | | |
* | | | | |
.subckt lmc6772b 3 2 6 4 5
*
*open drain output
*low power consumption
*wide range of supply
*5us response time at 5v and 100mv overdrive
*
*----- input satge -----
rinb 2 18 1000
rina 3 19 1000
din1 5 18 dmod2
din2 18 4 dmod2
din3 5 19 dmod2
din4 19 4 dmod2
fin1 18 5 vtemp 0.75
fin2 19 5 vtemp 1.25
* input bias currents
cin1 2 10 1p
cin2 3 10 1p
* common mode input capacitance
rd1 18 11 5e+10
rd2 19 11 5e+10
* diff. input resistance
rcm 11 10 9.975e+12
* common mode input resistance
*----- supply current ------
*exx 10 5 17 5 1
bexx 10 5 v=v(17,5)
*eee 10 50 17 5 1
beee 10 50 v=v(17,5)
*ecc 40 10 4 17 1
becc 40 10 v=v(4,17)
raa 4 17 100meg
rbb 17 5 100meg
rslope 4 5 1e+12
* slope of supp. curr. vs. supp. volt.
gpwr 4 5 26 10 0.000006
* quiescent supply current
*----- vos bridge -----
*eox 120 10 31 32 2.0
beox 120 10 v=v(31,32)+v(31,32)
rcx 120 121 1k
rdx 121 10 1k
rbx 120 122 1k
rax 122 10 1.0280e+03
* input offset voltage
*----- delay stage -----
rx8 40 815 10k
ry8 815 50 5k
rba8 815 50 5k
rbb8 815 811 1k
*ein8 810 811 3 2 -1
bein8 810 811 v=v(2,3)
*evoss 814 811 122 121 1
bevoss 814 811 v=v(122,121)
*===
rca8 40 812 1k
rcb8 40 813 1k
dda8 812 813 ddel1
ddb8 813 812 ddel2
* delay time settings
cdb8 813 812 10p
rcdb8 813 812 1meg
*fset8 809 50 vsens1 1
bfset8 809 50 i=i(vsens1)
ccc 809 50 5p
qdn1 812 810 809 npnx
qdn2 813 814 809 npnx
.model npnx npn (bf=100 re=25)
.model ddel2 d (is=1e-6 tt=9.5u n=4.0)
.model ddel1 d (is=4e-6 tt=12.0u n=4.5)
gdm 10 57 812 813 1
*----- start-up -----
iset 10 24 1e-3
da1 24 23 dmod1
rbal 23 22 1000
*esupp 22 21 4 5 1.0
besupp 22 21 v=v(4,5)
voff 21 10 -1.25
da2 24 25 dmod1
vsens1 25 26 dc 0
rset 26 10 1k
cset 26 10 1e-10
*----- temp. coef. -----
*fset 10 31 vsens1 1.0
bfset 10 31 i=i(vsens1)
rvos 31 32 1k
rib 32 33 1k tc=0.0036363
* temp. co. of input currents
risc 33 34 1k
r001 34 10 1k
*----- cmrr -----
*ecmr 38 10 11 10 1.0
becmr 38 10 v=v(11,10)
vcmx 38 39 dc 0
rcm2 41 10 1meg
rcm1 39 41 1778.28
ccm 41 10 1.59155e-10
* cmrr vs. freq.
*----- psrr -----
*epsr 42 10 4 10 1.0
bepsr 42 10 v=v(4,10)
cdc1 43 42 10u
vpsx 43 44 dc 0
rpsr2 45 10 1meg
rpsr1 44 45 1000
cpsr 45 10 1.59155e-10
* psrr vs. freq.
*----- ib temp. -----
*ftemp 10 27 vsens1 1.0
bftemp 10 27 i=i(vsens1)
etemp 27 28 32 33 0.6184
dta 27 10 dmod2
dtb 28 29 dmod2
vtemp 29 10 dc 0
*----- out curr. sense & set -----
*fx 10 93 vox 1.0
bfx 10 93 i=i(vox)
dfx1 93 91 dmod1
vfx1 91 10 dc 0
dfx2 92 93 dmod1
vfx2 10 92 dc 0
*fpx 4 10 vfx1 1.0
bfpx 4 10 i=i(vfx1)
*fnx 10 5 vfx2 1.0
bfnx 10 5 i=i(vfx2)
*----- comm. input sense -----
dcx1 98 97 dmod1
dcx2 95 94 dmod1
rcx1 99 98 100
rcx2 94 99 100
vcxx 99 96 dc 0
*ecmx 96 10 11 10 1.0
becmx 96 10 v=v(11,10)
ecmp 40 97 26 10 0.2
ecmn 95 50 26 10 0.1
*----- inter-stage -----
*gos 10 57 122 121 1.0
bgos 10 57 i=v(122,121)
gosd 10 57 11 0 0.14m
fcmr 10 57 vcmx 1000
* low freq. cmrr
fpsr 10 57 vpsx 1600
* low freq. psrr
fcxx 57 10 vcxx 100
rdm 57 10 7255.2
c2 57 10 1.09683e-13
dlim1 52 57 dmod1
dlim2 57 51 dmod1
elimp 51 10 26 10 99.3
elimn 10 52 26 10 99.3
*
g2 58 10 57 10 1.0e-05
r2 58 10 13.7832
go2 59 10 58 10 10
* avol and slew-rate settings
ro2 59 10 1k
dclmp2 59 40 dmod1
dclmp1 50 59 dmod1
*----- output stage -----
*go3 10 71 59 10 1
bgo3 10 71 i=V(59,10)
ro3 71 10 1
rdp 720 72 100
rpo 79 81 28
ddp1 75 72 dmod1
ddp2 71 720 dmod1
c1 58 59 1e-10
voon 77 50 dc 0
qnp 77 72 79 pnp1
vox 86 6 dc 0
voop 40 76 dc 0
rnt 76 81 100meg
rpt 81 77 1meg
eneg 75 50 26 10 0.04
* output voltage swing settings
gsink 72 75 33 34 0.00045
* output current settings
roo 81 86 0.1
.model dmod1 d
.model dmod2 d (is=1e-17)
.model pnp1 pnp (bf=100 is=1e-13)
ra 73 40 10e6
rb 72 50 10e6
rc 72 73 10e6
rd 10 57 10e6
re 24 10 10e6
rf 93 10 10e6
*
.ends

*lmc7215 cmos comparator macro-model
*rev: 7/29/96 abg
* connections non-nverting input
* | inverting input
* | | output
* | | | positive power supply
* | | | | negative power supply
* | | | | |
.subckt lmc7215 3 2 6 4 5
* features:
* operates from single supply
* greater than rail-to-rail input common mode voltage range
* wide supply range
* rail-to-rail output swing
* offset voltage (max)=6mv
* low supply current= .7ua
* high output drive current
* caution: set .options gmin=1e-16 to model input bias current.
*----- input stage -----
rinb 2 18 1000
rina 3 19 1000
din1 5 18 dmod2
din2 18 4 dmod2
din3 5 19 dmod2
din4 19 4 dmod2
fin1 18 5 vtemp 0.75
fin2 19 5 vtemp 1.25
cin1 2 10 1p
cin2 3 10 1p
rd1 18 11 5e+11
rd2 19 11 5e+11
rcm 11 10 9.975e+12
*----- supply current ------
exx 10 5 17 5 1.0
eee 10 50 17 5 1.0
ecc 40 10 4 17 1.0
raa 4 17 100meg
rbb 17 5 100meg
rslope 4 5 1e+12
gpwr 4 5 26 10 9.5e-7
*----- vos -----
eox 120 10 31 32 2.0
rcx 120 121 1k
rdx 121 10 1k
rbx 120 122 1k
*rax 122 10 mrax 1.003e3
rax 122 10 mrax 1.0105e3
.model mrax r (tc1=4e-6)
*----- delay stage -----
rx8 40 815 10k
ry8 815 50 5k
rba8 815 50 5k
rbb8 815 811 1k
ein8 810 811 3 2 -10
evoss 814 811a 122 121 5
v_f 811a 811 0
rca8 40 812 0.1k
rcb8 40 813 0.1k
dda8 812 813 ddel1
ddb8 813 812 ddel2
cdb8 813 812 10p
rcdb8 813 812 1meg
fset8 809 50 vsens1 10
gset8x 809 50 4 5 0.02e-3
****************
ccc 809 50 5p
qdn1 812 810 809 npnx
qdn2 813 814 809 npnx
.model npnx npn (bf=100 re=50)
.model ddel1 d ( rs=1 tt=50u n=0.7 )
.model ddel2 d ( rs=1 tt=50u n=0.7 )
gdm 10 57 812 813 0.1
*----- start-up -----
iset 10 24 1e-3
da1 24 23 dmod1
rbal 23 22 1000
esupp 22 21 4 5 1.0
voff 21 10 -1.25
da2 24 25 dmod1
vsens1 25 26 dc 0
rset 26 10 1k
cset 26 10 1e-10
*----- temp. coef. -----
fset 10 31 vsens1 1.0
rvos 31 32 1k
rib 32 33 mrib 1k
.model mrib r (tc1=0.0029713)
risc 33 34 mrisc 1k
.model mrisc r (tc1=0)
r001 34 10 1k
*----- cmrr -----
ecmr 38 10 11 10 1.0
vcmx 38 39 dc 0
rcm2 41 10 1meg
rcm1 39 41 1e6
ccm 41 10 1.59155e-10
*----- psrr -----
epsr 42 10 4 10 1.0
cdc1 43 42 10u
vpsx 43 44 dc 0
rpsr2 45 10 1meg
rpsr1 44 45 1e6
cpsr 45 10 1.59155e-10
*----- ib temp. -----
ftemp 10 27 vsens1 1.0
etemp 27 28 32 33 0.632
dta 27 10 dmod2
dtb 28 29 dmod2
vtemp 29 10 dc 0
*----- out curr. sense & set -----
fx 10 93 vox 1.0
dfx1 93 91 dmod1
vfx1 91 10 dc 0
dfx2 92 93 dmod1
vfx2 10 92 dc 0
fpx 4 10 vfx1 1.0
fnx 10 5 vfx2 1.0
*----- input cm-range set -----
dcx1 98 97 dmod1
dcx2 95 94 dmod1
rcx1 99 98 100
rcx2 94 99 100
vcxx 99 96 dc 0
ecmx 96 10 11 10 1.0
ecmp 40 97 26 10 -5e-1
ecmn 95 50 26 10 0.1
*----- gain-stage -----
gos 10 57 122 121 1.0
fcmr 10 57 vcmx 1000
fpsr 10 57 vpsx 1000
fcxx 57 10 vcxx 100
rdm 57 10 2091
c2 57 10 6.59p
dlim1 52 57 dmod1
dlim2 57 51 dmod1
elimp 51 10 26 10 99.3
elimn 10 52 26 10 4.16e2
g2 58 10 57 10 6e-6
r2 58 10 79.7
go2 59 10 58 10 1e4
ro2 59 10 1k
dclmp2 59 40 dmod1
dclmp1 50 59 dmod1
*----- output stage -----
go3 10 71 59 10 1
ro3 71 10 5
rdn2 710 71 100
rdp 720 72 100
ddn1 73 74 dmod1
ddn2 73 710 dmod1
rno 78 81 1
rpo 79 81 1
ddp1 75 72 dmod1
ddp2 71 720 dmod1
c1 58 59 1e-10
voop 40 76 dc 0
voon 77 50 dc 0
qno 76 73 78 npn1
qnp 77 72 79 pnp1
*****************
mn1 79 350 77 77 mnmod w=40u l=1u
e_mn1 350 77 10 71 1.0
mp1 78 360 76 76 mpmod w=40u l=1u
e_mp1 76 360 71 10 1.0
*****************
vox 86 6 dc 0
rnt 76 81 100meg
rpt 81 77 1meg
epos 40 74 26 10 0.0
eneg 75 50 26 10 0.1
gsource 74 73 33 34 3.8e-4
gsink 72 75 33 34 3.5e-4
roo 81 86 30
.model dmod1 d
.model dmod2 d (is=1e-17)
.model npn1 npn (bf=100 is=1f)
.model pnp1 pnp (bf=100 is=1f)
.model mnmod nmos vto=0.5
.model mpmod pmos vto=-0.5
ra 73 40 10e6
rb 72 50 10e6
rc 72 73 10e6
rd 10 57 10e6
re 24 10 10e6
rf 93 10 10e6
e_test 100a 5 814 810 1.0
r_test 100a 5 1k
*
.ends lmc7215

* Connections non-inverting input
* | inverting input
* | | positive power supply
* | | | negative power supply (ground)
* | | | | output
* | | | | |
.SUBCKT lmv331 3 2 8 4 1
* Features:
* 2.7V and 5V Single-Supply Operation
* Low Supply Current: 60uA at VCC=5V
* Input Common-mode Range Includes Ground
*/////////////////////////////////////////
**************************************
vos 2 13 dc 0.0063
iee 8 10 dc 5e-4
rc_q1 11 4 303.44
rc_q2 12 4 303.44
re_q1 10 6 200
re_q2 10 7 200
q1 11 3 6 mq1
q2 12 13 7 mq2
gsup 8 4 33 4 1
** Sets Icc
rsup 8 45 750000
dsup 45 4 mds
iis 4 33 dc -0.000446667
ris 33 4 1 TC=-0.000373134, 0
g1 4 25 12 11 10
rcl 25 4 10
dcl1 25 26 md0
dcl2 27 25 md0
vcl1 26 4 dc 9.4
vcl2 4 27 dc 9.4
g2 4 16 25 4 0.01
d3 16 18 md1
d4 17 16 md1
v1 18 4 dc 0
v2 4 17 dc 0
gb 4 20 12 11 100
rb 20 4 10
h1 22 4 poly(1) v1 0 748.395 -5483.95
h2 4 21 poly(1) v2 0 1211.03 -10110.3
db1 20 22 mdb1
db2 21 20 mdb1
gt 4 30 20 4 1e-5
rt 30 4 100k
ct 30 4 4.18061p
gc 4 35 30 4 0.005172
rc 35 4 1k
go 4 40 35 4 -0.01
ro 4 40 10
eob 41 40 45 4 1
** Sets output Leakage
*rr 1 4 1meg
rr 1 4 3e9
co 40 4 1p
** Sets output Vsat
voe 42 4 dc 0.1
*voe 42 4 dc -0.0477
qo 1 41 42 mqo
.model mq1 pnp bf=9614.38 xtb=2.27169
.model mq2 pnp bf=10415.7 xtb=2.27169
.model md0 d is=1e-10 rs=0.01
.model md1 d is=1p
.model mdb1 d cjo=0.2p
.model mds d is=1e-16
.model mqo npn bf=100 rc=13.6145 isc=2.7e-09
+ br=10 nr=0.95 cjs=0.05p cje=0.01p
.ends lmv331

* pinout order +in -in +v -v out
* pinout order 1 3 5 2 4
.subckt lmv7271 1 3 5 2 4
r81 6 5 0.5
r82 2 7 0.5
r84 8 9 2.47e3
r85 10 11 0.5
r86 12 13 0.5
d21 4 5 dd
d22 2 4 dd
e25 12 0 2 0 1
e26 11 0 5 0 1
m24 14 15 7 7 nout l=3u w=2000u
m25 16 17 6 6 pout l=3u w=2000u
m26 18 18 10 10 pout l=3u w=2000u
m29 19 19 13 13 nout l=3u w=2000u
r96 20 17 100
r97 21 15 100
c32 9 4 8f
c36 4 0 0.1p
i28 18 19 0.5e-6
r105 4 16 50
r106 14 4 70
g16 22 23 8 23 -1e-3
g17 23 24 8 23 1e-3
g18 23 25 19 12 1e-3
g19 26 23 11 18 1e-3
d31 26 22 dd
d32 24 25 dd
r110 22 26 100e6
r111 25 24 100e6
r112 26 11 1e3
r113 12 25 1e3
e39 11 20 11 26 1
e40 21 12 25 12 1
r114 24 23 1e6
r115 25 23 1e6
r116 23 26 1e6
r117 23 22 1e6
r118 2 5 50e6
g20 5 2 27 0 -0.6e-6
d33 28 0 dd
v33 28 27 0.6
r119 0 27 1e6
i31 5 2 7.9u
i34 0 28 0.2u
e44 23 12 11 12 0.5
r120 29 30 1.2e6
d34 31 29 dd
d35 29 32 dd
v45 32 33 0.3
v46 34 31 0.3
c42 8 23 0.02p
r121 29 8 1.1e6
e45 34 23 35 0 1
e46 33 23 35 0 -1
d36 36 0 dd
i35 0 36 1.5e-6
v47 36 35 0.487
r122 0 35 1e9
d37 37 11 dd
d38 12 37 dd
g21 37 23 38 39 -0.2e-3
r123 23 37 3.5e6
c43 37 23 3p
m30 30 37 40 40 pout l=3u w=30u
m31 30 37 41 41 nout l=3u w=30u
g22 37 23 42 43 -0.2e-3
r124 44 45 2
r125 46 45 2
e47 47 0 11 0 1
e48 48 0 12 0 1
e49 49 0 50 0 1
r126 47 51 1e6
r127 48 52 1e6
r128 49 53 1e6
r129 0 51 100
r130 0 52 100
r131 0 53 100
e50 54 1 53 0 -0.65
r132 55 50 1e3
r133 50 56 1e3
c44 47 51 5p
c45 48 52 5p
c46 49 53 2p
e51 57 54 52 0 0.97
e52 58 57 51 0 0.97
m32 39 59 44 44 pin l=3u w=20u
m33 38 3 46 46 pin l=3u w=20u
r134 12 39 25e3
r135 12 38 25e3
c47 39 38 2p
c48 58 0 2p
c49 3 0 2p
v48 58 59 -0.3e-3
m34 43 60 61 61 nin l=3u w=20u
r136 62 61 2
m35 42 3 63 63 nin l=3u w=20u
r137 62 63 2
r138 43 11 25e3
r139 42 11 25e3
c50 43 42 2p
m36 64 65 66 66 pout l=6u w=500u
m37 67 68 11 11 pin l=6u w=500u
v50 11 65 1
m38 62 64 12 12 nin l=6u w=500u
m39 64 64 12 12 nin l=6u w=500u
e53 56 0 58 0 1
e54 55 0 3 0 1
m40 68 68 11 11 pin l=6u w=500u
i36 68 12 1e-6
v51 67 45 0
j6 69 58 69 jc
j7 69 3 69 jc
j8 3 70 3 jc
j9 58 70 58 jc
c51 58 3 4p
i37 58 0 10e-9
i38 3 0 10.2e-9
r140 66 67 1e3
v53 11 69 0.1
v54 70 12 0.1
v55 40 23 2.5
v56 41 23 -2.5
v58 59 60 0.5e-3
g23 5 2 5 2 -0.25e-6
.model dd d
.model jc njf is=1e-18
.model pin pmos kp=200u vto=-0.7
.model nin nmos kp=200u vto=0.7
.model nout nmos kp=200u vto=0.7 lambda=0.01
.model pout pmos kp=200u vto=-0.7 lambda=0.01
.ends


* Ultra-Fast, 7nS Propagation Delay (5mV overdrive)
* Rail-to-Rail Input Voltage Range
* Low Power: 8.5mA Per Comparator (+5V)
* Single 3V/5V Supply Operation
* Available in 8-Pin uMAX/SO (Single MAX961)
* 8-Pin uMAX/SO (Dual MAX962)
*
* PART NUMBER DESCRIPTION
* ___________ ___________________________________
* MAX961 Single, int HYST, 7nS delay, latch
* MAX962 Dual, int HYST, 7nS delay
*
*
* ////////////// MAX961 MACROMODEL //////////////////
*
*====> REFER TO MAX961 DATA SHEET <====
*
* connections: +IN
* | -IN
* | | V+
* | | | V-
* | | | |
* | | | | LE
* | | | | | GND QOUT QOUTCOMP
* | | | | | | | |
.subckt max961 1 2 3 4 352 300 433 483
*
* NOTE1: QOUTCOMP IS ACTUALLY COMPLIMENTED QOUT.
* NOTE2: INCLUDE
* .OPTION ITL4=50 RELTOL=0.001
* TO ENHANCE CONVERGENCE.
***
 f101 3 9 v1 1
 Iee100 7 400 dc 100.0E-6
 q101 9 20 7 qin
 Q2 8 21 7 qin
 Q3 9 8 399 qmo
 Q4 8 8 399 qmi
 VMB 400 4 0V
 VPB 399 3 0V
***================
VIN1 2 23 .95
VIN2 1 25 .95
***
IPSUP 3 0 8.5ma
INSUP 0 4 8.5ma
***
EHYST 23 20 POLY(1) 0 60 0 1
VS2 21 25 0V
.model qin NPN(Is=800.0E-18 Bf=3.33)
.model qmi PNP(Is=800.0E-18 Bf=1002)
.model qmo PNP(Is=800.0E-18 Bf=1000 Cjc=1f Tr=3.3E-9)
.MODEL PMOS PMOS
*(VTO=-1.7 KP=1.8E-3)
 e1 10 4 3 9 2
 v1 10 11 dc 0
 q5 5 11 44 qoc
 vshift 44 4 0v
 *clamps output, Q5 collector load.
 R55 3 5 1meg
 DP5 5 3 DP
 DP6 4 5 DP
***============= Hysterisis section
GH 0 51 32 101 1E-6
ECM 101 0 3 4 0.5
RCM 101 0 10MEG
****==============COMPARATOR POINT FOR CREATING LOGIC OUTPUT, +-1, hi,lo.
RH1 3 51 1E11
RH2 4 51 1E11
DP1 51 52 DP
DP2 53 51 DP
VP1 52 0 1V
VP2 53 0 -1V
***=================
IHYST 55 0 -1E-9
*GENERATES 1MV OF HYST. TO MIMIC SMOOTH TRANSITION.
RREF 55 0 1E6
*LOGIC OUTPUT, NODE 60 ALTERS THE POLARITY, SO 55 SHOULD ALWAYS BE POS.
GMULT 60 0 POLY(2) 51 0 55 0 0 0 0 0 1E-6
RMULT 60 0 1E6
*================
*EH 3 98 3 4 0.5
VVIRTUAL 98 0 0V
G12 98 32 5 0 7.04E-3
R15 98 32 140
*========================
.model qoc NPN(Is=800.0E-18 Bf=181 Cjc=1f Tf=42p Tr=2E-9)
.MODEL DX D(Is=800.0E-18)
.MODEL DP D(N=0.001)
*=======================
***== MODELS USED==***
.MODEL DX2 D(IS=1f n=0.001)
*** **********************************
*** **********************************
VCONNECT 302 32 0V
* AND1
* 302, 312 is the input, output is 333.
RN1 302 303 1MEG
DA1 305 330 DP
DA2 300 305 DP
RA2 304 305 1MEG
EA1 304 300 POLY(1) 302 303 0 10
***
RN10 312 303 1MEG ;node 303 is 1.4volts.
DA10 315 330 DP
DA12A 300 315 DP
RA12 314 315 1MEG
EA11 314 300 POLY(1) 312 303 0 -10
*-10 COMPLIMENTS LE, SO LOW IS TRANSPARENT
***
GAMULT 300 331 POLY(2) 305 300 315 300 0 0 0 0 1E-6
RAMULT 331 300 1G
DA5 331 330 DP
DA6 300 331 DP
EOA 332 300 331 300 1
ROA 332 333 100
***
* AND2
* 352, 362 is the input, output is 383.
RN12 352 303 1MEG
ILE 352 300 -20UA
DA12 355 380 DP
DA22 300 355 DP
RA22 354 355 1MEG
EA12 354 300 POLY(1) 352 303 0 -10
*-10 COMPLIMENTS LE, SO LOW IS TRANSPARENT
***
RN102 362 303 1MEG ;node 303 is 1.4volts.
DA102 365 380 DP
DA122 300 365 DP
RA122 364 365 1MEG
EA112 364 300 POLY(1) 362 303 0 10
***
GAMULT2 300 381 POLY(2) 355 300 365 300 0 0 0 0 1E-6
RAMULT2 381 300 1G
DA52 381 330 DP
DA62 300 381 DP
EOA2 382 300 381 300 1
ROA2 382 383 100
***
* OR1
* 402,412 are the inputs, output is 433
RO1 402 403 1MEG
VO14 403 300 1.4V
VO1 430 300 5V
DO1 405 430 DP
DO2 300 405 DP
RO2 404 405 1MEG ; WAS 1MEG
EO1 404 300 POLY(1) 402 403 0 10
***
RO10 412 403 1MEG ;node 403 is 1.4volts.
DO10 415 430 DP
DO12 300 415 DP
RO12O 414 415 300 ; WAS 1MEG
EO11 414 300 POLY(1) 412 403 0 10
***
GOADD1 300 431 POLY(2) 405 300 415 300 0 1E-6 1E-6
ROADD 431 300 1G
DO5 431 3 DP
DO6 300 431 DP
EOO 432 300 431 300 1
ROO 432 433 125 ; OUTPUT IS 433
* OR2
* 452,462 are the inputs, output is 488
RO12 452 403 1MEG
VO12 480 300 5V
DO12O 455 480 DP
DO22 300 455 DP
RO22 454 455 1MEG ; WAS 1MEG
EO12 454 300 POLY(1) 452 403 0 10
***
RO102 462 403 1MEG ;node 403 is 1.4volts.
DO102 465 480 DP
DO122 300 465 DP
RO122 464 465 300 ; WAS 1MEG
EO112 464 300 POLY(1) 462 403 0 10
***
GOADD12 300 481 POLY(2) 455 300 465 300 0 1E-6 1E-6
ROADD2 481 300 1G
DO52 481 3 DP
*** was 3 was 480
DO62 300 481 DP
EOO2 482 300 481 300 1
ROO2 482 483 125 ; OUTPUT IS 483
* INVERTER1
*INPUT 602, OUTPUT 605
RIN1 602 303 1MEG
DIA1 605 630 DP
DIA2 300 605 DP
vi1 630 300 5v
RIA2 604 605 10k
EIA1 604 300 POLY(1) 602 303 0 -10
* INVERTER2
*INPUT 612, OUTPUT 615
RIN12 612 303 1MEG
DIA12 615 640 DP
DIA22 300 615 DP
vi12 640 300 5v
RIA22 614 615 10k
EIA12 614 300 POLY(1) 612 303 0 -10
* INVERTER3
*INPUT 622, OUTPUT 625
RIN13 622 303 1MEG
DIA13 625 650 DP
DIA23 300 625 DP
vi13 650 300 5v
RIA23 624 625 10k
EIA13 624 300 POLY(1) 622 303 0 -10
*** ********BIASING****************
*** *******************************
VA14 303 300 1.4V
VA1 330 300 5V
*VDGND 300 0 0V ; **** Will be brought out in subckt.
***
* CONNECTIONS *********************
VSH1 605 362 0V
VSH2 312 352 0V
VSH3 333 402 0V
VSH4 383 462 0V
VSH5 433 622 0V
VSH6 625 452 0V
VSH7 483 612 0V
VSH8 615 412 0V
VSH9 302 602 0V
.ENDS max961

*
* connections: non-inverting input
* | inverting input
* | | positive power supply
* | | | negative power supply
* | | | | output
* | | | | |
* | | | | |
.SUBCKT LM7301 3 2 4 5 6
*
*Features
*Greater than Rail-to-Rail Input
*Wide Supply Range 1.8 to 32 Volts
*Rail-to-Rail Output Swing
**************************************
*
EOX 120 10 31 32 2.0
RCX 120 121 1K
RDX 121 10 1K
RBX 120 122 1K
GOS 10 57 122 121 1.0
RVOS 31 32 1K
RINB 2 18 1000
RINA 3 19 1000
DIN1 5 18 DMOD2
DIN2 18 4 DMOD2
DIN3 5 19 DMOD2
DIN4 19 4 DMOD2
EXX 10 5 17 5 1.0
EEE 10 50 17 5 1.0
ECC 40 10 4 17 1.0
RAA 4 17 100MEG
RBB 17 5 100MEG
ISET 10 24 1e-3
DA1 24 23 DMOD1
RBAL 23 22 1000
ESUPP 22 21 4 5 1.0
VOFF 21 10 -1.25
DA2 24 25 DMOD1
VSENS1 25 26 DC 0
RSET 26 10 1K
CSET 26 10 1e-10
FSET 10 31 VSENS1 1.0
R001 34 10 1K
FTEMP 10 27 VSENS1 1.0
DTA 27 10 DMOD2
DTB 28 29 DMOD2
VTEMP 29 10 DC 0
ECMR 38 10 11 10 1.0
VCMX 38 39 DC 0
RCM2 41 10 1MEG
EPSR 42 10 4 10 1.0
CDC1 43 42 10U
VPSX 43 44 DC 0
RPSR2 45 10 1MEG
FCXX 57 10 VCXX 100
DCX1 98 97 DMOD1
DCX2 95 94 DMOD1
RCX1 99 98 100
RCX2 94 99 100
VCXX 99 96 DC 0
ECMX 96 10 11 10 1.0
DLIM1 52 57 DMOD1
DLIM2 57 51 DMOD1
ELIMP 51 10 26 10 99.3
GDM 10 57 3 2 1
C1 58 59 1e-10
DCLMP2 59 40 DMOD1
DCLMP1 50 59 DMOD1
RO2 59 10 1K
GO3 10 71 59 10 1
RO3 71 10 1
DDN1 73 74 DMOD1
DDN2 73 710 DMOD1
DDP1 75 72 DMOD1
DDP2 71 720 DMOD1
RDN2 710 71 100
RDP 720 72 100
VOOP 40 76 DC 0
VOON 77 50 DC 0
QNO 76 73 78 NPN1
QNP 77 72 79 PNP1
RNO 78 81 1
RPO 79 81 1
VOX 86 6 DC 0
RNT 76 81 100MEG
RPT 81 77 1MEG
FX 10 93 VOX 1.0
DFX1 93 91 DMOD1
VFX1 91 10 DC 0
DFX2 92 93 DMOD1
VFX2 10 92 DC 0
FPX 4 10 VFX1 1.0
FNX 10 5 VFX2 1.0
RAX 122 10 MRAX 1.012000e+03
* Input Offset Voltage
.MODEL MRAX RES (TC1=4e-06)
FIN1 18 5 VTEMP 0.996111
FIN2 19 5 VTEMP 1.00389
* Input Bias Currents
CIN1 2 10 1p
CIN2 3 10 1p
* Common Mode Input Capacitance
RD1 18 11 5e+06
RD2 19 11 5e+06
* Diff. Input Resistance
RCM 11 10 3.65e+07
* Common Mode Input Resistance
FCMR 10 57 VCMX 22.3872
* Low Freq. CMRR
FPSR 10 57 VPSX 11.2468
* Low Freq. PSRR
RSLOPE 4 5 1.25e+06
* Slope of Supp. Curr. vs. Supp. Volt.
GPWR 4 5 26 10 0.000716
* Quiescent Supply Current
ETEMP 27 28 32 33 0.240625
RIB 32 33 MRIB 1K
* Temp. Co. of Input Currents
.MODEL MRIB RES (TC1=0.00163946)
RISC 33 34 MRISC 1K
.MODEL MRISC RES (TC1=-0.002)
RCM1 39 41 223.872
CCM 41 10 7.95775e-11
* CMRR vs. Freq.
RPSR1 44 45 56.2341
CPSR 45 10 1.59155e-10
* PSRR vs. Freq.
ELIMN 10 52 26 10 100.087
RDM 57 10 2285.1
C2 57 10 8.70612p
ECMP 40 97 26 10 0.4
ECMN 95 50 26 10 0.4
G2 58 10 57 10 1.27e-06
R2 58 10 344.581
GO2 59 10 58 10 64
* Avol and Slew-Rate Settings
EPOS 40 74 26 10 0
ENEG 75 50 26 10 0.1
* Output Voltage Swing Settings
GSOURCE 74 73 33 34 0.000115
GSINK 72 75 33 34 9.8e-05
* Output Current Settings
ROO 81 86 47.5
.MODEL DMOD1 D
.MODEL DMOD2 D (IS=1e-17)
.MODEL NPN1 NPN (BF=100 IS=1p)
.MODEL PNP1 PNP (BF=100 IS=1p)
.ENDS LM7301


***** AD8055an SPICE model Rev A SMR/ADI 8-26-97
* This model will give typical performance characteristics
* for the following parameters;
* closed loop gain and phase vs bandwidth
* output current and voltage limiting
* offset voltage (is static, will not vary with vcm)
* ibias (again, is static, will not vary with vcm)
* slew rate and step response performance
* (slew rate is based on 10-90% of step response)
* current on output will be reflected to the supplies
* vnoise, referred to the input
* inoise, referred to the input

* distortion is not characterized

* Node assignments
* non-inverting input
* | inverting input
* | | positive supply
* | | | negative supply
* | | | | output
* | | | | |
.SUBCKT AD8055an 1 2 99 50 17

* input stage *

q1 4 15 13 qn1
q2 5 2 14 qn1
i1 3 50 0.1
i2 50 99 0.1
r3 99 4 14.96
r4 99 5 14.96
r5 13 3 14.44
r6 14 3 14.44
cpole 4 5 26.61pf
cin1 1 98 2pf
cin2 2 98 2pf

* error stage

eos 1 15 poly(2) 30 98 92 0 3e-3 1 25e-9
gnoise1 98 1 33 98 1e-4
gnoise2 98 2 33 98 1e-4

* gain/bw stage

g1 99 9 poly(1) 5 4 0 0.067 0 0.022
g2 50 9 poly(1) 5 4 0 0.067 0 0.022
rgain1 99 9 53078
rgain2 50 9 53078
cgain1 99 9 71.42pf
cgain2 50 9 71.42pf
vlim1 99 18 2.46
vlim2 19 50 2.46
dlim1 9 18 d1
dlim2 19 9 d1

* vnoise stage *

rnoise1 39 98 0.46e-3
vnoise1 39 98 0
vnoise2 31 98 0.56
dnoise1 31 39 dn

fnoise1 30 98 vnoise1 1
rnoise2 30 98 1

* inoise stage *

rnoise3 32 98 0.166e-3
vnoise3 32 98 0
vnoise4 34 98 0.545
dnoise2 34 32 dn

fnoise2 33 98 vnoise3 1
rnoise4 33 98 1

* buffer stage

gbuf 98 12 9 98 1e-2
rbuf 98 12 100

* reference stage

eref1 98 0 poly(2) 99 0 50 0 0 0.5 0.5
eref2 97 0 poly(2) 1 0 2 0 0 0.5 0.5

* common mode rejection*

ecm1 96 0 98 97 23809
rcm2 96 95 23809
rcm1 95 94 1
lcm1 94 0 3.79e-6

ecm2 93 0 95 0 3332
rcm3 93 92 3332
rcm4 92 89 1
lcm2 89 0 0.53e-6

* output current reflected to supplies *

fcurr 98 40 vout 1
vcur1 26 98 0
vcur2 98 27 0
dcur1 40 26 d1
dcur2 27 40 d1

* output stage

vo1 99 90 0
vo2 91 50 0
fout1 0 99 poly(2) vo1 vcur1 -5.4e-3 1 -1
fout2 50 0 poly(2) vo2 vcur2 -5.4e-3 1 -1
gout1 90 16 12 99 1
gout2 91 16 12 50 1
rout1 16 90 1
rout2 16 91 1
vout 16 17 0
viclmp1 12 20 0.703
viclmp2 21 12 0.703
diclmp1 16 20 d1
diclmp2 21 16 d1

.model qn1 npn(bf=1e5)
.model d1 d()
.model dn d(af=1 kf=1e-8)
.ends ad8055an

.SUBCKT AD8330 CMGN CMOP CNTR COMM ENBL INHI INLO MODE OFST OPHI OPLO VDBS VMAG VPOS VPSI VPSO
.ic V(inHI)=2 v(inLO)=4
V_V2 N689226 N685811 0.175
C1 COMM INLO 4p
R18 N729515 GAINLO 10K
R1 VDBS COMM 100Meg
D2 INLO VPSI Dbreak
G11 VPSO COMM TABLE { V(CNTR2, COMM) }
+ ( (0,0)(2.7,1.48m)(6,1.48m) )
G16 VPSO COMM TABLE { V(N712728, OPHI) }
+ ( (-100,-1u)(0,0)(75,1) )
E_LIMIT1 DBS 0 VALUE {LIMIT(V(N642867),0,1.5)}
C7 0 N1013152 10p
R23 N1028228 N1013152 1
R13 N829851 OFST 480
G14 VPSO COMM TABLE { V(N897552, COMM) }
+ ( (0,0)(2.7,18.5m)(6,18.5m) )
R14 0 N633004 1k
G18 N877957 N1013152 TABLE { V(N877957, N1013152) }
+ ( (-1000,-10n)(0,0)(1m,10m) )
R4 INHI N632402 500
E17 N985107 0 GAIN3 0 0.5
E13 0 N729515 VALUE {V(N699213)+V(COMM,CNTR)}
R21 N985107 N699213 1k
E14 LINGAIN2 0 VALUE { if(V(N877957, 0)>0.5,V(LINGAIN),0) }
C6 0 N940675 300p
E4 GAIN1 0 VALUE {V(N633004)*V(DBSGAIN,0)}
G13 COMM CMGN TABLE { V(CNTR2, COMM) }
+ ( (0,0)(2.7,200u)(6,200u) )
E12 N707872 0 VALUE {V(N699213)+V(CNTR,COMM)}
G8 N689651 GAINLO TABLE { V(N689651, GAINLO) }
+ ( (-100,-1n)(0,0)(1m,10m)(2m,1) )
C5 0 N699213 0.5p
R17 N707872 GAIN4 10K
G12 COMM VMAG TABLE { V(CNTR2, COMM) }
+ ( (0,0)(2.7,100u)(6,100u) )
L2 N6584861 N662042 0.015u
E3 CNTR2 COMM VALUE { if(V(ENBL, COMM)>0.5,V(VPSO),0) }
G7 GAINLO N685811 TABLE { V(GAINLO, N685811) }
+ ( (-100,-1n)(0,0)(1m,10m)(2m,1) )
R16 N6584861 GAIN3 12.0
R24 OFST COMM 1G
R8 MODE VPOS 1Meg
R6 OPHI N712728 75
G4 MCLAMP GAIN3 TABLE { V(MCLAMP, GAIN3) }
+ ( (-100,-1n)(0,0)(1m,100m) )
E11 N695171 0 COMM 0 1
E1 N941057 0 N621192 0 1.6667
R22 N941057 N940675 1K
E9 MCLAMP 0 0 LINGAIN 2
R19 ENBL COMM 1E9
E16 N718317 COMM GAINLO 0 1
E20 N818867 COMM CNTR COMM 1.5
V4 N818867 N829851 0.75
X_H1 N632402 OFST N633004 N1033056 AD8330_H1
E15 N712728 COMM GAIN4 0 1
V_V3 N689651 N695171 0.175
D3 COMM INHI Dbreak
G3 GAIN3 PCLAMP TABLE { V(GAIN3, PCLAMP) }
+ ( (-100,-1n)(0,0)(1m,100m) )
G5 GAIN4 N685811 TABLE { V(GAIN4, N685811) }
+ ( (-100,-1n)(0,0)(1m,10m)(2m,1) )
G9 CMOP CNTR CNTR2 CMOP 125u
D4 COMM INLO Dbreak
G17 VPSO COMM TABLE { V(N718317, OPLO) }
+ ( (-100,-1u)(0,0)(75,1) )
R15 OPLO N718317 75
R12 CMOP CNTR 4K
G6 N689651 GAIN4 TABLE { V(N689651, GAIN4) }
+ ( (-100,-1n)(0,0)(1m,10m)(2m,1) )
R9 CMGN COMM 1K
R2 COMM VMAG 5K
E6 GAIN2 0 VALUE {V(GAIN1)*V(LINGAIN2,0)}
E2 N621192 0 VALUE { if(V(MODE, COMM)>=1.5,V(DBS),1.5-V(DBS)) }
X_H2 OFST N632210 N1033056 0 AD8330_H2
E18 N642867 0 VALUE {V(VDBS,COMM)+V(COMM,CMGN)}
E10 N689226 0 VPSO COMM 1
R20 N1013152 N877957 2880
E21 N897552 COMM VALUE { if(V(ENBL, COMM)>2.3,V(VPSO),0) }
E8 PCLAMP 0 LINGAIN 0 2
G15 N941057 N940675 TABLE { V(N941057, N940675) }
+ ( (-1000,-10n)(0,0)(1m,1000m) )
E5 N1028228 0 VALUE { if(V(ENBL, COMM)>2.3,1,0) }
D1 INHI VPSI Dbreak
E7 LINGAIN 0 TABLE { V(N6574242) }
+ ( (0,0)(0.5,1)(1,1.95)(2,3.7)(3,5.5)(4,7.2)(4.7,8.4)(4.9,8.5)(5,8.5) )
R5 INLO N632210 500
E_ABM1 DBSGAIN 0 VALUE { 10**(V(N940675)) }
C2 COMM INHI 4p
C4 0 N877957 100p
G2 GAIN2 N662042 TABLE { V(GAIN2, N662042) }
+ ( (-100,-210m)(-1m,-200m)(0,0)(1m,200m)(100,210m) )
C3 0 GAIN3 100p
G10 VPOS COMM TABLE { V(VPOS, COMM) }
+ ( (-100,-1n)(0,0)(2.7,20u)(6,20u) )
E19 N6574242 0 VALUE {V(VMAG,COMM)+V(COMM,CMGN)}
.model Dbreak D Is=1e-10 Cjo=.01pF Rs=1m N=1 bv=5
rmy N662042 0 1Gig
.subckt AD8330_H1 1 2 3 4
H1 3 4 V1 500
V1 1 2 0V
.ends AD8330_H1
.subckt AD8330_H2 1 2 3 4
H2 3 4 V2 500
V2 1 2 0V
.ends AD8330_H2
.ENDS AD8330


* Rail-to-Rail Outputs
* Ultra-Low-Voltage
* Available in 8-Pin SO/uMAX (MAX965/MAX966)
* 16-Pin Narrow-SO/QSOP (MAX969)
* 14-Pin SO/16-Pin QSOP (MAX970)
*
*
* PART NUMBER DESCRIPTION
* ___________ _____________________________________
* MAX965 Single, With (1.235V) Internal Reference and Programmable Hysteresis
* connections: +IN
* | -IN
* | | V+
* | | | V-
* | | | | HYST.
* | | | | | REF.
* | | | | | | OUT.
* | | | | | | |
.subckt max965 1 2 3 4 49 235 97
*
 f101 3 9 v1 1
 iee100 7 400 dc 100.0E-6
 q101 9 20 7 qin
 q2 8 21 7 qin
 q3 9 8 399 qmo
 q4 8 8 399 qmi
 VMB 400 4 0V
 VPB 399 3 0V
RIN1 2 23 2K
RIN2 1 25 2K
DCM2 70 3 DP
DCM1 4 24 DP
VCM1 70 24 1.3V
DCM3 4 26 DP
VCM2 71 26 1.3V
DCM4 71 3 DP
IPSUP 0 3 2.5523948MA
INSUP 0 4 -2.5523948MA
EHYST 23 20 POLY(1) 0 60 0 1
VS2 21 25 0V
.model qin NPN(Is=800.0E-18 Bf=5.000E6)
.model qmi PNP(Is=800.0E-18 Bf=1002)
.model qmo PNP(Is=800.0E-18 Bf=1000 Cjc=1f Tr=6.662E-6)
.MODEL PMOS PMOS
*(VTO=-1.7 KP=1.8E-3)
 e1 10 4 3 9 2
 v1 10 11 dc 0
 q5 5 11 44 qoc
 vshift 44 4 0v
 R55 3 5 10K
 DP5 5 3 DP
 DP6 4 5 DP
***============= Hysterisis section
RINH 49 50 200
I50 50 0 12ua
D50 50 200 DX
EREFER 200 0 235 4 1
D51 4 50 DX
GH 0 51 97 0 1E-6
RH1 3 51 1E9
RH2 4 51 1E9
DP1 51 52 DP
DP2 53 51 DP
VP1 52 0 1V
VP2 53 0 -1V
***=================
GHYST 55 0 50 0 1E-6
GREF 0 55 235 4 1E-6
RREF 55 0 1E6
DP10 55 56 DP
DP20 57 55 DP
VP10 56 0 50MV
VP20 57 0 0MV
*LOGIC OUTPUT, NODE 60 ALTERS THE POLARITY, SO 55 SHOULD ALWAYS BE POS.
GMULT 60 0 POLY(2) 51 0 55 0 0 0 0 0 1E-6
RMULT 60 0 1E6
*EH 3 98 3 4 0.5
VVIRTUAL 98 0 0V
F5 3 38 VA8 1
D9 40 38 DX
D10 38 3 DX
VA7 3 40 0
F6 3 4 VA7 1
G12 98 32 5 0 7.04E-3
R15 98 32 142
D3 36 41 DX
D4 42 37 DX
V5 34 36 -.63
V4 37 34 -.65
****V4,V5 SET ISC
R16 41 35 300
R17 42 35 300
E11 3 33 3 32 1
VA8 33 34 0V
VL 35 97 0
.model qoc NPN(Is=800.0E-18 Bf=2.069E3 Cjc=1f Tf=25.53E-9 Tr=6.983E-6)
.MODEL DX D(Is=800.0E-18)
.MODEL DP D(N=0.001 rs=100)
* MAX921-924 VOLTAGE REF.
VREF 301 4 1.235V
VSHORT 235 302 0V
RIN200 301 302 1MEG
F226 3 4 VA227 1
F225 3 238 VA228 1
D229 240 238 DX
D230 238 3 DX
VA227 3 240 0
G232 0 232 301 302 1E-3
R235 0 232 1E6
C235 0 232 6800PF
D223 232 236 DX2
D224 237 232 DX2
V225 235 237 1.8mV
V224 236 235 .9mV
R236 234 235 60
E221 3 233 3 232 1
VA228 233 234 0V
.MODEL DX2 D(IS=1f n=0.001)
*.MODEL DX D(IS=1f)
.ends

.Subckt BAS70_06 k1 a k2
d1 a k1 b70
d2 a k2 b70
.model b70 D is=3n rs=29 n=1.06 tt=25p cjo=1.55p vj=.36 m=.29 eg=.68 xti=1.8 fc=.5 bv=70 ibv=100n
.ends

.Subckt BAS70_05 a1 k a2
d1 a1 k b70
d2 a2 k b70
.model b70 D is=3n rs=29 n=1.06 tt=25p cjo=1.55p vj=.36 m=.29 eg=.68 xti=1.8 fc=.5 bv=70 ibv=100n
.ends

.Subckt BAS70_04 a ka k
d1 a ka b70
d2 ka k b70
.model b70 D is=3n rs=29 n=1.06 tt=25p cjo=1.55p vj=.36 m=.29 eg=.68 xti=1.8 fc=.5 bv=70 ibv=100n
.ends

.SUBCKT BAT54S a ka k
R1 a ka 3.6E+07
D1 a ka BA
R2 ka k 3.6E+07
D2 ka k BA
.MODEL BA D IS=211.7n N=1.016 BV=36 IBV=1.2u RS=2.64 CJO=11.14p VJ=.2013 M=.3868 FC=0 EG=.69 XTI=2
.ends

* 70v 215ma 3us si dual switching diode pkg:sot-23
.subckt bav199 a ka k
d1 a ka d199
d2 ka k d199
.model d199 d is=0.5n n=1.75 bv=70 ibv=1.4u cjo=2.7p vj=.75 m=.333 tt=4u
.ends bav199

.subckt bav99 a ka k
.model d d bv=164 ibv=13m is=5n rs=1.9 n=2 tt=8n eg=1.11 xti=3 cjo=0.8p m=0.33 vj=0.75
d1 a ka d
d2 ka k d
.ends bav99


.subckt bav23s a ka k
.MODEL d D IS=237n RS=0.260 BV=200 IBV=100n CJO=3.05p M=0.333 N=2.69 TT=72.0n
d1 a ka d
d2 ka k d
.ends bav23s



.Subckt Sw10to1 com N1 N2 N3 N4 N5 N6 N7 N8 N9 N10 p status=1
v1 p0 0 dc {status}
r1 p p0 1k
c1 n1 0 0.1p
c2 com 0 0.1p
c3 n2 0 0.1p
c4 n3 0 0.1p
c5 n4 0 0.1p
c6 n5 0 0.1p
c7 n6 0 0.1p
c8 n7 0 0.1p
c9 n8 0 0.1p
c10 n9 0 0.1p
c11 n10 0 0.1p
c12 n11 0 0.1p
c13 n12 0 0.1p
b1 p1 0 v=u( (v(p)-0.6)*(1.4-v(p)) )
b2 p2 0 v=u( (v(p)-1.6)*(2.4-v(p)) )
b3 p3 0 v=u( (v(p)-2.6)*(3.4-v(p)) )
b4 p4 0 v=u( (v(p)-3.6)*(4.4-v(p)) )
b5 p5 0 v=u( (v(p)-4.6)*(5.4-v(p)) )
b6 p6 0 v=u( (v(p)-5.6)*(6.4-v(p)) )
b7 p7 0 v=u( (v(p)-6.6)*(7.4-v(p)) )
b8 p8 0 v=u( (v(p)-7.6)*(8.4-v(p)) )
b9 p9 0 v=u( (v(p)-8.6)*(9.4-v(p)) )
b10 p10 0 v=u( (v(p)-9.6)*(10.4-v(p)) )
s1 com n1 p1 0 sw1 off
s2 com n2 p2 0 sw1 off
s3 com n3 p3 0 sw1 off
s4 com n4 p4 0 sw1 off
s5 com n5 p5 0 sw1 off
s6 com n6 p6 0 sw1 off
s7 com n7 p7 0 sw1 off
s8 com n8 p8 0 sw1 off
s9 com n9 p9 0 sw1 off
s10 com n10 p10 0 sw1 off
.model sw1 sw vt=0.5 vh=0.1 ron=0.1 roff=10gig
.ends Sw10to1

.Subckt Sw10to1Short com N1 N2 N3 N4 N5 N6 N7 N8 N9 N10 p status=1
v1 p0 0 dc {status}
r1 p p0 1k
c1 n1 0 0.1p
c2 com 0 0.1p
c3 n2 0 0.1p
c4 n3 0 0.1p
c5 n4 0 0.1p
c6 n5 0 0.1p
c7 n6 0 0.1p
c8 n7 0 0.1p
c9 n8 0 0.1p
c10 n9 0 0.1p
c11 n10 0 0.1p
b1 p1 0 v=u( (v(p)-0.4)*(1.6-v(p)) )
b2 p2 0 v=u( (v(p)-1.4)*(2.6-v(p)) )
b3 p3 0 v=u( (v(p)-2.4)*(3.6-v(p)) )
b4 p4 0 v=u( (v(p)-3.4)*(4.6-v(p)) )
b5 p5 0 v=u( (v(p)-4.4)*(5.6-v(p)) )
b6 p6 0 v=u( (v(p)-5.4)*(6.6-v(p)) )
b7 p7 0 v=u( (v(p)-6.4)*(7.6-v(p)) )
b8 p8 0 v=u( (v(p)-7.4)*(8.6-v(p)) )
b9 p9 0 v=u( (v(p)-8.4)*(9.6-v(p)) )
b10 p10 0 v=u( (v(p)-9.4)*(10.6-v(p)) )
s1 com n1 p1 0 sw1 off
s2 com n2 p2 0 sw1 off
s3 com n3 p3 0 sw1 off
s4 com n4 p4 0 sw1 off
s5 com n5 p5 0 sw1 off
s6 com n6 p6 0 sw1 off
s7 com n7 p7 0 sw1 off
s8 com n8 p8 0 sw1 off
s9 com n9 p9 0 sw1 off
s10 com n10 p10 0 sw1 off
.model sw1 sw vt=0.5 vh=0.1 ron=0.1 roff=10gig
.ends Sw10to1Short


.Subckt sw12to1 N1 com N2 N3 N4 N5 N6 N7 N8 N9 N10 N11 N12 p status=1
V1 p0 0 dc {status}
r1 p p0 1k
C1 N1 0 0.1p
C2 com 0 0.1p
C3 N2 0 0.1p
C4 N3 0 0.1p
C5 N4 0 0.1p
C6 N5 0 0.1p
C7 N6 0 0.1p
C8 N7 0 0.1p
C9 N8 0 0.1p
C10 N9 0 0.1p
C11 N10 0 0.1p
C12 N11 0 0.1p
C13 N12 0 0.1p
b1 p1 0 v=u( (v(p)-0.6)*(1.4-v(p)) )
b2 p2 0 v=u( (v(p)-1.6)*(2.4-v(p)) )
b3 p3 0 v=u( (v(p)-2.6)*(3.4-v(p)) )
b4 p4 0 v=u( (v(p)-3.6)*(4.4-v(p)) )
b5 p5 0 v=u( (v(p)-4.6)*(5.4-v(p)) )
b6 p6 0 v=u( (v(p)-5.6)*(6.4-v(p)) )
b7 p7 0 v=u( (v(p)-6.6)*(7.4-v(p)) )
b8 p8 0 v=u( (v(p)-7.6)*(8.4-v(p)) )
b9 p9 0 v=u( (v(p)-8.6)*(9.4-v(p)) )
b10 p10 0 v=u( (v(p)-9.6)*(10.4-v(p)) )
b11 p11 0 v=u( (v(p)-10.6)*(11.4-v(p)) )
b12 p12 0 v=u( (v(p)-11.6)*(12.4-v(p)) )
s1 com n1 p1 0 sw1 off
s2 com n2 p2 0 sw1 off
s3 com n3 p3 0 sw1 off
s4 com n4 p4 0 sw1 off
s5 com n5 p5 0 sw1 off
s6 com n6 p6 0 sw1 off
s7 com n7 p7 0 sw1 off
s8 com n8 p8 0 sw1 off
s9 com n9 p9 0 sw1 off
s10 com n10 p10 0 sw1 off
s11 com n11 p11 0 sw1 off
s12 com n12 p12 0 sw1 off
.model sw1 sw vt=0.5 vh=0.1 ron=0.1 roff=10Gig
.ends

.Subckt Sw12to2V com1 N1 N2 N3 N4 N5 N6 N7 N8 N9 N10 N11 N12 com2 p status=1
V1 p0 0 dc {status}
r1 p p0 1k
c1 n1 0 0.1p
cc1 com1 0 0.1p
cc2 com2 0 0.1p
c3 n2 0 0.1p
c4 n3 0 0.1p
c5 n4 0 0.1p
c6 n5 0 0.1p
c7 n6 0 0.1p
c8 n7 0 0.1p
c9 n8 0 0.1p
c10 n9 0 0.1p
c11 n10 0 0.1p
c12 n11 0 0.1p
c13 n12 0 0.1p
b1 p1 0 v=u( (v(p)-0.6)*(1.4-v(p)) )
b2 p2 0 v=u( (v(p)-1.6)*(2.4-v(p)) )
b3 p3 0 v=u( (v(p)-2.6)*(3.4-v(p)) )
b4 p4 0 v=u( (v(p)-3.6)*(4.4-v(p)) )
b5 p5 0 v=u( (v(p)-4.6)*(5.4-v(p)) )
b6 p6 0 v=u( (v(p)-5.6)*(6.4-v(p)) )
*
s1 com1 n1 p1 0 sw1 off
s2 com1 n2 p2 0 sw1 off
s3 com1 n3 p3 0 sw1 off
s4 com1 n4 p4 0 sw1 off
s5 com1 n5 p5 0 sw1 off
s6 com1 n6 p6 0 sw1 off
s7 com2 n7 p1 0 sw1 off
s8 com2 n8 p2 0 sw1 off
s9 com2 n9 p3 0 sw1 off
s10 com2 n10 p4 0 sw1 off
s11 com2 n11 p5 0 sw1 off
s12 com2 n12 p6 0 sw1 off
.model sw1 sw vt=0.5 vh=0.1 ron=0.1 roff=10gig
.ends Sw12to2

.Subckt Sw10to2 com1 N1 N2 N3 N4 N5 N6 N7 N8 N9 N10 com2 p status=1
V1 p0 0 dc {status}
r1 p p0 1k
c1 n1 0 0.1p
cc1 com1 0 0.1p
cc2 com2 0 0.1p
c3 n2 0 0.1p
c4 n3 0 0.1p
c5 n4 0 0.1p
c6 n5 0 0.1p
c7 n6 0 0.1p
c8 n7 0 0.1p
c9 n8 0 0.1p
c10 n9 0 0.1p
c11 n10 0 0.1p
b1 p1 0 v=u( (v(p)-0.6)*(1.4-v(p)) )
b2 p2 0 v=u( (v(p)-1.6)*(2.4-v(p)) )
b3 p3 0 v=u( (v(p)-2.6)*(3.4-v(p)) )
b4 p4 0 v=u( (v(p)-3.6)*(4.4-v(p)) )
b5 p5 0 v=u( (v(p)-4.6)*(5.4-v(p)) )
*
s1 com1 n1 p1 0 sw1 off
s2 com1 n2 p2 0 sw1 off
s3 com1 n3 p3 0 sw1 off
s4 com1 n4 p4 0 sw1 off
s5 com1 n5 p5 0 sw1 off
*
s6 com1 n6 p1 0 sw1 off
s7 com2 n7 p2 0 sw1 off
s8 com2 n8 p3 0 sw1 off
s9 com2 n9 p4 0 sw1 off
s10 com2 n10 p5 0 sw1 off
.model sw1 sw vt=0.5 vh=0.1 ron=0.1 roff=10gig
.ends Sw10to2

.Subckt SLIDE_SWITCH_STSSS2231 com1 N1 N2 N3 com2 N4 N5 N6 p status=1
V1 p0 0 dc {status}
r1 p p0 1k
cc1 com1 0 0.1p
cc2 com2 0 0.1p
c1 n1 0 0.1p
c3 n2 0 0.1p
c4 n3 0 0.1p
c5 n4 0 0.1p
c6 n5 0 0.1p
c7 n6 0 0.1p
b1 p1 0 v=u( (v(p)-0.6)*(1.4-v(p)) )
b2 p2 0 v=u( (v(p)-1.6)*(2.4-v(p)) )
b3 p3 0 v=u( (v(p)-2.6)*(3.4-v(p)) )
*
s1 com1 n1 p1 0 sw1 off
s2 com1 n2 p2 0 sw1 off
s3 com1 n3 p3 0 sw1 off
s4 com2 n4 p1 0 sw1 off
s5 com2 n5 p2 0 sw1 off
s6 com2 n6 p3 0 sw1 off
.model sw1 sw vt=0.5 vh=0.1 ron=70m roff=10gig
.ends

.subckt knopka 1 2 p
S1 2 1 p 0 knop off
R1 p 0 1k
.model knop sw ron=1m roff=10G vt=0.5 vh=50m
.ends knopka

.subckt knopka2 1 2 3 4 p
S1 3 1 p 0 knop off
S2 4 2 p 0 knop off
R1 p 0 1k
.model knop sw ron=1m roff=10G vt=0.5 vh=50m
.ends knopka2

.subckt transform2 1 2 3 4 n1=100 n2=100 Al=1u r1=1m r2=1m k=1
L1 1 2 {Al*n1*n1} rser={r1}
L2 3 4 {Al*n2*n2} rser={r2}
k1 L1 L2 {k}
.ends


.subckt transform3 1 2 3 4 5 6 n1=100 n2=100 n3=100 Al=1u r1=1m r2=1m r3=1m k=1
L1 1 2 {Al*n1*n1} rser={r1}
L2 3 4 {Al*n2*n2} rser={r2}
L3 5 6 {Al*n3*n3} rser={r3}
k1 L1 L2 L3 {k}
.ends

.subckt transform4 1 2 3 4 5 6 7 8 n1=100 n2=100 n3=100 n4=100 Al=1u r1=1m r2=1m r3=1m r4=1m k=1
L1 1 2 {Al*n1*n1} rser={r1}
L2 3 4 {Al*n2*n2} rser={r2}
L3 5 6 {Al*n3*n3} rser={r3}
L4 7 8 {Al*n4*n4} rser={r4}
k1 L1 L2 L3 L4 {k}
.ends

.SUBCKT XFMR1 1 2 3 4 n1=100 n2=10
RP 1 2 1MEG
E1 5 4 1 2 {n2/n1}
F1 1 2 VM {n2/n1}
RS 6 3 1U
VM 5 6
.ENDS XFMR1

.SUBCKT XFMR2 1 2 3 4 10 11 n1=100 n2=10 n3=10
RP 1 2 1MEG
E1 5 4 1 2 {n2/n1}
F1 1 2 VM1 {n2/n1}
RS1 6 3 1U
VM1 5 6
E2 20 11 2 1 {n3/n1}
F2 2 1 VM2 {n3/n1}
RS2 21 10 1U
VM2 20 21
.ENDS XFMR2

.subckt indnonlin 1 2 Hc=16. Bs=.44 Br=.10 A=0.0000251
+ Lm=0.0198 Lg=0.0006858 N=1000
*
L 1 2 Hc={HC} Bs={Bs} Br={Br} A={A}
+ Lm={Lm} Lg={Lg} N={N}
.ends

*SRC=4N39;Opto-Isolators;SCR Output;7.5kV
*SYM=OPTOSCR
.SUBCKT 4N39 17 18 1 3 2
* LA LC A K G
QP 6 4 1 POUT; OFF
QN 4 6 5 NOUT; OFF
RF 6 4 10.6MEG
RR 1 4 7.11MEG
RGK 6 5 5.62K
RG 2 6 92.3
RK 3 5 .233
DF 6 4 ZF
DR 1 4 ZR
DGK 6 5 ZGK
.MODEL ZF D (IS=.12F IBV=3.75U BV=200 RS=1.6MEG)
.MODEL ZR D (IS=.12F IBV=3.75U BV=266)
.MODEL ZGK D (IS=.12F IBV=3.75U BV=6)
.MODEL POUT PNP (IS=120F BF=1 CJE=1.34P)
.MODEL NOUT NPN (IS=120F BF=100 RC=.933
+ CJE=1.34P CJC=286F TF=18.95U TR=1.27M)
.MODEL DLED D (IS=140P RS=520M N=2.63 BV=6 IBV=10U
+ CJO=50P VJ=.75 M=.333 TT=432N)
H1 2 0 VLED -.8 93.3
VLED 17 16
D1 16 18 DLED
.ENDS
**********
*SRC=4N40;Opto-Isolators;SCR Output;7.5kV
*SYM=OPTOSCR
.SUBCKT 4N40 17 18 1 3 2
* TERMINALS: LA LC A K G
QP 6 4 1 POUT; OFF
QN 4 6 5 NOUT; OFF
RF 6 4 16MEG
RR 1 4 10.6MEG
RGK 6 5 5.62K
RG 2 6 92.3
RK 3 5 .233
DF 6 4 ZF
DR 1 4 ZR
DGK 6 5 ZGK
.MODEL ZF D (IS=.12F IBV=5U BV=400 RS=2.4MEG)
.MODEL ZR D (IS=.12F IBV=5U BV=533)
.MODEL ZGK D (IS=.12F IBV=5U BV=6)
.MODEL POUT PNP (IS=120F BF=1 CJE=1.34P)
.MODEL NOUT NPN (IS=120F BF=100 RC=.933
+ CJE=1.34P CJC=268F TF=14.47U TR=637U)
.MODEL DLED D (IS=140P RS=520M N=2.63 BV=6 IBV=10U
+ CJO=50P VJ=.75 M=.333 TT=432N)
H1 2 0 VLED -.8 93.3
VLED 17 16
D1 16 18 DLED
.ENDS 4N40


.Subckt Lazer com lk pha pw Pnom=100m inom=150m ith=35m iphnom=0.1m Pth=1m
+ cLd=10p cph=40p rsLd=1 nLd=2 isLD=1e-17 tauLD=1n tauFd=5n
.param k=(Pnom-Pth*inom/ith)/(inom-ith)
.param kf=iphnom/Pnom
.param ctau=0.001*tauFd
cLd com lk {cLD}
cph com pha {cph}
D1 5 lk0 dLd
D10 com lk0 dLd2
rs lk0 lk {rsLd}
VAm1 com 5 0
rut lk com 10Meg
v1 ith 0 {ith}
*v3 kf 0 {iphnom/Pnom}
Hled pwled 0 vam1 {2*Pth/ith}
B1 pw pwled v=uramp(2*i(vam1)-v(ith))*{k}
CtauFd pwtau 0 {ctau}
Rtau pwtau pw 1k
B2 com pha i=v(pwtau)*{kf}
.model dLd D is={isLd/2} n={nLd} eg={nLd*1.11}
.model dLd2 D is={isLd/2} n={nLd} eg={nLd*1.11} tt={tauLD*2}
.ends Lazer

.Subckt Lazer3 com lk pw Pnom=1 inom=1200m ith=240m Pth=1m
+ cLd=10p rsLd=1 nLd=2 isLD=1e-17 tauLD=1n
.param k=(Pnom-Pth*inom/ith)/(inom-ith)
c com lk {cLd}
D1 5 lk0 dLd
D10 com lk0 dLd2
rs lk0 lk {rsLd}
VAm1 com 5 0
rut lk com 10Meg
v1 ith 0 {ith}
Hled pwled 0 vam1 {2*Pth/ith}
B1 pw pwled v=uramp(2*i(vam1)-v(ith))*k
.model dLd D is={isLd/2} n={nLd} eg={nLd*1.11}
.model dLd2 D is={isLd/2} n={nLd} eg={nLd*1.11} tt={tauLD*2}
.ends Lazer3

.Subckt Lazer3L com lk0 pw Pnom=1 inom=1200m ith=240m Pth=1m
+l=12n cLd=10p rsLd=1 nLd=2 isLD=1e-17 tauLD=1n
.param k=(Pnom-Pth*inom/ith)/(inom-ith)
l lk0 lk {l}
c com lk {cLd}
D1 5 lk0 dLd
D10 com lk0 dLd2
rs lk0 lk {rsLd}
VAm1 com 5 0
rut lk com 10Meg
v1 ith 0 {ith}
Hled pwled 0 vam1 {2*Pth/ith}
B1 pw pwled v=uramp(2*i(vam1)-v(ith))*k
.model dLd D is={isLd/2} n={nLd} eg={nLd*1.11}
.model dLd2 D is={isLd/2} n={nLd} eg={nLd*1.11} tt={tauLD*2}
.ends Lazer3L

.Subckt Lazer2 com lk pha pw Pnom=100m inom=150m ith=35m iphnom=0.1m Pth=1m
+ cLd=10p cph=40p rsLd=1 nLd=2 isLD=1e-17 tauLD=.1n tauLD2=1n tauFd=5n
.param k=(Pnom-Pth*inom/ith)/(inom-ith)
.param kf=iphnom/Pnom
.param ctau=0.001*tauFd
cLd com lk {cLD}
cph com pha {cph}
D1 5 lk0 dLd
D10 com lk0 dLd2
rs lk0 lk {rsLd}
VAm1 com 5 0
rut lk com 10Meg
v1 ith 0 {ith}
*v3 kf 0 {iphnom/Pnom}
Hled pwled 0 vam1 {2*Pth/ith}
B1 pwled pw i=uramp(2*i(vam1)-v(ith))*{k}
Rb1 pwled pw 1
Ctalight pwled pw {tauLD2}
CtauFd pwtau 0 {ctau}
Rtau pwtau pw 1k
B2 com pha i=v(pwtau)*{kf}
.model dLd D is={isLd/2} n={nLd} eg={nLd*1.11}
.model dLd2 D is={isLd/2} n={nLd} eg={nLd*1.11} tt={tauLD*2}
.ends Lazer2

.Subckt Lazer2L com lk0 pha pw Pnom=100m inom=150m ith=35m iphnom=0.1m Pth=1u
+L=12n cLd=10p cph=40p rsLd=1 nLd=2 isLD=1e-17 tauLD=.1n tauLD2=1n tauFd=5n
.param k=(Pnom-Pth*inom/ith)/(inom-ith)
.param kf=iphnom/Pnom
.param ctau=0.001*tauFd
L lk0 lk {L}
cLd com lk {cLD}
cph com pha {cph}
D1 5 lk0 dLd
D10 com lk0 dLd2
rs lk0 lk {rsLd}
VAm1 com 5 0
rut lk com 10Meg
v1 ith 0 {ith}
*v3 kf 0 {iphnom/Pnom}
Hled pwled 0 vam1 {2*Pth/ith}
B1 pwled pw i=uramp(2*i(vam1)-v(ith))*{k}
Rb1 pwled pw 1
Ctalight pwled pw {tauLD2}
CtauFd pwtau 0 {ctau}
Rtau pwtau pw 1k
B2 com pha i=v(pwtau)*{kf}
.model dLd D is={isLd/2} n={nLd} eg={nLd*1.11}
.model dLd2 D is={isLd/2} n={nLd} eg={nLd*1.11} tt={tauLD*2}
.ends Lazer2L

.Subckt SPL_PL90_3 A K P l=7n
D1 A 4 diode
D2 A 5 D2_diode
VAm1 5 4 0
R1 4 6 0.12
L1 6 K {l}
C1 P 0 1p
b1 7 0 v=table(v(8), 0,0, 0.75,0, 7,20, 14,40, 20,55, 30,75, 40,92, 45,98, 50,104, 60,115, 80,130, 100,142, 120,152, 140,160, 200,170 )
H1 8 0 VAm1 2
R2 7 P 1K
.model diode D is=50f n=6.5 tt=0.5n cjo=100p
.model D2_diode D is=50f n=6.5
.ends

.Subckt BCV61c N1 N2 N3 N4
Q4 N1 N1 N4 qbcv61c
Q1 N2 N1 N3 qbcv61c
.model qbcv61c npn IS=2.375E-14 NF=0.9925 ISE=5.16E-16 NE=1.3 BF=524.9 IKF=0.09 VAF=49.77
+ NR=0.9931 ISC=7.064p NC=1.78 BR=10.04 IKR=0.132 VAR=16 RB=10 IRB=5u RBM=5 RE=0.653
+ RC=0.78 XTB=0 EG=1.11 XTI=3 CJE=1.132E-11 VJE=0.7685 MJE=0.3733 TF=4.258E-10 XTF=6.319
+ VTF=6.4 ITF=0.1845 PTF=0 CJC=3.379p VJC=0.5444 MJC=0.3968 XCJC=0.6193 TR=9.5E-08 FC=0.999
.ends
.subckt bcv62c n1 n2 n3 n4
q4 n1 n1 n4 qbcv62c
q1 n2 n1 n3 qbcv62c
.model qbcv62c pnp IS=3.258E-14 NF=0.999 ISE=3.003f NE=1.45 BF=515.4 IKF=0.066 VAF=25
+NR=0.9985 ISC=4.393f NC=1.2 BR=15.26 IKR=0.039 VAR=8 RB=10 IRB=5E-06 RBM=5 RE=0.7071
+ RC=0.58 XTB=0 EG=1.11 XTI=3 CJE=1.024E-11 VJE=0.9 MJE=0.453 TF=5.971E-10 XTF=4.137
+VTF=6.31 ITF=0.2108 PTF=0 CJC=6.345p VJC=0.4254 MJC=0.423 XCJC=0.6288 TR=3.5E-08 FC=0.78
.ends


.Subckt KT972A c b e
R1 4 e 400
Q1 c b 4 bj
D1 e c diode
Q2 c 4 e bj area=10
.model bj npn is=200f bf=150 rc=5 vaf=100 ikf=0.1 ise=1.2n ne=2 nr=1 isc=10n nc=4
+rb=150 irb=1m rbm=10 re=0.1 cje=80p tf=1n itf=0.1 cjc=20p xcjc=0.5 tr=200n xtb=1.5
.model diode D rs=1 tt=200n cjo=80p bv=60 ibv=10u
.ends

.Subckt KT973A c b e
R1 4 e 400
Q1 c b 4 tra
D1 c e diode
Q2 c 4 e tra area=10
.model tra pnp is=200f bf=150 vaf=100 ikf=0.1 ise=1.2n ne=2 nr=1 isc=10n nc=4 rb=150 irb=1m
+ rbm=10 re=0.1 rc=1.2 cje=80p tf=1n itf=0.1 cjc=20p xcjc=0.5 tr=200n xtb=1.5
.model diode D rs=1 tt=200n cjo=80p bv=60 ibv=10u
.ends

*SRC=TIP120;TIP120;BJTs NPN;Darlington;60V 5A
.SUBCKT TIP120 1 2 3
* TERMINALS: C B E
* 60 Volt 5 Amp NPN Darlington Transistor 08-03-1995
Q1 1 2 4 QPWR .1
Q2 1 4 3 QPWR
R1 2 4 10K
R2 4 3 150
D1 3 1 DSUB
.MODEL QPWR NPN (IS=6P NF=1 BF=116 VAF=139 IKF=3.2 ISE=376P NE=2
+ BR=4 NR=1 VAR=20 IKR=4.8 RE=.33 RB=1.32 RC=.132 XTB=1.5
+ CJE=676P VJE=.74 MJE=.45 CJC=97.5P VJC=1.1 MJC=.24 TF=85.3N TR=3.68U)
.MODEL DSUB D (IS=6P N=1 RS=.33 BV=60 IBV=.001 CJO=97.5P TT=3.68U)
.ENDS


.SUBCKT tip121 1 2 3
* Model generated on Feb 8, 2004
* Model format: PSpice
* Darlington macro model
* External node designations
* Node 1 -> Collect
* Node 2 -> Base
* Node 3 -> Emitter
Q1 1 2 4 qmodel
Q2 1 4 3 q1model 2.80758
D1 3 1 dmodel
R1 2 4 10000
R2 4 3 1000
.MODEL dmodel d
+IS=1p RS=10 N=1 XTI=3
+CJO=0 VJ=0.75 M=0.33 FC=0.5
.MODEL qmodel npn
+IS=3.29109e-14 BF=391.787 NF=0.894469 VAF=33.1384
+IKF=0.198445 ISE=1.21403e-10 NE=1.6375 BR=0.1
+NR=1.34795 VAR=135.277 IKR=0.137744 ISC=1.01287e-13
+NC=1.97483 RB=4.90772 IRB=0.200762 RBM=4.90772
+RE=0.0826202 RC=0.413101 XTB=0.584577 XTI=2.92564 EG=1.05
+CJE=2.09731e-10 VJE=0.95 MJE=0.23 TF=1e-09
+XTF=1 VTF=10 ITF=0.01 CJC=1.53283e-10
+VJC=0.95 MJC=0.23 XCJC=0.9 FC=0.5
+TR=1e-07 PTF=0 KF=0 AF=1
.MODEL q1model npn
+IS=3.29109e-14 BF=391.787 NF=0.894469 VAF=33.1384
+IKF=0.198445 ISE=1.21403e-10 NE=1.6375 BR=0.1
+NR=1.34795 VAR=135.277 IKR=0.137744 ISC=1.01287e-13
+NC=1.97483 RB=4.90772 IRB=0.200762 RBM=4.90772
+RE=0.0826202 RC=0.413101 XTB=0.584577 XTI=2.92564 EG=1.05
+CJE=2.09731e-10 VJE=0.95 MJE=0.23 TF=1e-09
+XTF=1 VTF=10 ITF=0.01 CJC=0
+VJC=0.95 MJC=0.23 XCJC=0.9 FC=0.5
+TR=1e-07 PTF=0 KF=0 AF=1
.ENDS
.SUBCKT tip127 1 2 3
* Model generated on Dec 26, 2003
* Model format: PSpice
* Darlington macro model
* External node designations
* Node 1 -> Collect
* Node 2 -> Base
* Node 3 -> Emitter
Q1 1 2 4 qmodel
Q2 1 4 3 q1model 2.84905
D1 1 3 dmodel
R1 2 4 10000
R2 4 3 1000
.MODEL dmodel d
+IS=1p RS=10 N=1 XTI=3
+CJO=0 VJ=0.75 M=0.33 FC=0.5
.MODEL qmodel pnp
+IS=2.2383e-14 BF=390.271 NF=0.874443 VAF=38.5083
+IKF=0.202108 ISE=1.49947e-10 NE=1.64874 BR=0.1
+NR=1.32278 VAR=134.629 IKR=0.177707 ISC=1.03339e-13
+NC=1.97553 RB=4.89811 IRB=0.200734 RBM=4.89811
+RE=0.089979 RC=0.449895 XTB=0.584937 XTI=2.92881 EG=1.05
+CJE=2.09764e-10 VJE=0.95 MJE=0.23 TF=1e-09
+XTF=1 VTF=10 ITF=0.01 CJC=1.53285e-10
+VJC=0.95 MJC=0.23 XCJC=0.9 FC=0.5
+TR=1e-07 PTF=0 KF=0 AF=1
.MODEL q1model pnp
+IS=2.2383e-14 BF=390.271 NF=0.874443 VAF=38.5083
+IKF=0.202108 ISE=1.49947e-10 NE=1.64874 BR=0.1
+NR=1.32278 VAR=134.629 IKR=0.177707 ISC=1.03339e-13
+NC=1.97553 RB=4.89811 IRB=0.200734 RBM=4.89811
+RE=0.089979 RC=0.449895 XTB=0.584937 XTI=2.92881 EG=1.05
+CJE=2.09764e-10 VJE=0.95 MJE=0.23 TF=1e-09
+XTF=1 VTF=10 ITF=0.01 CJC=0
+VJC=0.95 MJC=0.23 XCJC=0.9 FC=0.5
+TR=1e-07 PTF=0 KF=0 AF=1
.ENDS

*SRC=FZT705;FZT705;BJTs PNP;Darlington;Zetex
.SUBCKT FZT705 1 2 3
* C B E
Q1 1 2 4 SUB704
Q2 1 4 3 SUB704 4
*
.MODEL SUB704 PNP IS=3.35584E-14 BF=85 VAF=212 NF=1.002 IKF=.817
+ISE=3.6E-13 NE=4.1 BR=24 VAR=6 NR=.999 IKR=.114 ISC=1.406E-13 NC=1.13
+RB=1.1 RE=.4 RC=.0339 CJE=100p CJC=37p VJC=1.045 MJC=.595
.ENDS


.subckt kt3165a c b e
de ev 1 de
dc cv 1 dc
q cv 1 ev kt
rbmin b 1 5
lc cv c 3n
lb bv b 4n
le ev e 4n
cce cv ev 60f
.model de d is=3p n=1.5 bv=3 ibv=1u eg=1.11
.model dc d is=1p n=2 bv=40 ibv=.1u eg=1.11
.model kt pnp bf=60 is=.5p rb=20 rc=5 ikf=50m ikr=25m mje=0.35 vaf=90 cje=2p vje=0.7 xcjc=0.1 cjc=0.7p mjc=.33 vjc=.7 tf=130p tr=10n itf=15m eg=1.11 br=2 fc=.5 vtf=10 xtf=2
.ends


.subckt bft92 200 100 300
LBI 1 10 0.85nH
LEI 3 30 0.69nH
CCB 10 20 84fF
CCE 20 30 165fF
CBE 30 10 73fF
LBO 10 100 0.51nH
LCO 20 200 0.49nH
LEO 30 300 0.61nH
Q1 20 1 3 M1BFT92
.MODEL M1BFT92 PNP
+ IS=4.37563E-016 BF=3.35815E+001 NF=1.00972
+ VAF=2.33946E+001 IKF=9.95381E-002 ISE=8.70539E-014 NE=1.94395 BR=4.94721 NR=1.00254
+ VAR=3.90385 IKR=5.28157m ISC=3.58864E-014 NC=1.39333 RB=5 RE=1 RC=10 EG=1.11 XTI=3
+ CJE=7.46659E-013 VJE=6.00000E-001 MJE=3.56829E-001 TF=1.74921E-011 XTF=1.35455
+ VTF=1.55654E-001 ITF=1.00000E-003 PTF=4.50000E+001 CJC=9.37103E-013 VJC=3.96455E-001
+ MJC=1.99949E-001 XCJC=1.06000E-001 TR=8.42200E-009 FC=7.67856E-001
.ends
.SUBCKT BFT92W 1 2 3
*SOT323
Q1 6 7 8 BFT92P
L1 2 4 0.34NH
L2 6 1 0.10NH
L3 5 3 0.34NH
LB 4 7 0.60NH
LE 8 5 0.60NH
CCB 4 6 100FF
CBE 4 5 2FF
CCE 5 6 100FF
.MODEL BFT92P PNP
+ IS=4.37563E-016 BF=3.35815E+001 NF=1.00972
+ VAF=2.33946E+001 IKF=9.95381E-002 ISE=8.70539E-014 NE=1.94395 BR=4.94721 NR=1.00254
+ VAR=3.90385 IKR=5.28157m ISC=3.58864E-014 NC=1.39333 RB=5 RE=1 RC=10 EG=1.11 XTI=3
+ CJE=7.46659E-013 VJE=6.00000E-001 MJE=3.56829E-001 TF=1.74921E-011 XTF=1.35455
+ VTF=1.55654E-001 ITF=1.00000E-003 PTF=4.50000E+001 CJC=9.37103E-013 VJC=3.96455E-001
+ MJC=1.99949E-001 XCJC=1.06000E-001 TR=8.42200E-009 FC=7.67856E-001
.ENDS


.subckt bft93 200 100 300
LBI 1 10 0.85nH
LEI 3 30 0.69nH
CCB 10 20 84fF
CCE 20 30 165fF
CBE 30 10 73fF
LBO 10 100 0.51nH
LCO 20 200 0.49nH
LEO 30 300 0.61nH
Q1 20 1 3 M1BFT93
.MODEL M1BFT93 PNP
+ ISE=1.6295e-14 IKR=0.012081 BF=80 FC=0.54298 VAR=9.5149
+ CJC=2.6904p NC=1.038 CJE=2.0636e-14 NE=1.3702 NF=1.0313
+ BR=16.116 RB=3.2133 RC=1.1393 RE=1.9597 MJC=0.5401
+ TF=5.4303e-11 MJE=0.68352 IRB=0.00046855 NR=1.2907 CJS=0
+ RBM=2.0822 ITF=0.0030573 VJC=1.0282 VJE=0.84456 TR=3.4233e-10
+ XCJC=0.075977 PTF=0 MJS=0 EG=1.11 XTB=0
+ VTF=0.19311 XTF=0.27447 VJS=0.75 XTI=3 IKF=0.47497
+ IS=1.0366f VAF=8.4866 ISC=9.4971e-17
.ends

.subckt bfr92 200 100 300
LBI 1 10 0.85nH
LEI 3 30 0.69nH
CCB 10 20 84fF
CCE 20 30 165fF
CBE 30 10 73fF
LBO 10 100 0.51nH
LCO 20 200 0.49nH
LEO 30 300 0.61nH
Q1 20 1 3 M1BFR92P
.MODEL M1BFR92P NPN
+ ISE=1.2955e-13 IKR=0.01 BF=94.733 FC=0.99545 VAR=14.599
+ CJC=9.4647e-13 NC=1.371 CJE=1.0416e-14 NE=1.9052 NF=1.0947
+ BR=10.729 RB=14.998 RC=0.13793 RE=0.29088 MJC=0.4085
+ TF=2.6796e-11 MJE=0.34686 IRB=1.652e-05 NR=0.8983 CJS=0
+ RBM=7.8145 ITF=0.0044601 VJC=0.84079 VJE=0.70618 TR=1.2744e-09
+ XCJC=0.13464 PTF=0 MJS=0 EG=1.11 XTB=0
+ VTF=0.32861 XTF=0.3817 VJS=0.75 XTI=3 IKF=0.46227
+ IS=1.213e-16 VAF=30 ISC=7.5557e-16
.ends

.subckt fr93a 200 100 300
LBI 1 10 0.85nH
LEI 3 30 0.69nH
CCB 10 20 84fF
CCE 20 30 165fF
CBE 30 10 73fF
LBO 10 100 0.51nH
LCO 20 200 0.49nH
LEO 30 300 0.61nH
Q1 20 1 3 M1BFR93A
.MODEL M1BFR93A NPN
+ ISE=2.6193p IKR=0.015129 BF=137.63 FC=0.75935 VAR=26.834
+ CJC=1.0395p NC=1.95 CJE=3.1538f NE=1.5466 NF=0.93633
+ BR=59 RB=7.2326 RC=0.13193 RE=1.0075 MJC=0.34565
+ TF=3.3388e-11 MJE=0.5071 IRB=4.3806e-05 NR=0.88761 CJS=0
+ RBM=3.4649 ITF=0.0025184 VJC=0.72744 VJE=0.70393 TR=1.1061e-09
+ XCJC=0.21422 PTF=0 MJS=0 EG=1.11 XTB=0
+ VTF=0.17765 XTF=0.28319 VJS=0.75 XTI=3 IKF=0.33395
+ IS=8.6752f VAF=20.011 ISC=7.0823e-16
.ends

.subckt bfp405 200 100 300
lbi 1 10 0.47nh
lci 2 20 0.56nh
lei 3 30 0.23nh
ccb 10 20 6.9ff
cce 20 30 134ff
cbe 30 10 136ff
lbo 10 100 0.53nh
lco 20 200 0.58nh
leo 30 300 0.05nh
dce 3 2 ce1
.model ce1 d is=2.00f n=1.02 rs=20
q1 2 1 3 m1bfp405
.model m1bfp405 npn ise=1.5761e-14 ikr=0.25052 bf=83.23 fc=0.99469 var=34.368 cjc=9.6941e-14 nc=1.3152
+ cje=3.7265f ne=1.7763 nf=1.0405 br=10.526 rb=15 rc=0.12691 re=1.9289 mjc=0.48652 tf=4.5899p
+ mje=0.37747 irb=0.00021215 nr=0.96647 rbm=1.3491 itf=0.0013364 vjc=0.99532 vje=0.70367 tr=1.4935n
+ xcjc=0.08161 ptf=0 vtf=0.19762 xtf=0.3641 xti=3 ikf=0.16493 is=2.1024e-16 vaf=39.251 isc=3.7223e-17
.ends

* BFP620F packaged transistor subcircuit
* Tony Casey, April 2010, tony@ritecom.com
*---------------Collector Base Emitter
*					|		|		|
.SUBCKT	BFP620F		1		2		3
CCB N002 N001 2f
CBE N001 N006 34f
CCE N002 N006 33f
LBO N001 2 0.22n Rser=0.0008
LBI N004 N001 0.417n Rser=0.154
LCI N003 N002 0.374n Rser=0.135
LCO N002 1 0.22n Rser=0.0005
LEI N005 N006 0.256n Rser=0.111
LEO N006 3 0.284n Rser=0.0011
Q1 N003 N004 N005 0 BFP620_Chip
.model npn npn
.model pnp pnp
* Bond wire coupling factors
KBEO LBO LEO 0.1033
KBCO LBO LCO 0.0105
KCEO LEO LCO 0.1138
* Leadframe coupling factors
KBEI LBI LEI -0.0503
KBCI LBI LCI -0.075
KCEI LEI LCI 0.1986
.MODEL BFP620_Chip NPN(
+ IS=2.200E-16
+ NF=1.025E+00
+ BF=4.250E+02
+ NE=2.000E+00
+ ISE=2.100E-14
+ NR=1.000E+00
+ BR=5.000E+01
+ NC=2.000E+00
+ ISC=1.800E-11
+ VAF=1.000E+03
+ VAR=2.000E+00
+ IKF=2.500E-01
+ IKR=1.000E-02
+ RB=3.129E+00
+ RBM=2.707E+00
+ IRB=1.522E-03
+ RE=6.000E-01
+ RC=2.364E+00
+ XTB=-1.420E+00
+ EG=1.078E+00
+ XTI=3.000E+00
+ TF=1.430p
+ VTF=1.500E+00
+ XTF=1.000E+01
+ ITF=2.400E+00
+ CJE=2.507E-13
+ VJE=7.500E-01
+ MJE=3.000E-01
+ CJC=1.249E-13
+ VJC=6.000E-01
+ MJC=5.000E-01
+ XCJC=1.000E+00
+ CJS=1.281E-13
+ VJS=5.200E-01
+ MJS=5.000E-01
+ FC=8.000E-01
+ TR=2.000E-10
+ PTF=0.000E+00
+ AF=2.000E+00
+ KF=7.291E-11
+ TNOM=25 )
.ends


*
.SUBCKT BFG425W 1 2 3
L1 2 5 1.1E-09
L2 1 4 1.1E-09
L3 3 6 0.25E-09
Ccb 4 5 2.0f
Cbe 5 6 80.0f
Cce 4 6 80.0f
Cbpb 5 7 1.45E-13
Cbpc 4 8 1.45E-13
Rsb1 6 7 25
Rsb2 6 8 19
Q1 4 5 6 NPN1
.MODEL NPN1 NPN IS=4.717E-17 BF=145 NF=0.9934 VAF=31.12 IKF=0.304 ISE=3.002E-13 NE=3 BR=11.37
+ NR=0.985 VAR=1.874 IKR=0.121 ISC=4.848E-16 NC=1.546 RB=14.41 IRB=0 RBM=6.175 RE=0.1779 RC=1.78
+ CJE=3.109E-13 VJE=0.9 MJE=0.3456 CJC=1.377E-13 VJC=0.5569 MJC=0.2079 CJS=6.675E-13 VJS=0.4183
+ MJS=0.2391 XCJC=0.5 TR= 0.0 TF=4.122p XTF=68.2 VTF=2.004 ITF=1.525 PTF=0
+ FC=0.5501 EG=1.11 XTI=3 XTB=1.5
.ENDS

*Si 60W 60V 8A 50MHz PwrAmp pkg:TO-220 2,1,3
.SUBCKT D44H8 1 2 3
* TERMINALS: C B E
Q1 1 2 3 QPWR .67
Q2 1 4 3 QPWR .33
RBS 2 4 30.5
.MODEL QPWR NPN (IS=590F NF=1 BF=131 VAF=139 IKF=2.67 ISE=395P NE=2
+ BR=4 NR=1 VAR=20 IKR=4 RE=41.4M RB=0.166 RC=16.6M XTB=1.5
+ CJE=1.28N VJE=0.6 MJE=0.3 CJC=245P VJC=0.22 MJC=0.2 TF=3.18N TR=122N)
.ENDS

* 44A, 500V, 0.12 ohm, N-Channel SMPS MOSFET
* Package: JEDEC TO-247
*--------------------------------------------------------------------------------
.SUBCKT FDH44N50 20 10 30
Rg 10 1 2.25
M1 2 1 3 3 DMOS L=1u W=1u
.MODEL DMOS NMOS(VTO={3.98*{-0.00076*TEMP+1.019}} KP={-0.022*TEMP+95}
+ THETA=0.064 VMAX=3.0E5 LEVEL=3)
Cgs 1 3 4095p
Rd 20 4 0.0487 TC=0.01
Dds 3 4 DDS
.MODEL DDS D(BV={500*{0.000925*TEMP+0.976875}} M=0.58 CJO=5250p VJ=0.58)
Dbody 3 20 DBODY
.MODEL DBODY D(IS=2.2p N=1.00 RS=0.0006 EG=1.115 TT=590n)
Ra 4 2 0.0487 TC=0.01
Rs 3 5 0.002
Ls 5 30 0.55n
M2 1 8 6 6 INTER
E2 8 6 4 1 2
.MODEL INTER NMOS (VTO=0 KP=10 LEVEL=1)
CGDmax 7 4 7250p
Rcgd 7 4 1E7
Dgd 6 4 DGD
Rdgd 4 6 1E7
.MODEL DGD D(M=0.48 CJO=7250p VJ=0.00172)
M3 7 9 1 1 INTER
E3 9 1 4 1 -2
.ENDS

.SUBCKT irfbe20 1 2 3
M1 9 7 8 8 MM L=100u W=100u
RS 8 3 0.0001
D1 3 1 MD
RDS 3 1 1e+06
RD 9 1 5.58265
RG 2 7 1.65378
D2 4 5 MD1
RL 5 10 1
FI2 7 9 VFI2 -1
VFI2 4 0 0
EV16 10 0 9 7 1
CAP 11 10 1.18252e-09
FI1 7 9 VFI1 -1
VFI1 11 6 0
RCAP 6 10 1
D4 0 6 MD3
D3 0 5 MD2
** discrete elements **
.MODEL MD3 D IS=1e-10 N=0.4
.MODEL MD1 D IS=1e-32 N=50
+CJO=1.17652e-09 VJ=1.39725 M=0.9 FC=1e-08
.MODEL MD2 D IS=1e-10 N=0.4 RS=3e-06
.MODEL MD D IS=1.19565e-14 RS=0.0525945 N=0.883654 BV=800
+IBV=0.00025 EG=1.2 XTI=3.04329 TT=0
+CJO=3.11456e-10 VJ=5 M=0.9 FC=0.5
.MODEL MM NMOS LEVEL=1 IS=1e-32
+VTO=4.05669 LAMBDA=0.000387746 KP=0.746614
+CGSO=4.5273e-06 CGDO=1e-11
.ENDS irfbe20
*********
.SUBCKT STP20NM60FD 1 2 3
LG 2 4 7.5E-09
LS 12 3 7.5E-09
LD 6 1 4.5E-09
RG 4 5 2.701
RS 9 12 0.292E-01
RD 7 6 0.198
RJ 8 7 0.244E-02
CGS 5 9 0.151E-08
CGD 7 10 0.126E-08
CK 11 7 0.301E-10
DGD 11 7 DGD
DBS 12 6 DBS
DBD 9 7 DBD
MOS 13 5 9 9 MOS L=1u W=1u
E1 10 5 101 0 1
E2 11 5 102 0 1
E3 8 13 POLY(2) 6 8 6 12 0 0 0 0 0.903E-01
G1 0 100 7 5 1u
D1 100 101 DID
D2 102 100 DID
R1 101 0 1MEG
R2 102 0 1MEG
** discrete elements **
.MODEL MOS NMOS LEVEL=3 VTO=4.492 PHI=0.819 IS=0.1p JS=0 THETA=0.174 KP=23.092
.MODEL DGD D IS=0.1p CJO=0.849E-11 VJ=0.724 M=0.353
.MODEL DBD D IS=0.1p CJO=0.693E-11 VJ=0.709 M=0.309
.MODEL DBS D IS=0.1p BV=644 N=1 TT=0.345E-06 RS=0.717E-02
.MODEL DID D IS=0.01p RS=0 BV=654
.ENDS STP20NM60FD
**************
.SUBCKT ntb52n10 1 2 3
M1 9 7 8 8 MM L=100u W=100u
RS 8 3 0.00662207
D1 3 1 MD
RDS 3 1 8.33e+10
RD 9 1 0.00857017
RG 2 7 4.04874
D2 4 5 MD1
D3 0 5 MD2
RL 5 10 1
FI2 7 9 VFI2 -1
VFI2 4 0 0
EV16 10 0 9 7 1
CAP 11 10 3.80889e-09
FI1 7 9 VFI1 -1
VFI1 11 6 0
RCAP 6 10 1
D4 0 6 MD3
** discrete models **
.MODEL MD D IS=1.2e-09 RS=0.00271192 N=1.27357 BV=100
+IBV=2.5e-07 EG=1.2 XTI=4 TT=0
+CJO=3.23804e-09 VJ=3.86005 M=0.899453 FC=0.5
.MODEL MD1 D IS=1e-32 N=50
+CJO=3.05942e-09 VJ=1.11418 M=0.9 FC=1e-08
.MODEL MM NMOS LEVEL=1 IS=1e-32
+VTO=3.39396 LAMBDA=0.0622182 KP=21.8729
+CGSO=2.00282e-05 CGDO=1e-11
.MODEL MD3 D IS=1e-10 N=0.4
.MODEL MD2 D IS=1e-10 N=0.4 RS=3e-06
.ENDS ntb52n10
************
.SUBCKT stp7nb80 1 2 3
LG 2 4 7.5n
LS 12 3 7.5n
LD 6 1 4.5n
RG 4 5 2.5
RS 9 12 0.622E-03
RD 7 6 1.067
RJ 8 7 0.454E-02
CGS 5 9 0.131E-08
CGD 7 10 0.155E-08
CK 11 7 0.158E-10
DGD 11 7 DGD
DBS 12 6 DBS
DBD 9 7 DBD
MOS 13 5 9 9 MOS L=1u W=1u
E1 10 5 101 0 1
E2 11 5 102 0 1
E3 8 13 POLY(2) 6 8 6 12 0 0 0 0 0.319E-01
G1 0 100 7 5 1u
D1 100 101 DID
D2 102 100 DID
R1 101 0 1MEG
R2 102 0 1MEG
** discrete models **
.MODEL MOS NMOS LEVEL=3 VTO=4.662 PHI=0.318 IS=0 JS=0
+THETA=0.865E-06 KP=8.597 Vmax=0.302E+07 Kappa=0.123E-02 eta= 0.446E-03
.MODEL DGD D CJO=0.265E-10 VJ=0.305909 M=0.141673
.MODEL DBD D CJO=0.678E-08 VJ=0.824 M=0.816
.MODEL DBS D BV=880 N=1 TT=0.285E-06 RS=0.124E+09
.MODEL DID D RS=0 BV=890
.ENDS stp7nb80
***********
.SUBCKT STP11NK50Z 1 2 3
LG 2 4 7.5n
LS 12 3 7.5n
LD 6 1 4.5n
RG 4 5 2.702
RS 9 12 0.219E-01
RD 7 6 0.304
RJ 8 7 0.232E-01
CGS 5 9 0.148E-08
CGD 7 10 0.225E-08
CK 11 7 0.408E-10
DGD 11 7 DGD
DBS 12 6 DBS
DBD 9 7 DBD
MOS 13 5 9 9 MOS L=1u W=1u
E1 10 5 101 0 1
E2 11 5 102 0 1
E3 8 13 POLY(2) 6 8 6 12 0 0 0 0 0.654E-01
G1 0 100 7 5 1u
D1 100 101 DID
D2 102 100 DID
R1 101 0 1MEG
R2 102 0 1MEG
** discrete models **
.MODEL MOS NMOS LEVEL=3 VTO=4.763 PHI=0.847 IS=0.1p JS=0 THETA=0.304E-01 KP=11.208
.MODEL DGD D IS=0.1p CJO=0.137E-10 VJ=0.755 M=0.349
.MODEL DBD D IS=0.1p CJO=0.155E-10 VJ=0.761 M=0.332
.MODEL DBS D IS=0.1p BV= 569 N= 1 TT= 0.388E-06 RS=0.636E-02
.MODEL DID D IS=0.01p RS=0 BV=679
.ENDS STP11NK50Z


* Ratings 80V/2.60E-02OHMS/25A
*
* Date Created Wed Jan 27 06:03:21 2010
.SUBCKT PSMN026_80YS DRAIN GATE SOURCE
LD DRAIN 5 5p
RLD2 DRAIN 5 0.01256636
RLD1 5 4 1e-06
LG GATE 1 5.43147180559945e-10
RLG GATE 1 1.36507660078025
LS SOURCE 8 9e-10
RLS2 SOURCE 8 2.2619448
RLS1 8 7 0.00035
RDS 7 4 53333333.3333333 TC=-0.05
RS 6 7 0.0001
RD 3 4 0.0203651340489846 TC=0.00785242023764695,-1.22783976683519e-05
RBD 9 4 0.00184945209509834 TC=0.00785242023764695,-1.22783976683519e-05
DBD 7 9 DBD
M1 3 2 6 6 MINT
RGS 2 6 200000000
CGS 2 6 1.17453056632079e-09
RG 1 2 0.797840585732129
* CGD
C11 11 12 1p
V11 11 0 0Vdc
G11 3 2 VALUE { V(13, 0)*I(V11) }
E11 12 0 3 2 1
E12 13 0 TABLE {V(12)}
+ -20	950
+ -10	951
+ -8	950
+ -6	942
+ -4	954
+ -2	694
+ 0	301.5
+ 0.1	219
+ 0.2	206
+ 0.5	176
+ 1	138
+ 2	97
+ 5	88
+ 10	90
+ 20	81
+ 25	78
+ 30	75
+ 40	70
.MODEL MINT NMOS(Vto=3.81613404898463 Kp=7.4048e+01 Nfs=990000000000 Eta=0
+ Level=3 L=1e-4 W=1e-4 Gamma=0 Phi=0.6 Is=1e-24
+ Js=0 Pb=0.8 Cj=0 Cjsw=0 Cgso=0 Cgdo=0 Cgbo=0
+ Tox=1e-07 Xj=0
+ U0=600 Vmax=1000)
.MODEL DBD D(Bv=89.60 Ibv=2.50E-04 Rs=1E-6 Is=4.31290229345736e-13
+ N=1 M=0.75 VJ=0.97 Fc=0.5 Cjo=6.9e-10 Tt=1.8e-08)
.ENDS


* Polarity N-Channel
* Ratings 80V/1.30E-02OHMS/10A
*
* Date Created Thu Mar 11 08:02:50 2010
.SUBCKT PSMN013_80YS DRAIN GATE SOURCE
LD DRAIN 5 5p
RLD2 DRAIN 5 0.01256636
RLD1 5 4 1e-06
LG GATE 1 7.81292696075128e-10
RLG GATE 1 1.96360105685013
LS SOURCE 8 9e-10
RLS2 SOURCE 8 2.2619448
RLS1 8 7 0.00035
RDS 7 4 1600000000 TC=-0.05
RS 6 7 0.0001
RD 3 4 0.00734041018965948 TC=0.00851410211071261,-1.48896345836092e-05
RBD 9 4 0.000690231733977848 TC=0.00851410211071261,-1.48896345836092e-05
DBD 7 9 DBD
M1 3 2 6 6 MINT
RGS 2 6 1000000000000
CGS 2 6 2.092e-09
RG 1 2 0.0466337618175334
* CGD
C11 11 12 1p
V11 11 0 0Vdc
G11 3 2 VALUE { V(13, 0)*I(V11) }
E11 12 0 3 2 1
E12 13 0 TABLE {V(12)}
+ -10	1752
+ -8	1734
+ -6	1745
+ -4	1798
+ -2	1454
+ 0	587
+ 0.1	418
+ 0.2	391
+ 0.5	333
+ 1	284
+ 2	220
+ 5	185
+ 10	166
+ 20	149
+ 25	143
+ 30	138
+ 40	131
.MODEL MINT NMOS(Vto=3.69274670524622 Kp=8.3071e+01 Nfs=2130000000000 Eta=0
+ Level=3 L=1e-4 W=1e-4 Gamma=0 Phi=0.6 Is=1e-24
+ Js=0 Pb=0.8 Cj=0 Cjsw=0 Cgso=0 Cgdo=0 Cgbo=0
+ Tox=1e-07 Xj=0
+ U0=600 Vmax=1000)
.MODEL DBD D(Bv=89.60 Ibv=2.50E-04 Rs=1E-6 Is=1.27102792027399p
+ N=1 M=0.76 VJ=0.96 Fc=0.5 Cjo=1.3e-09 Tt=1.85e-08)
.ENDS


*Feb 26, 2004
.SUBCKT TN0200K 4 1 2
M1 3 5 2 2 NMOS W=54487u L=0.50u
M2 2 5 2 4 PMOS W=54487u L=0.70u
R1 4 3 RTEMP 50E-3
CGS 5 2 75p
DBD 2 4 DBD
XESD 1 5 2 esd_nch
.subckt esd_nch 1 5 2
rd1 1 6 1 TC=300
d1 6 2 dleak M=1
.MODEL dleak d (IS=3E-9 XTI=350 EG=1.17 N=34 BV=6.4)
rd2 1 7 34 TC=-0.0002
d2 8 7 dout M=1
d3 8 2 dout M=1
.MODEL dout D (IS=5.1E-9 XTI=-35 EG=1.17 N=2 BV=6.38)
rpoly 1 5 100 TC=0.001
rd4 5 9 100 TC=-0.015
d4 10 9 din M=1
d5 10 2 din M=1
.MODEL din D (IS=5.1E-9 XTI=-30 EG=1.17 N=1.5 BV=6.25)
.ends esd_nch
.MODEL NMOS NMOS (LEVEL=3 TOX=1.7E-8
+ RS=80E-3 RD=0 NSUB=1.6E17
+ KP=5E-5 UO=650
+ VMAX=0 XJ=5E-7 KAPPA=2E-2
+ ETA=1E-4 TPG=1
+ IS=0 LD=0
+ CGSO=0 CGDO=0 CGBO=0
+ NFS=0.8E12 )
.MODEL PMOS PMOS (LEVEL=3 TOX= 1.7E-8
+NSUB=1.5E17 TPG=-1)
.MODEL DBD D (CJO=40p VJ=0.38 M=0.15
+RS=1 FC=0.1 IS=1p TT=5E-8 N=1 BV=20.5)
.MODEL RTEMP RES (TC1=10E-3 TC2=5.5E-6)
.ENDS

.SUBCKT AO3416 4 1 2
M1 3 1 2 2 NMOS W=998956u L=1.0u
M2 2 1 2 4 PMOS W=998956u L=0.4u
R1 4 3 RTEMP 13E-3
CGS 1 2 225p
DBD 2 3 DBD
.MODEL NMOS NMOS (LEVEL=3 TOX=1.5E-8
+ RS=2E-4 RD=0 NSUB=1.2E17
+ kp=4E-5 UO=600 THETA=0
+ VMAX=0 XJ=4E-7 KAPPA=1.1
+ ETA=0 TPG=1
+ IS=0 LD=0
+ CGSO=0 CGDO=0 CGBO=0
+ NFS=2E10 )
.MODEL PMOS PMOS (LEVEL=3 TOX=1.5E-8
+NSUB=2.0E16 TPG=-1)
.MODEL DBD D (CJO=690p VJ=0.6 M=0.3
+RS=0.005 FC=0.5 IS=1E-11 TT=1.5E-8 N=1.0 BV=36 IBV=1E-4)
.MODEL RTEMP RES (TC1=6.5E-3 TC2=1E-6)
.ENDS

.SUBCKT AO3415 4 1 2
.param Ascale= 0.94
M1 3 5 2 2 PMOS W={ Ascale* 0.9375 } L= 0.000002
M2 2 5 2 3 NMOS W={ Ascale* 0.9375 } L= 0.0000044
R1 4 3 RTEMP { 0.031 / Ascale }
RG 1 5 12
CGS 5 2 { 1p * Ascale }
DBD 3 2 DBD
.MODEL PMOS PMOS (LEVEL=3
+ TOX=3.00E-08
+ NSUB=5E+15
+ VTO= -0.9
+ THETA=0
+ kp= 7.15E-05
+ TPG=1 )
.MODEL NMOS NMOS (LEVEL=3
+ TOX=1.5E-07
+ NSUB=2.3E+15
+TPG=-1 )
.MODEL DBD D (CJO={ Ascale * 1.8E-10 }
+ VJ= 0.7
+ M= 0.5
+ RS= {0.007/ Ascale }
+ IS= {AScale* 8.35E-13 }
+ TT= 8.00E-09
+ BV= 35
+ IBV= 0.00025 )
.MODEL RTEMP RES (TC1=3E-3)
.ENDS

* FDN359AN ELECTRICAL MODEL (SOT-23 Single N-Ch DMOS)
* -------------------------------------------------
.SUBCKT FDN359AN 20 10 30
Rg 10 1 0.1
M1 2 1 3 3 DMOS L=1u W=1u
.MODEL DMOS NMOS (VTO={1.7*{-0.00272*TEMP+1.068}} KP={-0.04*TEMP+11.5}
+ THETA=0.088 VMAX=5E5 LEVEL=3)
Cgs 1 3 700p
Rd 20 4 8m TC=0.0032
Dds 3 4 DDS
.MODEL DDS D(BV={30*{0.0006664*TEMP+0.98334}} M=0.3 CJO=800p VJ=0.8)
Dbody 3 20 DBODY
.MODEL DBODY D(IS=1.4E-13 N=1 RS=40m TT=100n)
Ra 4 2 8m TC=0.0032
Rs 3 5 1m
Ls 5 30 0.5n
M2 1 8 6 6 INTER
E2 8 6 4 1 2
.MODEL INTER NMOS(VTO=0 KP=10 LEVEL=1)
Cgdmax 7 4 200p
Rcgd 7 4 10meg
Dgd 6 4 DGD
Rdgd 4 6 10meg
.MODEL DGD D(M=0.5 CJO=200p VJ=0.4)
M3 7 9 1 1 INTER
E3 9 1 4 1 -2
.ENDS FDN359AN

.SUBCKT FDN304p 20 10 30
*20=DRAIN 10=GATE 30=SOURCE 50=VTEMP
Vtemp 50 0 {TEMP}
Rg 10 11x 1
Rdu 12x 1 1u
M1 2 1 4x 4x DMOS L=1u W=1u
.MODEL DMOS PMOS(VTO=-0.87 KP=2.5E+1
+THETA=0.25 VMAX=8.5E5 LEVEL=3)
Cgs 1 5x 1300p
Rd 20 4 7E-3
Dds 4 5x DDS
.MODEL DDS D(M=4.26E-1 VJ=3.39E-1 CJO=562p)
Dbody 20 5x DBODY
.MODEL DBODY D(IS=3.81E-10 N=1.145283 RS=0.00084 TT=14.5n)
Ra 4 2 7E-3
Rs 5x 5 0.5m
Ls 5 30 0.5n
M2 1 8 6 6 INTER
E2 8 6 4 1 2
.MODEL INTER PMOS(VTO=0 KP=10 LEVEL=1)
Cgdmax 7 4 1050p
Rcgd 7 4 10meg
Dgd 4 6 DGD
Rdgd 4 6 10meg
.MODEL DGD D(M=3.2E-1 VJ=4.23E-3 CJO=1050p)
M3 7 9 1 1 INTER
E3 9 1 4 1 -2
*ZX SECTION
EOUT 4x 6x poly(2) (1x,0) (3x,0) 0 0 0 0 1
FCOPY 0 3x VSENSE 1
RIN 1x 0 1G
VSENSE 6x 5x 0
RREF 3x 0 10m
*TEMP SECTION
ED 101 0 VALUE {V(50,100)}
VAMB 100 0 25
EKP 1x 0 101 0 .012
*VTO SECTION
EVTO 102 0 101 0 .0007
EVT 11x 12x 102 0 1
*DIODE THERMO BREAKDOWN SECTION
EBL VB1 VB2 101 0 0.8
VBLK VB2 0 20
D DB1 20 DBLK
.MODEL DBLK D(IS=1E-14 CJO=.1p RS=.1)
EDB 0 DB1 VB1 0 1
.ENDS FDN304p

*ZETEX ZXMN2A01F Spice Model v2.0 Last Revised 22/2/05
*
.SUBCKT ZXMN2A01F 30 40 50
*------connections-------D-G-S
M1 6 20 5 5 Nmod L=1.16u W=0.46
M2 5 20 5 6 Pmod L=1.3u W=0.22
RG 4 2 5
RIN 2 5 1E12
RD 3 6 0.036 TC=5.8e-3,1.3E-5
RL 3 5 3E9
C1 2 5 8.5p
C2 3 4 3p
D1 5 3 Dbodymod
Egt1 2 20 21 5 1
Vgt1 5 22 1
Igt1 5 21 1
Rgt 21 22 1 TC=-3e-4
LD 3 30 0.5E-9
LG 4 40 1.0E-9
LS 5 50 1.0E-9
.MODEL Nmod NMOS (LEVEL=3 TOX=4.5E-8 NSUB=3.5E16 VTO=1.31
+KP=4E-5 RS=.03 NFS=2E11 KAPPA=0.06 UO=650 IS=1f N=10)
.MODEL Pmod PMOS (LEVEL=3 TOX=4.5E-8 NSUB=3.3E16
+TPG=-1 IS=1f N=10)
.MODEL Dbodymod D (IS=5p RS=.025 IKF=0.1 TRS1=1.5e-3
+CJO=230p BV=23)
.ENDS ZXMN2A01F
*

.SUBCKT DN3545 1 2 3
*
* NODE 1=DRAIN
* NODE 2=GATE
* NODE 3=SOURCE
*
MOS1 11 2 3 3 ND_DMOS L=2.5E-06 W=58E-3
JFET 1 3 11 JMOD 1
DBODY 3 1 DMOS
R 1 11 1E+6
*
.MODEL ND_DMOS NMOS
+ LEVEL=3 UO=307 VTO=-1.829 NFS=5.0E+11
+ TOX=5E-08 NSUB=3.59E+15 VMAX=5E+04
+ CGDO=1.96E-9
+ CGSO=1.5E-09 CGBO=0 CBD=4.0E-11 CBS=1.0f
+ MJ=0.5003 MJSW=0.33 IS=5E-13 PB=0.4507
+ FC=0.5 XJ=1.2E-05
+ THETA=0 ETA=1.0E-6 KAPPA=1.0E-6
*
.MODEL DMOS D
+ IS=281.0f N=0.950 RS=2.5
+ BV=450 IBV=1.0E-3 TT=1.0E-6
*
.MODEL JMOD NJF
+ VTO=-3.5 BETA=0.100 IS=281f
+ RD=9.0 LAMBDA=0
.ENDS

.SUBCKT SI2308DS 4 1 2
M1 3 1 2 2 NMOS W=194960u L=0.3u
M2 2 1 2 4 PMOS W=194960u L=1.15u
R1 4 3 107m TC1=8E-3 TC2=6.5E-6
CGS 1 2 1.8E-10
DBD 2 4 DBD
.MODEL NMOS NMOS (LEVEL=3 TOX=5E-8 RS=28E-3 NSUB=2E17 kp=1.86E-5 UO=650
+ VMAX=0 XJ=0.5u KAPPA=1u ETA=1E-4 TPG=1 IS=0 NFS=0.8E12
.MODEL PMOS PMOS (LEVEL=3 TOX=5E-8 NSUB=1E16 TPG=-1)
.MODEL DBD D (CJO=1.7E-10 VJ=0.38 M=0.34 RS= 0.15 FC=0.1 IS=1E-11 TT=3.3E-8 N=1 BV=65)
.ENDS

.SUBCKT irlml6302 1 2 3
* Node 1 -> Drain
* Node 2 -> Gate
* Node 3 -> Source
M1 9 7 8 8 MM L=100u W=100u
.MODEL MM PMOS LEVEL=1 IS=1e-32
+VTO=-1.37186 LAMBDA=0 KP=1.46142
+CGSO=7.46915e-07 CGDO=1.30976e-07
RS 8 3 0.160522
D1 1 3 MD
.MODEL MD D IS=1.58288e-10 RS=0.0803102 N=1.3978 BV=20
+IBV=0.00025 EG=1 XTI=4 TT=0.0001
+CJO=7.48552e-11 VJ=1.0433 M=0.38365 FC=0.5
RDS 3 1 1.6e+07
RD 9 1 0.0792372
RG 2 7 35.953
D2 5 4 MD1
.MODEL MD1 D IS=1e-32 N=50
+CJO=1.80598e-10 VJ=0.5 M=0.713713 FC=1e-08
D3 5 0 MD2
.MODEL MD2 D IS=1e-10 N=0.400002 RS=3e-06
RL 5 10 1
FI2 7 9 VFI2 -1
VFI2 4 0 0
EV16 10 0 9 7 1
CAP 11 10 2.96603e-10
FI1 7 9 VFI1 -1
VFI1 11 6 0
RCAP 6 10 1
D4 6 0 MD3
.MODEL MD3 D IS=1e-10 N=0.400002
.ENDS

* All Rights Reserved
* Commercial Use or
* Resale Restricted
* Date: 2011/03/15
******************D G S
.SUBCKT RSU002P03 1 2 3
M1   11 22 3 3 MOS_P
D1         1 3 DDS
R1        1 11 RTH 705m
D2       11 22 DDG
R2        2 22 80
.MODEL MOS_P PMOS
+ LEVEL=3 L=2u W=.1 KP=13.445u RS=10m VTO=-2.2723 RDS=30MEG TOX=2u CGSO=216p CGDO=0p CBD=0 N=2 RB=1m GAMMA=0.3 UO=300 NFS=20G
.MODEL DDS D IS=245.02f N=1.1267 RS=.81308 IKF=17.818 CJO=11.052p M=.39856 VJ=.84706 BV=30 TT=20n
.MODEL DDG D CJO=11.539p M=.35579 VJ=1.0537 N=10000 FC=0.82
.MODEL RTH RES TC1=0.0042 TC2=0.000003
.ENDS RSU002P03

* FDG6320C ELECTRICAL MODEL (SC70-6  N-Ch and P-Ch DMOS) 
* 
.SUBCKT FDG6320C_N 20 10 30 ;50
*20=DRAIN 10=GATE 30=SOURCE 50=VTEMP
V 50 0 {TEMP}
Rg 10 11x 1
Rdu 12x 1 1u
M1 2 1 4x 4x DMOS L=1u W=1u
.MODEL DMOS NMOS(VTO=0.9 KP=4.5E-1
+THETA=0.25 VMAX=3E5 LEVEL=3)
Cgs 1 5x 10p
Rd 20 4 7.8E-1 
Dds 5x 4 DDS
.MODEL DDS D(M=9.9E-1 VJ=2.23 CJO=8.4p)
Dbody 5x 20 DBODY
.MODEL DBODY D(IS=7.78E-9 N=1.946325 RS=0.023193 TT=15.97n)
Ra 4 2 7.8E-1 
* Rs 5x 5 0.5m
Ls 5x 30 0.5n Rser=0.5m
M2 1 8 6 6 INTER
E2 8 6 4 1 2
.MODEL INTER NMOS(VTO=0 KP=10 LEVEL=1)
Cgdmax 7 4 54p
Rcgd 7 4 10meg
Dgd 6 4 DGD
Rdgd 4 6 10meg
.MODEL DGD D(M=2.71E-1 VJ=1.44E-5 CJO=54p)
M3 7 9 1 1 INTER
E3 9 1 4 1 -2
*ZX SECTION
EOUT 4x 6x poly(2) (1x,0) (3x,0) 0 0 0 0 1
FCOPY 0 3x VSENSE 1
RIN 1x 0 1G
VSENSE 6x 5x 0
RREF 3x 0 10m
*TEMP SECTION
ED 101 0 VALUE {V(50,100)}
VAMB 100 0 25
EKP 1x 0 101 0 1.8
*VTO TEMP SECTION
EVTO 102 0 101 0 .0005
EVT 12x 11x 102 0 1
*DIODE THEMO BREAKDOWN SECTION
EBL VB1 VB2 101 0 .08
VBLK VB2 0 25
D 20 DB1 DBLK
.MODEL DBLK D(IS=1E-14 CJO=.1p RS=.1)
EDB DB1 0 VB1 0 1
.ENDS FDG6320C_N
*---------------------------------------------------------
*FDG6320C at Temp. Electrical Model (Complementary P-Ch)
*---------------------------------------------------------
.SUBCKT FDG6320C_P 20 10 30 ;50
*20=DRAIN 10=GATE 30=SOURCE 50=VTEMP
V 50 0 {TEMP}
Rg 10 11x 1
Rdu 12x 1 1u
M1 2 1 4x 4x DMOS L=1u W=1u
.MODEL DMOS PMOS(VTO=-0.83 KP=1.53E-1
+THETA=0.25 VMAX=2E5 LEVEL=3)
Cgs 1 5x 12p
Rd 20 4 1.4
Dds 4 5x DDS
.MODEL DDS D(M=2.91E-1 VJ=4.64E-1 CJO=14.1p)
Dbody 20 5x DBODY
.MODEL DBODY D(IS=7.94E-8 N=2.460181 RS=.021333 TT=52.03n)
Ra 4 2 1.4 
* Rs 5x 5 0.5m
* Ls 5 30 0.5n
Ls 5x 30 0.5n Rser=0.5m
M2 1 8 6 6 INTER
E2 8 6 4 1 2
.MODEL INTER PMOS(VTO=0 KP=10 LEVEL=1)
Cgdmax 7 4 35.6p
Rcgd 7 4 10meg
Dgd 4 6 DGD
Rdgd 4 6 10meg
.MODEL DGD D(M=4.01E-1 VJ=2.6E-3 CJO=35.6p)
M3 7 9 1 1 INTER
E3 9 1 4 1 -2
*ZX SECTION
EOUT 4x 6x poly(2) (1x,0) (3x,0) 0 0 0 0 1
FCOPY 0 3x VSENSE 1
RIN 1x 0 1G
VSENSE 6x 5x 0
RREF 3x 0 10m
*TEMP SECTION
ED 101 0 VALUE {V(50,100)}
VAMB 100 0 25
EKP 1x 0 101 0 2.9
*VTO TEMP SECTION
EVTO 102 0 101 0 .0016
EVT 11x 12x 102 0 1
*DIODE THEMO BREAKDOWN SECTION
EBL VB1 VB2 101 0 .08
VBLK VB2 0 25
D DB1 20 DBLK
.MODEL DBLK D(IS=1E-14 CJO=.1p RS=.1)
EDB 0 DB1 VB1 0 1
.ENDS FDG6320C_P

.subckt fdv304p d g s
* sot-23 single p-ch dmos
q d s g za
.model za pnp bf=0.05
rg g 1 1
m1 2 1 3 3 dmos l=1u w=1u
.model dmos pmos (vto=-0.8 kp=0.7982 theta=0.096 vmax=3.8e5 level=3)
cgs 1 3 130p
rd d 4 0.25
dds 4 3 dds
.model dds d (bv=25 m=0.35 cjo=100p vj=1.0)
dbody d 3 dbody
.model dbody d (is=1p n=1 rs=12.7m tt=25n)
ra 4 2 0.25
rs 3 5 10m
ls 5 s 0.5n
m2 1 8 6 6 inter
be2 8 6 v=v(4,1)+v(4,1)
.model inter pmos (vto=0 kp=10 level=1)
cgdmax 7 4 110p
rcgd 7 4 10meg
dgd 4 6 dgd
rdgd 4 6 10meg
.model dgd d (m=0.55 cjo=110p vj=0.12)
m3 7 9 1 1 inter
be3 1 9 v=v(8,6)
.ends

.SUBCKT FDN352AP 20 10 30
*20=DRAIN 10=GATE 30=SOURCE 50=VTEMP
v 50 0 {TEMP}
Rg 10 11x 1
Rdu 12x 1 1u
M1 2 1 4x 4x DMOS L=1u W=1u
.MODEL DMOS PMOS(VTO=-2 KP=1.89
+THETA=.08 VMAX=3.5E5 LEVEL=3)
Cgs 1 5x 126p
Rd 20 4 1.2E-2
Dds 4 5x DDS
.MODEL DDS D(M=4.83E-1 VJ=1.15 CJO=69p)
Dbody 20 5x DBODY
.MODEL DBODY D(IS=1.5p N=1.12323 RS=0.00219 TT=9.6n)
Ra 4 2 1.2E-2
Rs 5x 5 0.5m
Ls 5 30 0.5n
M2 1 8 6 6 INTER
E2 8 6 4 1 2
.MODEL INTER PMOS(VTO=0 KP=10 LEVEL=1)
Cgdmax 7 4 122p
Rcgd 7 4 10meg
Dgd 4 6 DGD
Rdgd 4 6 10meg
.MODEL DGD D(M=2.5E-1 VJ=1.76E-2 CJO=122p)
M3 7 9 1 1 INTER
E3 9 1 4 1 -2
*ZX SECTION
EOUT 4x 6x poly(2) (1x,0) (3x,0) 0 0 0 0 1
FCOPY 0 3x VSENSE 1
RIN 1x 0 1G
VSENSE 6x 5x 0
RREF 3x 0 10m
*TEMP SECTION
ED 101 0 VALUE {V(50,100)}
VAMB 100 0 25
EKP 1x 0 101 0 .06
*VTO TEMP SECTION
EVTO 102 0 101 0 .001
EVT 11x 12x 102 0 1
*DIODE THEMO BREAKDOWN SECTION
EBL VB1 VB2 101 0 .08
VBLK VB2 0 30
D DB1 20 DBLK
.MODEL DBLK D(IS=1E-14 CJO=.1p RS=.1)
EDB 0 DB1 VB1 0 1
.ENDS FDN352AP
*FDN352AP (Rev.A) 10/13/05

.SUBCKT NDS351AN 20 10 30
*20=DRAIN 10=GATE 30=SOURCE 50=VTEMP
v 50 0 {TEMP}
Rg 10 11x 1
Rdu 12x 1 1u
M1 2 1 4x 4x DMOS L=1u W=1u
.MODEL DMOS NMOS(VTO=2.4 KP=6.55
+THETA=.1 VMAX=5E5 LEVEL=3)
Cgs 1 5x 130p
Rd 20 4 2E-2
Dds 5x 4 DDS
.MODEL DDS D(M=4.05E-1 VJ=6.84E-1 CJO=70p)
Dbody 5x 20 DBODY
.MODEL DBODY D(IS=2.61E-13 N=1.086382 RS=.00044 TT=10.5n)
Ra 4 2 2E-2
Rs 5x 5 0.5m
Ls 5 30 0.5n
M2 1 8 6 6 INTER
E2 8 6 4 1 2
.MODEL INTER NMOS(VTO=0 KP=10 LEVEL=1)
Cgdmax 7 4 105p
Rcgd 7 4 10meg
Dgd 6 4 DGD
Rdgd 6 4 10meg
.MODEL DGD D(M=2.29E-1 VJ=4.48E-3 CJO=105p)
M3 7 9 1 1 INTER
E3 9 1 4 1 -2
*ZX SECTION
EOUT 4x 6x poly(2) (1x,0) (3x,0) 0 0 0 0 1
FCOPY 0 3x VSENSE 1
RIN 1x 0 1G
VSENSE 6x 5x 0
RREF 3x 0 10m
*TEMP SECTION
ED 101 0 VALUE {V(50,100)}
VAMB 100 0 25
EKP 1x 0 101 0 .032
*VTO TEMP SECTION
EVTO 102 0 101 0 .001
EVT 12x 11x 102 0 1
*DIODE THEMO BREAKDOWN SECTION
EBL VB1 VB2 101 0 .08
VBLK VB2 0 30
D 20 DB1 DBLK
.MODEL DBLK D(IS=1E-14 CJO=.1p RS=.1)
EDB DB1 0 VB1 0 1
.ENDS NDS351AN
*NDS351AN (Rev.A) 9/29/03

.SUBCKT irlml2060pbf 1 2 3
* Model generated on Aug 16, 10
* Node 1 -> Drain
* Node 2 -> Gate
* Node 3 -> Source
M1 9 7 8 8 MM L=100u W=100u
.MODEL MM NMOS LEVEL=1 IS=1e-32
+VTO=2.80157 LAMBDA=0.0343822 KP=4.48896
+CGSO=5.8563e-07 CGDO=1.50373e-08
RS 8 3 0.330834
D1 3 1 MD
.MODEL MD D IS=1.4393e-09 RS=0.0402678 N=1.5 BV=60
+IBV=0.00025 EG=1 XTI=1 TT=1e-07
+CJO=4.47874e-11 VJ=0.5 M=0.519102 FC=0.5
RDS 3 1 1e+07
RD 9 1 0.0274132
RG 2 7 17.3855
D2 4 5 MD1
.MODEL MD1 D IS=1e-32 N=50
+CJO=1.66547e-11 VJ=0.5 M=0.3 FC=1e-08
D3 0 5 MD2
.MODEL MD2 D IS=1e-10 N=0.4 RS=3e-06
RL 5 10 1
FI2 7 9 VFI2 -1
VFI2 4 0 0
EV16 10 0 9 7 1
CAP 11 10 4.56066e-11
FI1 7 9 VFI1 -1
VFI1 11 6 0
RCAP 6 10 1
D4 0 6 MD3
.MODEL MD3 D IS=1e-10 N=0.4
.ENDS irlml2060pbf



.SUBCKT irlml9303pbf 1 2 3
* Model generated on Aug 23, 10
* Node 1 -> Drain
* Node 2 -> Gate
* Node 3 -> Source
M1 9 7 8 8 MM L=100u W=100u
.MODEL MM PMOS LEVEL=1 IS=1e-32
+VTO=-2.38433 LAMBDA=0.00825789 KP=3.4507
+CGSO=1.37975e-06 CGDO=1.07654e-07
RS 8 3 0.068914
D1 1 3 MD
.MODEL MD D IS=3.38938e-10 RS=0.00771321 N=1.41394 BV=30
+IBV=0.00025 EG=1 XTI=2.90554 TT=1e-07
+CJO=9.22636e-11 VJ=0.5 M=0.490425 FC=0.1
RDS 3 1 5e+07
RD 9 1 0.0001
RG 2 7 20.5241
D2 5 4 MD1
.MODEL MD1 D IS=1e-32 N=50
+CJO=1.1935e-10 VJ=0.5 M=0.530391 FC=1e-08
D3 5 0 MD2
.MODEL MD2 D IS=1e-10 N=0.4 RS=3e-06
RL 5 10 1
FI2 7 9 VFI2 -1
VFI2 4 0 0
EV16 10 0 9 7 1
CAP 11 10 1.8489e-10
FI1 7 9 VFI1 -1
VFI1 11 6 0
RCAP 6 10 1
D4 6 0 MD3
.MODEL MD3 D IS=1e-10 N=0.4
.ENDS irlml9303pbf

.SUBCKT irlml0100 1 2 3
* SPICE3 MODEL WITH THERMAL RC NETWORK
**************************************
* Model Generated by MODPEX *
*Copyright(c) Symmetry Design Systems*
* All Rights Reserved *
* UNPUBLISHED LICENSED SOFTWARE *
* Contains Proprietary Information *
* Which is The Property of *
* SYMMETRY OR ITS LICENSORS *
*Commercial Use or Resale Restricted *
* by Symmetry License Agreement *
**************************************
* Model generated on May 7, 10
* MODEL FORMAT: SPICE3
* Symmetry POWER MOS Model (Version 1.0)
* External Node Designations
* Node 1 -> Drain
* Node 2 -> Gate
* Node 3 -> Source
M1 9 7 8 8 MM L=100u W=100u
.MODEL MM NMOS LEVEL=1 IS=1e-32
+VTO=2.17799 LAMBDA=0.0257953 KP=4.23695
+CGSO=2.73131e-06 CGDO=8.6403e-08
RS 8 3 0.0001
D1 3 1 MD
.MODEL MD D IS=6.88775e-11 RS=0.0210197 N=1.17719 BV=100
+IBV=0.00025 EG=1 XTI=4 TT=1e-07
+CJO=1.68524e-10 VJ=0.5 M=0.635966 FC=0.1
RDS 3 1 1e+07
RD 9 1 0.115715
RG 2 7 1.99479
D2 4 5 MD1
* Default values used in MD1:
* RS=0 EG=1.11 XTI=3.0 TT=0
* BV=infinite IBV=1mA
.MODEL MD1 D IS=1e-32 N=50
+CJO=1.32047e-10 VJ=0.5 M=0.9 FC=1e-08
D3 0 5 MD2
* Default values used in MD2:
* EG=1.11 XTI=3.0 TT=0 CJO=0
* BV=infinite IBV=1mA
.MODEL MD2 D IS=1e-10 N=0.4 RS=3e-06
RL 5 10 1
FI2 7 9 VFI2 -1
VFI2 4 0 0
EV16 10 0 9 7 1
CAP 11 10 1.32047e-10
FI1 7 9 VFI1 -1
VFI1 11 6 0
RCAP 6 10 1
D4 0 6 MD3
* Default values used in MD3:
* EG=1.11 XTI=3.0 TT=0 CJO=0
* RS=0 BV=infinite IBV=1mA
.MODEL MD3 D IS=1e-10 N=0.4
.ENDS irlml0100



.SUBCKT TN0200T 4 1 2
M1 3 1 2 2 NMOS W=577792u L=0.14u
M2 2 1 2 4 PMOS W=577792u L=0.20u
R1 4 3 RTEMP 125E-3
CGS 1 2 5p
DBD 2 4 DBD
************************************************************
.MODEL NMOS NMOS (LEVEL=3 TOX=1.7E-8
+ RS=175E-3 RD=0 NSUB=8.6E17
+ KP=0.7E-5 UO=650
+ VMAX=0 XJ=5E-7 KAPPA=1E-2
+ ETA=1E-4 TPG=1
+ IS=0 LD=0
+ CGSO=0 CGDO=0 CGBO=0
+ NFS=0.8E12 )
************************************************************
.MODEL PMOS PMOS (LEVEL=3 TOX=1.7E-8
+NSUB=1.2E16 TPG=-1)
************************************************************
.MODEL DBD D (CJO=120p VJ=0.38 M=0.38
+RS=0.01 FC=0.1 IS=1p TT=2.8E-8 N=1 BV=20.2)
************************************************************
.MODEL RTEMP RES (TC1=6.5E-3 TC2=5.5E-6)
************************************************************
.ENDS

*March 18, 2004
.SUBCKT TN0201KL 4 1 2
M1 3 1 2 2 NMOS W=26124u L=0.50u
M2 2 1 2 4 PMOS W=26124u L=0.80u
R1 4 3 RTEMP 23E-2
CGS 1 2 26p
DBD 2 4 DBD
************************************************************
.MODEL NMOS NMOS ( LEVEL=3 TOX=5E-8
+ RS=11E-2 RD=0 NSUB=1.65E17
+ KP=2E-5 UO=650
+ VMAX=0 XJ=5E-7 KAPPA=1E-1
+ ETA=1E-4 TPG=1
+ IS=0 LD=0
+ CGSO=0 CGDO=0 CGBO=0
+ NFS=0.8E12 )
************************************************************
.MODEL PMOS PMOS ( LEVEL=3 TOX=5E-8
+NSUB=1.2E17 TPG=-1)
************************************************************
.MODEL DBD D (CJO=26p VJ=0.38 M=0.19
+RS=1 FC=0.1 IS=1p TT=5E-8 N=1 BV=20.5)
************************************************************
.MODEL RTEMP RES (TC1=5E-3 TC2=5.5E-6)
************************************************************
.ENDS

*March 31, 2004
.SUBCKT TN0201K 4 1 2
M1 3 1 2 2 NMOS W=26124u L=0.50u
M2 2 1 2 4 PMOS W=26124u L=0.80u
R1 4 3 RTEMP 23E-2
CGS 1 2 26p
DBD 2 4 DBD
************************************************************
.MODEL NMOS NMOS ( LEVEL=3 TOX=5E-8
+ RS=11E-2 RD=0 NSUB=1.65E17
+ KP=2E-5 UO=650
+ VMAX=0 XJ=5E-7 KAPPA=1E-1
+ ETA=1E-4 TPG=1
+ IS=0 LD=0
+ CGSO=0 CGDO=0 CGBO=0
+ NFS=0.8E12 )
************************************************************
.MODEL PMOS PMOS ( LEVEL=3 TOX=5E-8
+NSUB=1.2E17 TPG=-1)
************************************************************
.MODEL DBD D (CJO=26p VJ=0.38 M=0.19
+RS=1 FC=0.1 IS=1p TT=5E-8 N=1 BV=20.5)
************************************************************
.MODEL RTEMP RES (TC1=5E-3 TC2=5.5E-6)
************************************************************
.ENDS

* NDS352P ELECTRICAL MODEL (SuperSOT-3 SOT-23 P-Ch DMOS)
* ------------------------
.SUBCKT NDS352P 20 10 30
Rg 10 1 1
M1 2 1 3 3 DMOS L=1u W=1u
.MODEL DMOS PMOS (VTO={-2.3*{-0.00184*TEMP+1.046}} KP={-0.003*TEMP+2.075}
+ THETA=0.096 VMAX=4E5 LEVEL=3)
Cgs 1 3 170p
Rd 20 4 30m TC=0.00248
Dds 4 3 DDS
.MODEL DDS D(BV={30*{0.0006*TEMP+0.985}} M=0.3 CJO=200p VJ=0.8)
Dbody 20 3 DBODY
.MODEL DBODY D(IS=1.4E-13 N=1 RS=40m TT=100n)
Ra 4 2 160m TC=0.00248
Rs 3 5 1m
Ls 5 30 0.5n
M2 1 8 6 6 INTER
E2 8 6 4 1 2
.MODEL INTER PMOS(VTO=0 KP=10 LEVEL=1)
Cgdmax 7 4 230p
Rcgd 7 4 10meg
Dgd 4 6 DGD
Rdgd 4 6 10meg
.MODEL DGD D(M=0.5 CJO=230p VJ=0.12)
M3 7 9 1 1 INTER
E3 9 1 4 1 -2
.ENDS

*MTD20P06HDL MCE 6/12/97
*Ref: Motorola TMOS Databook Q2/96
*60V 15A .143ohm Power MOSFET pkg:DPAK 1,2,3
.SUBCKT MTD20P06HDL 10 20 40
* TERMINALS: D G S
M1 1 2 3 3 DMOS L=1U W=1U
RD 10 1 66.9M
RS 40 3 4.58M
RG 20 2 24.1
CGS 2 3 784P
EGD 12 0 1 2 1
VFB 14 0 0
FFB 1 2 VFB 1
CGD 13 14 847P
R1 13 0 1
D1 12 13 DLIM
DDG 15 14 DCGD
R2 12 15 1
D2 15 0 DLIM
DSD 10 3 DSUB
LS 30 40 7.5N
.MODEL DMOS PMOS (LEVEL=3 VMAX=125K THETA=80M ETA=2M VTO=1.7 KP=22.4)
.MODEL DCGD D (CJO=847P VJ=0.6 M=0.68)
.MODEL DSUB D (IS=62.3N N=1.5 RS=0.117 BV=60 CJO=619P VJ=0.8 M=0.42 TT=64N)
.MODEL DLIM D (IS=100U)
.ENDS
**********
*MTD2955V MCE 6/12/97
*Ref: Motorola TMOS Databook Q2/96
*60V 12A .185ohm Power MOSFET pkg:DPAK 1,2,3
.SUBCKT MTD2955V 10 20 40
* TERMINALS: D G S
M1 1 2 3 3 DMOS L=1U W=1U
RD 10 1 86.9M
RS 40 3 5.62M
RG 20 2 25.9
CGS 2 3 460P
EGD 12 0 1 2 1
VFB 14 0 0
FFB 1 2 VFB 1
CGD 13 14 513P
R1 13 0 1
D1 12 13 DLIM
DDG 15 14 DCGD
R2 12 15 1
D2 15 0 DLIM
DSD 10 3 DSUB
LS 30 40 7.5N
.MODEL DMOS PMOS (LEVEL=3 VMAX=125K THETA=64.3M ETA=2M VTO=2.8 KP=5.66)
.MODEL DCGD D (CJO=513P VJ=0.6 M=0.68)
.MODEL DSUB D (IS=49.8N N=1.5 RS=87.5M BV=60 CJO=688P VJ=0.8 M=0.42 TT=114N)
.MODEL DLIM D (IS=100U)
.ENDS

*MTD3055V MCE 6/9/97
*Ref: Motorola TMOS Databook Q2/96
*60V 12A .1ohm Power MOSFET pkg:DPAK 1,2,3
.SUBCKT MTD3055V 10 20 40
* TERMINALS: D G S
M1 1 2 3 3 DMOS L=1U W=1U
RD 10 1 46.5M
RS 40 3 3.5M
RG 20 2 23.2
CGS 2 3 385P
EGD 12 0 2 1 1
VFB 14 0 0
FFB 2 1 VFB 1
CGD 13 14 321P
R1 13 0 1
D1 12 13 DLIM
DDG 15 14 DCGD
R2 12 15 1
D2 15 0 DLIM
DSD 3 10 DSUB
LS 30 40 7.5N
.MODEL DMOS NMOS (LEVEL=3 VMAX=125K THETA=66.7M ETA=2M VTO=2.7 KP=5.68)
.MODEL DCGD D (CJO=321P VJ=0.6 M=0.68)
.MODEL DSUB D (IS=49.8N N=1.5 RS=31.7M BV=60 CJO=452P VJ=0.8 M=0.42 TT=56N)
.MODEL DLIM D (IS=100U)
.ENDS

*ZETEX ZVP2120G Spice Model v1.0 Last Revised 10/8/05
*
.SUBCKT ZVP2120G 3 4 5
* D G S
M1 13 20 5 5 Pmod1
RG 4 2 100
RIN 2 5 1E9
RL 3 5 1.2E8
RD 3 13 Rmod1 22
C1 2 5 55p
**C2 3 2 15p
D1 3 5 Dmod1
D2 3 17 Dmod2
Egs1 2 17 2 5 1
Egt1 2 20 5 21 1
Vgt1 5 22 1
Igt1 5 21 1
Rgt 21 22 Rmod2 1
.MODEL Pmod1 PMOS VTO=-2.8 RS=2 IS=1f KP=0.17
+CBD=60p PB=1 LAMBDA=6E-3
.MODEL Dmod1 D IS=5p RS=2 BV=220
.MODEL Dmod2 D CJO=70p IS=1e-30 N=10
.MODEL Rmod1 RES (TC1=4.5e-3 TC2=4E-5)
.MODEL Rmod2 RES (TC1=-2.5e-3 TC2=3e-6)
.ENDS ZVP2120G


*FDC5614P at Temp. Electrical Model
*------------------------------------------------------
.SUBCKT FDC5614P 20 10 30
*20=DRAIN 10=GATE 30=SOURCE 50=VTEMP
V50 50 0 {TEMP}
Rg 10 11x 1
Rdu 12x 1 1u
M1 2 1 4x 4x DMOS L=1u W=1u
.MODEL DMOS PMOS(VTO=-2 KP=13
+THETA=0.1 VMAX=3E5 LEVEL=3)
Cgs 1 5x 750p
Rd 20 4 3.2E-2
Dds 4 5x DDS
.MODEL DDS D(M=4.22E-1 VJ=7.65E-1 CJO=253p)
Dbody 20 5x DBODY
.MODEL DBODY D(IS=4.7p N=1.116224 RS=0.000695 TT=30.4n)
Ra 4 2 3.2E-2
Rs 5x 5 0.5m
Ls 5 30 0.5n
M2 1 8 6 6 INTER
E2 8 6 4 1 2
.MODEL INTER PMOS(VTO=0 KP=10 LEVEL=1)
Cgdmax 7 4 652p
Rcgd 7 4 10meg
Dgd 4 6 DGD
Rdgd 4 6 10meg
.MODEL DGD D(M=3.2E-1 VJ=7.7E-3 CJO=652p)
M3 7 9 1 1 INTER
E3 9 1 4 1 -2
*ZX SECTION
EOUT 4x 6x poly(2) (1x,0) (3x,0) 0 0 0 0 1
FCOPY 0 3x VSENSE 1
RIN 1x 0 1G
VSENSE 6x 5x 0
RREF 3x 0 10m
*TEMP SECTION
ED 101 0 VALUE {V(50,100)}
VAMB 100 0 25
EKP 1x 0 101 0 .042
*VTO SECTION
EVTO 102 0 101 0 .004
EVT 11x 12x 102 0 1
*DIODE THERMO BREAKDOWN SECTION
EBL VB1 VB2 101 0 0.8
VBLK VB2 0 60
D DB1 20 DBLK
.MODEL DBLK D(IS=1E-14 CJO=.1p RS=.1)
EDB 0 DB1 VB1 0 1
.ENDS FDC5614P

.SUBCKT FDN5618P 20 10 30
*20=DRAIN 10=GATE 30=SOURCE 50=VTEMP
V50 50 0 {TEMP}
Rg 10 11x 1
Rdu 12x 1 1u
M1 2 1 4x 4x DMOS L=1u W=1u
.MODEL DMOS PMOS(VTO=-1.8 KP=6.5
+THETA=0.1 VMAX=3E5 LEVEL=3)
Cgs 1 5x 428p
Rd 20 4 5.65E-2
Dds 4 5x DDS
.MODEL DDS D(M=4.08E-1 VJ=1.89E-2 CJO=174p)
Dbody 20 5x DBODY
.MODEL DBODY D(IS=5.53p N=1.140525 RS=0.001 TT=32n)
Ra 4 2 5.65E-2
Rs 5x 5 0.5m
Ls 5 30 0.5n
M2 1 8 6 6 INTER
E2 8 6 4 1 2
.MODEL INTER PMOS(VTO=0 KP=10 LEVEL=1)
Cgdmax 7 4 349p
Rcgd 7 4 10meg
Dgd 4 6 DGD
Rdgd 4 6 10meg
.MODEL DGD D(M=3.8E-1 VJ=1.37E-2 CJO=349p)
M3 7 9 1 1 INTER
E3 9 1 4 1 -2
*ZX SECTION
EOUT 4x 6x poly(2) (1x,0) (3x,0) 0 0 0 0 1
FCOPY 0 3x VSENSE 1
RIN 1x 0 1G
VSENSE 6x 5x 0
RREF 3x 0 10m
*TEMP SECTION
ED 101 0 VALUE {V(50,100)}
VAMB 100 0 25
EKP 1x 0 101 0 .09
*VTO SECTION
EVTO 102 0 101 0 .0025
EVT 11x 12x 102 0 1
*DIODE THERMO BREAKDOWN SECTION
EBL VB1 VB2 101 0 0.8
VBLK VB2 0 60
D DB1 20 DBLK
.MODEL DBLK D(IS=1E-14 CJO=.1p RS=.1)
EDB 0 DB1 VB1 0 1
.ENDS FDN5618P

.SUBCKT HUF76639 2 1 3 ; rev 26 July 1999
CA 12 8 4.2e-9
CB 15 14 4.2e-9
CIN 6 8 2.27e-9
DBODY 7 5 DBODYMOD
DBREAK 5 11 DBREAKMOD
DPLCAP 10 5 DPLCAPMOD
EBREAK 11 7 17 18 118.2
EDS 14 8 5 8 1
EGS 13 8 6 8 1
ESG 6 10 6 8 1
EVTHRES 6 21 19 8 1
EVTEMP 20 6 18 22 1
IT 8 17 1
LDRAIN 2 5 1.0e-9
LGATE 1 9 5.1e-9
LSOURCE 3 7 3.1e-9
MMED 16 6 8 8 MMEDMOD
MSTRO 16 6 8 8 MSTROMOD
MWEAK 16 21 8 8 MWEAKMOD
RBREAK 17 18 RBREAKMOD 1
RDRAIN 50 16 RDRAINMOD 15.8e-3
RGATE 9 20 1.94
RLDRAIN 2 5 10
RLGATE 1 9 51
RLSOURCE 3 7 31
RSLC1 5 51 RSLCMOD 1e-6
RSLC2 5 50 1e3
RSOURCE 8 7 RSOURCEMOD 3.6e-3
RVTHRES 22 8 RVTHRESMOD 1
RVTEMP 18 19 RVTEMPMOD 1
S1A 6 12 13 8 S1AMOD
S1B 13 12 13 8 S1BMOD
S2A 6 15 14 13 S2AMOD
S2B 13 15 14 13 S2BMOD
VBAT 22 19 DC 1
ESLC 51 50 VALUE={(V(5,51)/ABS(V(5,51)))*(PWR(V(5,51)/99e-6,3.5))}
.MODEL DBODYMOD D (IS=2.6p RS=2.65e-3 IKF=6 TRS1=1.5e-3 TRS2=3.5e-6 CJO=2.1e-9 TT=5.6e-8 M=0.52)
.MODEL DBREAKMOD D (RS=2.5e-1 TRS1=1e-4 TRS2=-1e-6)
.MODEL DPLCAPMOD D (CJO=2.6e-9 IS=1e-30 M=0.89 N=10)
.MODEL MMEDMOD NMOS (VTO=1.77 KP=7 IS=1e-30 N=10 TOX=1 L=1U W=1U RG=1.94)
.MODEL MSTROMOD NMOS (VTO=2.06 KP=95 IS=1e-30 N=10 TOX=1 L=1U W=1U)
.MODEL MWEAKMOD NMOS (VTO=1.48 KP=0.12 IS=1e-30 N=10 TOX=1 L=1U W=1U RG=19.4 RS=.1)
.MODEL RBREAKMOD RES (TC1=1.05e-3 TC2=-5e-7)
.MODEL RDRAINMOD RES (TC1=8.5e-3 TC2=2.3e-5)
.MODEL RSLCMOD RES (TC1=3.4e-3 TC2=2.5e-6)
.MODEL RSOURCEMOD RES (TC1=1e-3 TC2=1e-6)
.MODEL RVTHRESMOD RES (TC1=-1.9e-3 TC2=-4.5e-6)
.MODEL RVTEMPMOD RES (TC1=-1.7e-3 TC2=1.5e-6)
.MODEL S1AMOD VSWITCH (RON=1e-5 ROFF=0.1 VON=-4.5 VOFF=-2.0)
.MODEL S1BMOD VSWITCH (RON=1e-5 ROFF=0.1 VON=-2.0 VOFF=-4.5)
.MODEL S2AMOD VSWITCH (RON=1e-5 ROFF=0.1 VON=-0.5 VOFF=0.3)
.MODEL S2BMOD VSWITCH (RON=1e-5 ROFF=0.1 VON=0.3 VOFF=-0.5)
.ENDS

*Oct 12, 2005
.SUBCKT Si2337DS D G S
M1 3 G S S PMOS W=743738u L=0.25u
M2 S G S D NMOS W=743738u L=0.40u
R1 D 3 RTEMP 11E-2
CGS G S 500p
DBD D S DBD
.MODEL PMOS PMOS ( LEVEL=3 TOX=5E-8
+ RS=7E-2 RD=0 NSUB=2.6E17
+ KP=4.4E-6 UO=400
+ VMAX=0 XJ=5E-7 KAPPA=1E-1
+ ETA=1E-4 TPG=-1
+ IS=0 LD=0
+ CGSO=0 CGDO=0 CGBO=0
+ NFS=0.8E12 )
.MODEL NMOS NMOS ( LEVEL=3 TOX=5E-8
+NSUB=5E15 TPG=-1)
.MODEL DBD D (CJO=50p VJ=0.38 M=0.46
+RS=0.1 FC=0.5 IS=1p TT=6E-8 N=1 BV=81)
.MODEL RTEMP RES (TC1=9E-3 TC2=5.5E-6)
.ENDS

*February 12, 2007
.SUBCKT Si2309DS 4 1 2
M1 3 1 2 2 PMOS W=181400u L=0.30u
M2 2 1 2 4 NMOS W=181400u L=1.50u
R1 4 3 RTEMP 150E-3
CGS 1 2 240p
DBD 4 2 DBD
.MODEL PMOS PMOS ( LEVEL=3 TOX=5E-8
+ RS=127E-3 RD=0 NSUB=0.87E17
+ kp=0.69E-5 UO=400
+ VMAX=0 XJ=0.5E-6 KAPPA=24E-3
+ ETA=1E-4 TPG=-1
+ IS=0 LD=0
+ CGSO=0 CGDO=0 CGBO=0
+ NFS=0.8E12 )
.MODEL NMOS NMOS ( LEVEL=3 TOX=5E-8
+NSUB=47E15 TPG=1)
.MODEL DBD D (CJO=100p VJ=0.38 M=0.38
+RS=0.1 FC=0.5 IS=1p TT=3.6E-8 N=1 BV=62)
.MODEL RTEMP RES (TC1=9.5E-3 TC2=5.5E-6)
.ENDS

*NDS7002A ELECTRICAL MODEL (SOT-23 Single N-Ch DMOS)
* -----------------------
.SUBCKT NDS7002A 20 10 30
Rg 10 1 1
M1 2 1 3 3 DMOS L=1u W=1u
.MODEL DMOS NMOS (VTO={2.1*{-0.0016*TEMP+1.04}} KP=0.35 THETA=0.086
+ VMAX=2.2E5 LEVEL=3)
Cgs 1 3 60p
Rd 20 4 0.3 TC=0.0075
Dds 3 4 DDS
.MODEL DDS D(BV={60*{0.00072*TEMP+0.982}} M=0.36 CJO=23p VJ=0.8)
Dbody 3 20 DBODY
.MODEL DBODY D(IS=1.4E-13 N=1 RS=40m TT=100n)
Ra 4 2 0.4 TC=0.0075
Rs 3 5 10m
Ls 5 30 .5n
M2 1 8 6 6 INTER
E2 8 6 4 1 2
.MODEL INTER NMOS(VTO=0 KP=10 LEVEL=1)
Cgdmax 7 4 85p
Rcgd 7 4 10meg
Dgd 6 4 DGD
Rdgd 4 6 10meg
.MODEL DGD D(M=0.53 CJO=85p VJ=0.12)
M3 7 9 1 1 INTER
E3 9 1 4 1 -2
.ENDS

.SUBCKT Si7402DN 4 1 2
M1 3 1 2 2 NMOS W=3008331u L=0.25u
M2 2 1 2 4 PMOS W=3008331u L=0.20u
R1 4 3 1m TC=9m, TC2=5.5u
CGS 1 2 2200p
DBD 2 4 DBD
.MODEL NMOS NMOS ( LEVEL=3 TOX=1.7E-8
+ RS=3E-3 RD=0 NSUB=2.95E17
+ KP=3.2E-5 UO=650
+ VMAX=0 XJ=5E-7 KAPPA=1E-1
+ ETA=1E-4 TPG=1
+ IS=0 LD=0
+ CGSO=0 CGDO=0 CGBO=0
+ NFS=0.8E12 )
.MODEL PMOS PMOS ( LEVEL=3 TOX=1.7E-8 NSUB=2.7E17 TPG=-1)
.MODEL DBD D (CJO=1250p VJ=0.38 M=0.34 RS=0.1 FC=0.5 IS=1p TT=5E-8 N=1 BV=12.1)
.ENDS
 
*.SUBCKT BSS192P_L0 drain gate source
.SUBCKT BSS192P_L0 d1 g1 s1
*Lg gate g1 3n
*Ld drain d1 1n
*Ls source s1 3n
Rs s1 s2 0.08
Rg g1 g2 65
M1 d2 g2 s2 s2 DMOS L=1u W=1u
.MODEL DMOS PMOS ( KP= 0.804 VTO=-1.7  VMAX=1.5e5  LEVEL=3)
Rd d2 d1a 7.46 TC=9m
.MODEL MVDR PMOS (KP=7.71 VTO=1.4 LAMBDA=0.1)
Mr d1 d2a d1a d1a MVDR W=1u L=1u
Rx d2a d1a 1m
Dbd d2 s2 Dbt
.MODEL Dbt D(BV=300 M=0.38 CJO=38.19p VJ=0.5V)
Dbody 21 s2 DBODY
.MODEL DBODY D(IS=10.1p N=1.2 RS=199u EG=1.12 TT=200n)
Rdiode d1 21 194.03m TC=3m
.MODEL sw PMOS(VTO=-1m  KP=10 LEVEL=1)
Maux g2 c a a sw
Maux2 b d g2 g2 sw
Eaux c a d2 g2 1
Eaux2 d g2 d2 g2 -1
Cox b d2 222.44p
.MODEL DGD D(M=0.9 CJO=222.44p VJ=0.5)
Rpar b d2 1Meg
Dgd d2 a DGD
Rpar2 d2 a 10Meg
Cgs g2 s2 77.05p
.ENDS BSS192P_L0

*ZETEX ZVP4525G Spice Model v1.0 Last Revised 6/01/2005
*
.SUBCKT ZVP4525G 3 4 5
*---connections---D-G-S
M1 6 20 8 8 MOSMOD1
M2 6 20 8 8 MOSMOD2
RG 4 2 7
RIN 2 8 200E6
RD 3 6 RMOD1 11
RS 8 5 RMOD1 0.5
RB 3 7 RMOD1 0.2
RL 3 5 250E6
C1 2 8 80p
C2 2 3 12p
C3 15 14 175p
C4 16 8 175p
D1 7 5 DMOD1
S1 2 15 14 13 SMOD1a
S2 13 15 14 13 SMOD1b
S3 16 13 13 8 SMOD2a
S4 16 2 13 8 SMOD2b
Egs2 13 8 2 8 1
Eds1 14 8 3 8 1
Egt1 2 20 5 21 1
Vgt1 5 22 1
Igt1 5 21 1
Rgt 21 22 RMOD2 1
.MODEL MOSMOD1 PMOS VTO=-1.5 IS=1f KP=0.15
.MODEL MOSMOD2 PMOS VTO=-.9 IS=1f KP=0.0015
.MODEL DMOD1 D IS=4.14E-13 N=1.0078 CJO=100p BV=260
.MODEL SMOD1a VSWITCH RON=.01 ROFF=1e3 VON=1.7 VOFF=-2.75
.MODEL SMOD1b VSWITCH RON=.01 ROFF=1e3 VON=-2.75 VOFF=1.7
.MODEL SMOD2a VSWITCH RON=.01 ROFF=1e3 VON=1.5 VOFF=3.5
.MODEL SMOD2b VSWITCH RON=.01 ROFF=1e3 VON=3.5 VOFF=1.5
.MODEL RMOD1 RES (TC1=8e-3 TC2=1.5e-5)
.MODEL RMOD2 RES (TC1=-1.9e-3 TC2=1e-6)
.ENDS
.SUBCKT ZVP4525Z 3 4 5
*---connections---D-G-S
M1 6 20 8 8 MOSMOD1
M2 6 20 8 8 MOSMOD2
RG 4 2 7
RIN 2 8 200E6
RD 3 6 RMOD1 11
RS 8 5 RMOD1 0.5
RB 3 7 RMOD1 0.2
RL 3 5 250E6
C1 2 8 80p
C2 2 3 12p
C3 15 14 175p
C4 16 8 175p
D1 7 5 DMOD1
S1 2 15 14 13 SMOD1a
S2 13 15 14 13 SMOD1b
S3 16 13 13 8 SMOD2a
S4 16 2 13 8 SMOD2b
Egs2 13 8 2 8 1
Eds1 14 8 3 8 1
Egt1 2 20 5 21 1
Vgt1 5 22 1
Igt1 5 21 1
Rgt 21 22 RMOD2 1
.MODEL MOSMOD1 PMOS VTO=-1.5 IS=1f KP=0.15
.MODEL MOSMOD2 PMOS VTO=-.9 IS=1f KP=0.0015
.MODEL DMOD1 D IS=4.14E-13 N=1.0078 CJO=100p BV=260
.MODEL SMOD1a VSWITCH RON=.01 ROFF=1e3 VON=1.7 VOFF=-2.75
.MODEL SMOD1b VSWITCH RON=.01 ROFF=1e3 VON=-2.75 VOFF=1.7
.MODEL SMOD2a VSWITCH RON=.01 ROFF=1e3 VON=1.5 VOFF=3.5
.MODEL SMOD2b VSWITCH RON=.01 ROFF=1e3 VON=3.5 VOFF=1.5
.MODEL RMOD1 RES (TC1=8e-3 TC2=1.5e-5)
.MODEL RMOD2 RES (TC1=-1.9e-3 TC2=1e-6)
.ENDS
*
*$
*
*ZETEX ZVP4525E6 Spice Model v1.0 Last Revised 6/01/2005
*
.SUBCKT ZVP4525E6 3 4 5
*---connections---D-G-S
M1 6 20 8 8 MOSMOD1
M2 6 20 8 8 MOSMOD2
RG 4 2 7
RIN 2 8 200E6
RD 3 6 RMOD1 11
RS 8 5 RMOD1 0.5
RB 3 7 RMOD1 0.2
RL 3 5 250E6
C1 2 8 80p
C2 2 3 12p
C3 15 14 175p
C4 16 8 175p
D1 7 5 DMOD1
S1 2 15 14 13 SMOD1a
S2 13 15 14 13 SMOD1b
S3 16 13 13 8 SMOD2a
S4 16 2 13 8 SMOD2b
Egs2 13 8 2 8 1
Eds1 14 8 3 8 1
Egt1 2 20 5 21 1
Vgt1 5 22 1
Igt1 5 21 1
Rgt 21 22 RMOD2 1
.MODEL MOSMOD1 PMOS VTO=-1.5 IS=1f KP=0.15
.MODEL MOSMOD2 PMOS VTO=-.9 IS=1f KP=0.0015
.MODEL DMOD1 D IS=4.14E-13 N=1.0078 CJO=100p BV=260
.MODEL SMOD1a VSWITCH RON=.01 ROFF=1e3 VON=1.7 VOFF=-2.75
.MODEL SMOD1b VSWITCH RON=.01 ROFF=1e3 VON=-2.75 VOFF=1.7
.MODEL SMOD2a VSWITCH RON=.01 ROFF=1e3 VON=1.5 VOFF=3.5
.MODEL SMOD2b VSWITCH RON=.01 ROFF=1e3 VON=3.5 VOFF=1.5
.MODEL RMOD1 RES (TC1=8e-3 TC2=1.5e-5)
.MODEL RMOD2 RES (TC1=-1.9e-3 TC2=1e-6)
.ENDS

.SUBCKT ZVP4424A 3 4 5
*------connections-------D-G-S
*
M1 6 2 8 8 P4424AM
M2 6 2 8 8 P4424AMS
RG 4 2 27
RD 3 6 5.5
RS 8 5 0.6 
RL 3 5 240E6
C1 2 8 120p
C2 2 3 20p
C3 15 14 260p 
C4 16 8 233p
D1 3 5 P4424AD
S1 2 15 13 14 SMOD1
S2 13 15 14 13 SMOD1
S3 16 13 13 8 SMOD2
S4 16 2 8 13 SMOD2
Egs2 13 8 2 8 1
Eds1 14 8 3 8 1
.MODEL P4424AM PMOS VTO=-1.4 IS=1f KP=0.26 CBD=65.3p PB=1
.MODEL P4424AMS PMOS VTO=-1.04 IS=1f KP=0.0026 CBD=0.653p PB=1
.MODEL P4424AD D IS=9.36E-13 RS=.196 N=1.045
.MODEL SMOD1 VSWITCH RON=.001 ROFF=100 VON=-1.5 VOFF=-1
.MODEL SMOD2 VSWITCH RON=.001 ROFF=100 VON=0.5 VOFF=2.5
.ENDS ZVP4424A
*
*$
*
*ZETEX ZVP4424C Spice Model v1.1 Last Revised 21/3/01
*
.SUBCKT ZVP4424C 3 4 5
*------connections-------D-G-S
*
M1 6 2 8 8 P4424AM
M2 6 2 8 8 P4424AMS
RG 4 2 27
RD 3 6 5.5
RS 8 5 0.6 
RL 3 5 240E6
C1 2 8 120p
C2 2 3 20p
C3 15 14 260p 
C4 16 8 233p
D1 3 5 P4424AD
S1 2 15 13 14 SMOD1
S2 13 15 14 13 SMOD1
S3 16 13 13 8 SMOD2
S4 16 2 8 13 SMOD2
Egs2 13 8 2 8 1
Eds1 14 8 3 8 1
.MODEL P4424AM PMOS VTO=-1.4 IS=1f KP=0.26 CBD=65.3p PB=1
.MODEL P4424AMS PMOS VTO=-1.04 IS=1f KP=0.0026 CBD=0.653p PB=1
.MODEL P4424AD D IS=9.36E-13 RS=.196 N=1.045
.MODEL SMOD1 VSWITCH RON=.001 ROFF=100 VON=-1.5 VOFF=-1
.MODEL SMOD2 VSWITCH RON=.001 ROFF=100 VON=0.5 VOFF=2.5
.ENDS ZVP4424C
*
*$
*
*ZETEX ZVP4424G Spice Model v1.1 Last Revised 21/3/01
*
.SUBCKT ZVP4424G 3 4 5
*------connections-------D-G-S
*
M1 6 2 8 8 P4424AM
M2 6 2 8 8 P4424AMS
RG 4 2 27
RD 3 6 5.5
RS 8 5 0.6 
RL 3 5 240E6
C1 2 8 120p
C2 2 3 20p
C3 15 14 260p 
C4 16 8 233p
D1 3 5 P4424AD
S1 2 15 13 14 SMOD1
S2 13 15 14 13 SMOD1
S3 16 13 13 8 SMOD2
S4 16 2 8 13 SMOD2
Egs2 13 8 2 8 1
Eds1 14 8 3 8 1
.MODEL P4424AM PMOS VTO=-1.4 IS=1f KP=0.26 CBD=65.3p PB=1
.MODEL P4424AMS PMOS VTO=-1.04 IS=1f KP=0.0026 CBD=0.653p PB=1
.MODEL P4424AD D IS=9.36E-13 RS=.196 N=1.045
.MODEL SMOD1 VSWITCH RON=.001 ROFF=100 VON=-1.5 VOFF=-1
.MODEL SMOD2 VSWITCH RON=.001 ROFF=100 VON=0.5 VOFF=2.5
.ENDS ZVP4424G



* fdv303n electrical model (sot-23 n-ch dmos)
.subckt fdv303n d g s
q d s g za
.model za npn bf=0.05
rg g 1 1
m1 2 1 3 3 dmos l=1u w=1u
.model dmos nmos (vto=0.9 kp=2.48 theta=0.096 vmax=3.8e5 level=3)
cgs 1 3 200p
rd d 4 .12
dds 3 4 dds
.model dds d(bv=25 m=0.36 cjo=23p vj=0.8)
dbody 3 d dbody
.model dbody d(is=1.4e-13 n=1 rs=40m tt=100n)
ra 4 2 .12
rs 3 5 10m
ls 5 s .7n
m2 1 8 6 6 inter
*e2 8 6 4 1 2
be2 8 6 v=v(4,1)+v(4,1)
.model inter nmos(vto=0 kp=10 level=1)
cgdmax 7 4 140p
rcgd 7 4 10meg
dgd 6 4 dgd
rdgd 4 6 10meg
.model dgd d(m=0.65 cjo=140p vj=0.35)
m3 7 9 1 1 inter
**e3 9 1 4 1 -2
be3 1 9 v=v(8,6)
.ends fdv303n


.subckt fdv302p 20 10 30
*20=drain 10=gate 30=source
q 20 30 10 za
.model za pnp bf=0.05
Rg 10 1 1
M1 2 1 3 3 DMOS L=1u W=1u
.MODEL DMOS PMOS (VTO=-1 KP=0.1257 THETA=0.096 VMAX=3.8E5 LEVEL=3)
Cgs 1 3 28p
Rd 20 4 2.2
*TC=0.004
Dds 4 3 DDS
.MODEL DDS D(BV=25 M=0.35 CJO=100p VJ=1.0)
Dbody 20 3 DBODY
.MODEL DBODY D(IS=1p N=1 RS=12.7m TT=25n)
Ra 4 2 2.2
*TC=0.004
Rs 3 5 10m
Ls 5 30 0.5n
M2 1 8 6 6 INTER
E2 8 6 4 1 2
.MODEL INTER PMOS(VTO=0 KP=10 LEVEL=1)
Cgdmax 7 4 20p
Rcgd 7 4 10meg
Dgd 4 6 DGD
Rdgd 4 6 10meg
.MODEL DGD D(M=0.5 CJO=20p VJ=0.2)
M3 7 9 1 1 INTER
E3 9 1 4 1 -2
.ends fdv302p

.subckt fdv301n d g s
* sot-23 single n-ch dmos
*q d s g za
*.model za npn bf=0.05
rg g 1 1
m1 2 1 3 3 dmos l=1u w=1u
.model dmos nmos (vto=0.9 kp=0.3065 theta=0.096 vmax=3.8e5 level=3)
cgs 1 3 90p
rd d 4 .7
dds 3 4 dds
.model dds d(bv=25 m=0.36 cjo=23p vj=0.8)
dbody 3 d dbody
.model dbody d(is=1.4e-13 n=1 rs=40m tt=100n)
ra 4 2 .7
rs 3 5 10m
ls 5 s .7n
m2 1 8 6 6 inter
be2 8 6 v=v(4,1)+v(4,1)
.model inter nmos(vto=0 kp=10 level=1)
cgdmax 7 4 25p
rcgd 7 4 10meg
dgd 6 4 dgd
rdgd 4 6 10meg
.model dgd d(m=0.53 cjo=25p vj=0.12)
m3 7 9 1 1 inter
be3 1 9 v=v(8,6)
.ends

.SUBCKT MTM981400BBF D G S
M_M1 D G S S M98140
D_D1 D S D98140
X_U1 G S DZ98140
.MODEL M98140 PMOS
+ LEVEL=3 L=650n W=1.512476
+ KP=12.5u RS=0.0008 VTO=-1.63
+ RD=0.0006 RDS=10.000E12 TOX=13.5n
+ CGSO=850p CGDO=70p CBD=80p
+ MJ=0.8 PB=0.7205 RG=13 IS=1.6E-18
+ N=1.5 RB=0.05 GAMMA=0.028 PHI=0.8
+ ETA=0.50000E-4 THETA=0.38
+ KAPPA=0.001 XJ=1.1u
+ NSUB=1.502E16 UO=600 NFS=1.4E12
+ XQC=1 VMAX=0 MJSW=0.063 TPG=1 RSH=0
.MODEL D98140 D
+ IS=7.12E-13 N=1 RS=6.904m IKF=0.52
+ CJO=1400p M=0.38 VJ=0.95
+ ISR=1.00E-13 NR=1.5 BV=150 NR=1.5
+ IBV=100m TT=2.8n EG=1.11
.subckt DZ98140 1 2
D2 1 3 DZ
D1 2 3 DZ
.model DZ D
+ IS=910.4p N=1.0256 RS=0.14011 IKF=0.19646
+ ISR=33.70249E-10 NR=1.995 CJO=8p M=0.43
+ VJ=0.75 BV=19.96 IBV=5m NBV=10 EG=1.11
.ENDS DZ98140
.ENDS MTM981400BBF


.subckt irll014n 1 2 3
* model generated on nov 1, 96
* node 1 -> drain
* node 2 -> gate
* node 3 -> source
m1 9 7 8 8 mm l=100u w=100u
.model mm nmos level=1 is=1e-32 vto=2.39591 lambda=0.00125542 kp=9.115 cgso=2.07514e-06 cgdo=1.66894e-07
rs 8 3 0.0658113
d1 3 1 md
.model md d is=1.07836e-10 rs=0.0408206 n=1.32008 bv=55 ibv=10 eg=1.2 xti=3.03896 tt=0.0001 cjo=1.64458e-10 vj=1.2287 m=0.499918 fc=0.8
rds 3 1 2.2e+06
rd 9 1 0.0436264
rg 2 7 1.79184
d2 4 5 md1
.model md1 d is=1e-32 n=50 cjo=1.88146e-10 vj=0.551243 m=0.691812 fc=1e-08
d3 0 5 md2
.model md2 d is=1e-10 n=0.401094 rs=3.00001e-06
rl 5 10 1
fi2 7 9 vfi2 -1
vfi2 4 0 0
ev16 10 0 9 7 1
cap 11 10 5.72072e-10
fi1 7 9 vfi1 -1
vfi1 11 6 0
rcap 6 10 1
d4 0 6 md3
.model md3 d is=1e-10 n=0.401094
.ends irll014n

.subckt irlml2502 1 2 3
* model generated on dec 10, 03
* node 1 -> drain
* node 2 -> gate
* node 3 -> source
m1 9 7 8 8 mm l=100u w=100u
.model mm nmos level=1 is=1e-32 vto=1.1 kp=38.7 cgso=7.028u cgdo=4.97e-07
rs 8 3 0.021
d1 3 1 md
.model md d is=4.51n rs=0.0107 n=1.5 bv=20 ibv=0.00025 eg=1.2 xti=3.12846 tt=1.0e-07 cjo=5.48656e-11
+vj=4.23887 m=0.3 fc=0.1
rds 3 1 1e+06
rd 9 1 0.000303
rg 2 7 17
d2 4 5 md1
.model md1 d is=1e-32 n=50 cjo=2.90249e-10 vj=0.5 m=0.9 fc=1e-08
d3 0 5 md2
.model md2 d is=1e-10 n=0.4 rs=3e-06
rl 5 10 1
fi2 7 9 vfi2 -1
vfi2 4 0 0
ev16 10 0 9 7 1
cap 11 10 6.78e-10
fi1 7 9 vfi1 -1
vfi1 11 6 0
rcap 6 10 1
d4 0 6 md3
.model md3 d is=1e-10 n=0.4
.ends irlml2502

.subckt irll110 1 2 3
* model generated on jul 16, 99
* node 1 -> drain
* node 2 -> gate
* node 3 -> source
m1 9 7 8 8 mm l=100u w=100u
.model mm nmos level=1 is=1e-32 vto=2 lambda=2.68m kp=3.173 cgso=2.31u cgdo=53.46n
rs 8 3 89m
d1 3 1 md
.model md d is=5.51p rs=0.4098 n=1.224 bv=100 ibv=250u eg=1 xti=1 tt=100u cjo=325p vj=0.5 m=0.416 fc=0.5
rds 3 1 1meg
rd 9 1 0.206
rg 2 7 31.9
d2 4 5 md1
.model md1 d is=1e-32 n=50 cjo=246p vj=0.5 m=0.8939 fc=1e-08
d3 0 5 md2
.model md2 d is=1e-10 n=0.4 rs=3u
rl 5 10 1
fi2 7 9 vfi2 -1
vfi2 4 0 0
ev16 10 0 9 7 1
cap 11 10 581p
fi1 7 9 vfi1 -1
vfi1 11 6 0
rcap 6 10 1
d4 0 6 md3
.model md3 d is=1e-10 n=0.4
.ends irll110

.subckt irf7311 1 2 3
* model generated on sep 25, 01
* node 1 -> drain
* node 2 -> gate
* node 3 -> source
m1 9 7 8 8 mm l=100u w=100u
.model mm nmos level=1 is=1e-32 vto=1.12746 lambda=0.00524158 kp=32.9399 cgso=7.23513e-06 cgdo=7.80988e-07
rs 8 3 0.00167727
d1 3 1 md
.model md d is=3.89457e-08 rs=0.0269632 n=1.5 bv=20 ibv=0.00025 eg=1 xti=1 tt=0.0001 cjo=8.12775e-10
+ vj=0.61964 m=0.402436 fc=0.5
rds 3 1 1e+06
rd 9 1 0.007608
rg 2 7 2.10927
d2 4 5 md1
.model md1 d is=1e-32 n=50 cjo=1.31198e-09 vj=0.5 m=0.684145 fc=1e-08
d3 0 5 md2
.model md2 d is=1e-10 n=0.4 rs=3e-06
rl 5 10 1
fi2 7 9 vfi2 -1
vfi2 4 0 0
ev16 10 0 9 7 1
cap 11 10 2.35002e-09
fi1 7 9 vfi1 -1
vfi1 11 6 0
rcap 6 10 1
d4 0 6 md3
.model md3 d is=1e-10 n=0.4
.ends irf7311

.SUBCKT irf7494 1 2 3
* Node 1 -> Drain
* Node 2 -> Gate
* Node 3 -> Source
M1 9 7 8 8 MM L=100u W=100u
.MODEL MM NMOS LEVEL=1 IS=1e-32
+VTO=4.44705 LAMBDA=0.0123785 KP=30.8113
+CGSO=1.63237e-05 CGDO=1.96819e-07
RS 8 3 0.00696318
D1 3 1 MD
.MODEL MD D IS=1.15692e-09 RS=0.00305219 N=1.30506 BV=150
+IBV=0.00025 EG=1.2 XTI=3.19861 TT=1e-07
+CJO=8.58715e-10 VJ=0.5 M=0.497271 FC=0.5
RDS 3 1 1e+06
RD 9 1 0.0233744
RG 2 7 2.66918
D2 4 5 MD1
.MODEL MD1 D IS=1e-32 N=50
+CJO=5.56991e-10 VJ=0.5 M=0.493853 FC=1e-08
D3 0 5 MD2
.MODEL MD2 D IS=1e-10 N=0.4 RS=3e-06
RL 5 10 1
FI2 7 9 VFI2 -1
VFI2 4 0 0
EV16 10 0 9 7 1
CAP 11 10 1.19093e-09
FI1 7 9 VFI1 -1
VFI1 11 6 0
RCAP 6 10 1
D4 0 6 MD3
.MODEL MD3 D IS=1e-10 N=0.4
.ENDS irf7494

.SUBCKT irf7495 1 2 3
* Node 1 -> Drain
* Node 2 -> Gate
* Node 3 -> Source
M1 9 7 8 8 MM L=100u W=100u
.MODEL MM NMOS LEVEL=1 IS=1e-32
+VTO=3.39332 LAMBDA=0.0590546 KP=95.0088
+CGSO=1.47613e-05 CGDO=4.4148e-07
RS 8 3 0.014949
D1 3 1 MD
.MODEL MD D IS=5.31478e-09 RS=0.00194152 N=1.39854 BV=100
+IBV=0.00025 EG=1 XTI=1 TT=1e-07
+CJO=1.08687e-09 VJ=0.507373 M=0.512248 FC=0.5
RDS 3 1 1e+06
RD 9 1 0.0001
RG 2 7 1.59365
D2 4 5 MD1
.MODEL MD1 D IS=1e-32 N=50
+CJO=6.00017e-10 VJ=0.5 M=0.585457 FC=1e-08
D3 0 5 MD2
.MODEL MD2 D IS=1e-10 N=0.4 RS=3e-06
RL 5 10 1
FI2 7 9 VFI2 -1
VFI2 4 0 0
EV16 10 0 9 7 1
CAP 11 10 1.35073e-09
FI1 7 9 VFI1 -1
VFI1 11 6 0
RCAP 6 10 1
D4 0 6 MD3
.MODEL MD3 D IS=1e-10 N=0.4
.ENDS irf7495


.subckt fdc604p d g s
rg g 1 1
m1 2 1 3 3 dmos l=1u w=1u
.model dmos pmos(vto=-0.75 kp=34 theta=0.25 vmax=7e5 level=3)
cgs 1 3 1800p
rd d 4 4.27e-3
dds 4 3 dds
.model dds d(bv=20 m=0.9 vj=20.9 cjo=500p)
dbody d 3 dbody
.model dbody d(is=1.19e-9 n=1.154752 rs=0.00324 tt=25n)
ra 4 2 4.27e-3
rs 3 5 0.5m
ls 5 s 0.5n
m2 1 8 6 6 inter
*e2 8 6 4 1 2
be2 8 6 v=v(4,1)+v(4,1)
.model inter pmos(vto=0 kp=10 level=1)
cgdmax 7 4 1890p
rcgd 7 4 10meg
dgd 4 6 dgd
rdgd 4 6 10meg
.model dgd d(m=3.52e-1 vj=1.35e-2 cjo=1890p)
m3 7 9 1 1 inter
*e3 9 1 4 1 -2
be3 9 1 v=-v(8,6)
.ends fdc604p

.SUBCKT FDC645N 20 10 30
*20=DRAIN 10=GATE 30=SOURCE 50=VTEMP
Vtemp 50 0 {temp}
Rg 10 11x 1
Rdu 12x 1 1u
M1 2 1 4x 4x DMOS L=1u W=1u
.MODEL DMOS NMOS(VTO=1.85 KP=7.93E+1
+THETA=.1333333 VMAX=2E5 LEVEL=3)
Cgs 1 5x 1500p
Rd 20 4 9E-3
Dds 5x 4 DDS
.MODEL DDS D(M=5.34E-1 VJ=2.57E+2 CJO=139p)
Dbody 5x 20 DBODY
.MODEL DBODY D(IS=2.97p N=1.033715 RS=.000436 TT=8.44n)
Ra 4 2 9E-3
Rs 5x 5 0.5m
Ls 5 30 0.5n
M2 1 8 6 6 INTER
E2 8 6 4 1 2
.MODEL INTER NMOS(VTO=0 KP=10 LEVEL=1)
Cgdmax 7 4 850p
Rcgd 7 4 10meg
Dgd 6 4 DGD
Rdgd 6 4 10meg
.MODEL DGD D(M=2.68E-1 VJ=4.18E-3 CJO=850p)
M3 7 9 1 1 INTER
E3 9 1 4 1 -2
*ZX SECTION
EOUT 4x 6x poly(2) (1x,0) (3x,0) 0 0 0 0 1
FCOPY 0 3x VSENSE 1
RIN 1x 0 1G
VSENSE 6x 5x 0
RREF 3x 0 10m
*TEMP SECTION
ED 101 0 VALUE {V(50,100)}
VAMB 100 0 25
EKP 1x 0 101 0 .009
*VTO TEMP SECTION
EVTO 102 0 101 0 .0012
EVT 12x 11x 102 0 1
*DIODE THEMO BREAKDOWN SECTION
EBL VB1 VB2 101 0 .08
VBLK VB2 0 30
D 20 DB1 DBLK
.MODEL DBLK D(IS=1E-14 CJO=.1p RS=.1)
EDB DB1 0 VB1 0 1
.ENDS FDC645N


* sot-23 p-ch dmos
.subckt nds336p d g s
rg g 1 1
m1 2 1 3 3 dmos l=1u w=1u
.model dmos pmos (vto=-0.9 kp=4.7 theta=0.096 vmax=4e5 level=3)
cgs 1 3 450p
rd d 4 20m tc=0.0044
dds 4 3 dds
.model dds d(bv=20 m=0.3 cjo=450p vj=0.8)
dbody d 3 dbody
.model dbody d(is=1.4e-13 n=1 rs=40m tt=100n)
ra 4 2 100m tc=0.0044
rs 3 5 1m
ls 5 s 0.5n
m2 1 8 6 6 inter
e2 8 6 4 1 2
.model inter pmos(vto=0 kp=10)
cgdmax 7 4 710p
rcgd 7 4 10meg
dgd 4 6 dgd
rdgd 4 6 10meg
.model dgd d(m=0.5 cjo=510p vj=0.12)
m3 7 9 1 1 inter
e3 9 1 4 1 -2
.ends nds336p

.subckt nds335n d g s
rg g 1 1
m1 2 1 3 3 dmos l=1u w=1u
.model dmos nmos vto=0.65 kp=8.16 theta=0.096 vmax=4e5 level=3
cgs 1 3 250p
rd d 4 10m
dds 3 4 dds
.model dds d bv=20 m=0.3 cjo=250p vj=0.8
dbody 3 20 dbody
.model dbody d is=1.4e-13 n=1 rs=40m tt=100n
ra 4 2 25m
rs 3 5 1m
ls 5 s 0.5n
m2 1 8 6 6 inter
e2 8 6 4 1 2
.model inter nmos vto=0 kp=10 level=1
cgdmax 7 4 980p
rcgd 7 4 10meg
dgd 6 4 dgd
rdgd 4 6 10meg
.model dgd d m=0.5 cjo=450p vj=0.15
m3 7 9 1 1 inter
e3 9 1 4 1 -2
.ends nds335n

*FDN327N at Temp. Electrical Model
*-------------------------------------
.SUBCKT FDN327N 20 10 30
*20=DRAIN 10=GATE 30=SOURCE 50=VTEMP
Vtemp 50 0 25
Rg 10 11x 1
Rdu 12x 1 1u
M1 2 1 4x 4x DMOS L=1u W=1u
.MODEL DMOS NMOS(VTO=0.7 KP=1.91E+1
+THETA=.2 VMAX=3E5 LEVEL=3)
Cgs 1 5x 550p
Rd 20 4 8E-3
Dds 5x 4 DDS
.MODEL DDS D(M=3.83E-1 VJ=4.83E-1 CJO=126p)
Dbody 5x 20 DBODY
.MODEL DBODY D(IS=3.62E-10 N=1.158188 RS=0.001085 TT=7.02n)
Ra 4 2 8E-3
Rs 5x 5 0.5m
Ls 5 30 0.5n
M2 1 8 6 6 INTER
E2 8 6 4 1 2
.MODEL INTER NMOS(VTO=0 KP=10 LEVEL=1)
Cgdmax 7 4 400p
Rcgd 7 4 10meg
Dgd 6 4 DGD
Rdgd 6 4 10meg
.MODEL DGD D(M=4.5E-1 VJ=4.73E-2 CJO=400p)
M3 7 9 1 1 INTER
E3 9 1 4 1 -2
*ZX SECTION
EOUT 4x 6x poly(2) (1x,0) (3x,0) 0 0 0 0 1
FCOPY 0 3x VSENSE 1
RIN 1x 0 1G
VSENSE 6x 5x 0
RREF 3x 0 10m
*TEMP SECTION
ED 101 0 VALUE {V(50,100)}
VAMB 100 0 25
EKP 1x 0 101 0 .015
*VTO TEMP SECTION
EVTO 102 0 101 0 .0007
EVT 12x 11x 102 0 1
*DIODE THEMO BREAKDOWN SECTION
EBL VB1 VB2 101 0 .08
VBLK VB2 0 20
D 20 DB1 DBLK
.MODEL DBLK D(IS=1E-14 CJO=.1p RS=.1)
EDB DB1 0 VB1 0 1
.ENDS FDN327N
*FDN327N (Rev.A) 6/10/02 **ST


.subckt nds332p 20 10 30
*supersot-3 sot-23 p-ch dmos
rg 10 1 1
m1 2 1 3 3 dmos l=1u w=1u
.model dmos pmos (vto=-0.65 kp=3.1 theta=0.096 vmax=4e5 level=3)
cgs 1 3 170p
rd 20 4 30m tc=0.00416
dds 4 3 dds
.model dds d(bv=20 m=0.3 cjo=200p vj=0.8)
dbody 20 3 dbody
.model dbody d(is=1.4e-13 n=1 rs=40m tt=100n)
ra 4 2 160m
rs 3 5 1m
ls 5 30 0.5n
m2 1 8 6 6 inter
e2 8 6 4 1 2
.model inter pmos(vto=0 kp=10 level=1)
cgdmax 7 4 610p
rcgd 7 4 10meg
dgd 4 6 dgd
rdgd 4 6 10meg
.model dgd d(m=0.5 cjo=290p vj=0.12)
m3 7 9 1 1 inter
e3 9 1 4 1 -2
.ends nds332p

.subckt fdn335n d g s
rg g 1 1
m1 2 1 3 3 dmos l=1u w=1u
.model dmos nmos (vto=0.9 kp=8.46 theta=0.096 vmax=4e5 level=3)
cgs 1 3 350p
rd d 4 16m
dds 3 4 dds
.model dds d(bv=20 m=0.3 cjo=250p vj=0.8)
dbody 3 d dbody
.model dbody d(is=1.4e-13 n=1 rs=40m tt=100n)
ra 4 2 16m
rs 3 5 1m
ls 5 s 0.5n
m2 1 8 6 6 inter
e2 8 6 4 1 2
.model inter nmos(vto=0 kp=10 level=1)
cgdmax 7 4 160p
rcgd 7 4 10meg
dgd 6 4 dgd
rdgd 4 6 10meg
.model dgd d(m=0.6 cjo=160p vj=0.4)
m3 7 9 1 1 inter
e3 9 1 4 1 -2
.ends fdn335n

* NDS0605 ELECTRICAL MODEL (SOT-23 Single P-Ch DMOS)
* ------------------------
.SUBCKT NDS0605 20 10 30 TEMP=25
Rg 10 1 1
M1 2 1 3 3 DMOS L=1u W=1u
.MODEL DMOS PMOS (VTO={-1.9*{-0.0012*TEMP+1.03}} KP={-0.0006*TEMP+0.315}
+ THETA=0.086 VMAX=3.8E5 LEVEL=3)
Cgs 1 3 40p
Rd 20 4 1.4 TC=0.0064
Dds 4 3 DDS
.MODEL DDS D(BV={60*{0.00096*TEMP+0.976}} M=0.35 CJO=100p VJ=1.0)
Dbody 20 3 DBODY
.MODEL DBODY D(IS=1p N=1 RS=12.7m TT=25n)
Ra 4 2 1.2 TC=0.0064
Rs 3 5 10m
Ls 5 30 0.5n
M2 1 8 6 6 INTER
E2 8 6 4 1 2
.MODEL INTER PMOS(VTO=0 KP=10 LEVEL=1)
Cgdmax 7 4 85p
Rcgd 7 4 10meg
Dgd 4 6 DGD
Rdgd 4 6 10meg
.MODEL DGD D(M=0.55 CJO=85p VJ=0.120)
M3 7 9 1 1 INTER
E3 9 1 4 1 -2
.ENDS

.subckt FDC6330Ltemp 1 2 3 4 5 6 tem=25
* sn dp dp sp gn gpdn
*FDC6330L at Temp. Electrical Model
vzak 2 3 0
vtemp 50 0 {tem}
x1 6 5 1 50 q1
x2 2 6 4 50 q2
.ends FDC6330Ltemp
*
.SUBCKT Q1 20 10 30 50
*20=DRAIN 10=GATE 30=SOURCE 50=VTEMP
Rg 10 11x 1
Rdu 12x 1 1u
M1 2 1 4x 4x DMOS L=1u W=1u
.MODEL DMOS NMOS(VTO=0.9 KP=.45 THETA=.25 VMAX=3E5 LEVEL=3)
Cgs 1 5x 10p
Rd 20 4 8.3E-1
Dds 5x 4 DDS
.MODEL DDS D( M=3.61E-1 VJ=8.34E-2 CJO=12.1p)
Dbody 5x 20 DBODY
.MODEL DBODY D(IS=7.78E-9 N=1.946 RS=.0232 TT=16n)
Ra 4 2 8.3E-1
Rs 5x 5 0.5m
Ls 5 30 0.5n
M2 1 8 6 6 INTER
be2 8 6 v=v(6,4)+v(6,4)
.MODEL INTER NMOS(VTO=0 KP=10 LEVEL=1)
Cgdmax 7 4 54p
Rcgd 7 4 10meg
Dgd 6 4 DGD
Rdgd 6 4 10meg
.MODEL DGD D(M=2.71E-1 VJ=1.44E-5 CJO=54p)
M3 7 9 1 1 INTER
be3 9 1 v=v(6,8)
*ZX SECTION
Beout 4x 6x v=v(1x)*v(3x)
*FCOPY 0 3x VSENSE 1
bFCOPY 0 3x i=i(VSENSE)
RIN 1x 0 1G
VSENSE 6x 5x 0
RREF 3x 0 10m
*TEMP SECTION
bed 101 0 v=v(50)-25
bekp 1x 0 v=v(101)*1.2
*VTO TEMP SECTION
bEVT 12x 11x v=v(101)*0.0005
***DIODE THEMO BREAKDOWN SECTION
D 20 DB1 DBLK
.MODEL DBLK D(IS=1E-14 CJO=.1p RS=.1)
bedb db1 0 v=v(101)*0.08+20
.ENDS Q1
*
.SUBCKT Q2 20 10 30 50
*20=DRAIN 10=GATE 30=SOURCE 50=VTEMP
Rg 10 11x 1
Rdu 12x 1 1u
M1 2 1 4x 4x DMOS L=1u W=1u
.MODEL DMOS PMOS(VTO=-1.85 KP=5.52 THETA=0.1 VMAX=9.5E5 LEVEL=3)
Cgs 1 5x 400p
Rd 20 4 7.3m
Dds 4 5x DDS
.MODEL DDS D(M=4.08E-1 VJ=8.54E-1 CJO=268p)
Dbody 20 5x DBODY
.MODEL DBODY D(IS=1.46E-17 N=0.737 RS=0.89m TT=18.7n)
Ra 4 2 7m
Rs 5x 5 0.5m
Ls 5 30 0.5n
M2 1 8 6 6 INTER
be2 8 6 v=v(4,1)+v(4,1)
.MODEL INTER PMOS(VTO=0 KP=10 LEVEL=1)
Cgdmax 7 4 350p
Rcgd 7 4 10meg
Dgd 4 6 DGD
Rdgd 4 6 10meg
.MODEL DGD D(M=6.8E-1 VJ=8.54E-1 CJO=350p)
M3 7 9 1 1 INTER
Be3 9 1 v=v(6,8)
*ZX SECTION
beout 4x 6x v=v(1x)*v(3x)
bfcopy 0 3x i=i(vsense)
RIN 1x 0 1G
VSENSE 6x 5x 0
RREF 3x 0 10m
*TEMP SECTION
bed 101 0 v=v(50)-25
bekp 1x 0 v=v(101)*0.025
*VTO SECTION
bevt 11x 12x v=v(101)*0.012
*DIODE THERMO BREAKDOWN SECTION
bebl vb1 0 v=v(101)*0.8+30
D DB1 20 DBLK
.MODEL DBLK D(IS=1E-14 CJO=.1p RS=.1)
bedb 0 db1 v=v(vb1)
.ENDS

.SUBCKT FDW252P 20 10 30 tem=25
*20=DRAIN 10=GATE 30=SOURCE 50=VTEMP
v 50 0 {tem}
Rg 10 11x 1
Rdu 12x 1 1u
M1 2 1 4x 4x DMOS L=1u W=1u
.MODEL DMOS PMOS(VTO=-0.8 KP=6.65E+1
+THETA=0.166667 VMAX=9.5E5 LEVEL=3)
Cgs 1 5x 4431p
Rd 20 4 1.7E-3
Dds 4 5x DDS
.MODEL DDS D(M=3.97E-1 VJ=3.28E-1 CJO=1843p)
Dbody 20 5x DBODY
.MODEL DBODY D(IS=8.2E-9 N=1.18539 RS=2.7E-4 TT=20.62n)
Ra 4 2 1.7E-3
Rs 5x 5 0.5m
Ls 5 30 0.5n
M2 1 8 6 6 INTER
E2 8 6 4 1 2
.MODEL INTER PMOS(VTO=0 KP=10 LEVEL=1)
Cgdmax 7 4 2719p
Rcgd 7 4 10meg
Dgd 4 6 DGD
Rdgd 4 6 10meg
.MODEL DGD D(M=3.59E-1 VJ=1.27E-1 CJO=2719p)
M3 7 9 1 1 INTER
E3 9 1 4 1 -2
*ZX SECTION
EOUT 4x 6x poly(2) (1x,0) (3x,0) 0 0 0 0 1
FCOPY 0 3x VSENSE 1
RIN 1x 0 1G
VSENSE 6x 5x 0
RREF 3x 0 10m
*TEMP SECTION
ED 101 0 VALUE {V(50,100)}
VAMB 100 0 25
EKP 1x 0 101 0 .0025
*VTO SECTION
EVTO 102 0 101 0 .0008
EVT 11x 12x 102 0 1
*DIODE THERMO BREAKDOWN SECTION
EBL VB1 VB2 101 0 0.8
VBLK VB2 0 20
D DB1 20 DBLK
.MODEL DBLK D(IS=1E-14 CJO=.1p RS=.1)
EDB 0 DB1 VB1 0 1
.ENDS FDW252P

*n-MOSFET*200V 33A 70mOhm
.SUBCKT BUZ341 1 2 3
LS 5 2 7N
LD 95 3 5N
RG 4 11 5.5M
RS 5 76 14M
D341 76 95 DREV
.MODEL DREV D CJO=0.9N RS=20M TT=30N IS=300P BV=200
M341 86 11 76 76 MBUZ
.MODEL MBUZ NMOS VTO=3.248 KP=26.86
M2 11 86 8 8 MSW
.MODEL MSW NMOS VTO=0.001 KP=5
M3 86 11 8 8 MSW
COX 11 8 2.7N
DGD 8 86 DCGD
.MODEL DCGD D CJO=1.547N M=0.522 VJ=0.977
CGS 76 11 2.5N
MRDR 86 86 95 86 MVRD
.MODEL MVRD NMOS VTO=-10.85 KP=2.5
LG 4 1 7N
.ENDS

* NDT456P ELECTRICAL MODEL (SOT-223 P-Ch DMOS)
* -----------------------------------------------
.SUBCKT NDT456P 20 10 30
Rg 10 1 3
M1 2 1 3 3 DMOS L=1u W=1u
.MODEL DMOS PMOS (VTO={-2.0*{-0.0024*TEMP+1.06}} KP={-0.02*TEMP+19.5}
+ THETA=0.086 VMAX=5E5 TOX=4.25E-8 LEVEL=3)
Cgs 1 3 1000p
Rd 20 4 10m TC=0.00376
Dds 4 3 DDS
.MODEL DDS D(BV={30*{0.00064*TEMP+0.984}} M=0.25 CJO=500p VJ=0.51)
Dbody 20 3 DBODY
.MODEL DBODY D(IS=1.4E-13 N=1 RS=90m TT=29n)
Ra 4 2 8m TC=0.00376
Rs 3 5 2m
Ls 5 30 0.9n
M2 1 8 6 6 INTER
E2 8 6 4 1 2
.MODEL INTER PMOS(VTO=0 KP=10 LEVEL=1)
Cgdmax 7 4 2900p
Rcgd 7 4 10meg
Dgd 4 6 DGD
Rdgd 4 6 10meg
.MODEL DGD D(M=0.31 CJO=2200p VJ=0.18)
M3 7 9 1 1 INTER
E3 9 1 4 1 -2
.ENDS

.SUBCKT irlb3036pbf 1 2 3
* Model generated on Jun 2, 09
* MODEL FORMAT: SPICE3
* Symmetry POWER MOS Model (Version 1.0)
* External Node Designations
* Node 1 -> Drain
* Node 2 -> Gate
* Node 3 -> Source
M1 9 7 8 8 MM L=100u W=100u
.MODEL MM NMOS LEVEL=1 IS=1e-32
+VTO=2.63909 LAMBDA=0 KP=550.588
+CGSO=0.000113954 CGDO=3.02463e-07
RS 8 3 0.00113151
D1 3 1 MD
.MODEL MD D IS=1.23078e-09 RS=0.00114523 N=1.21311 BV=60
+IBV=0.00025 EG=1 XTI=2.4188 TT=1e-07
+CJO=4.62528e-09 VJ=1.408 M=0.590883 FC=0.5
RDS 3 1 1e+07
RD 9 1 0.0001
RG 2 7 6
D2 4 5 MD1
.MODEL MD1 D IS=1e-32 N=50
+CJO=2.30225e-09 VJ=0.5 M=0.365607 FC=1e-08
D3 0 5 MD2
.MODEL MD2 D IS=1e-10 N=0.4 RS=3e-06
RL 5 10 1
FI2 7 9 VFI2 -1
VFI2 4 0 0
EV16 10 0 9 7 1
CAP 11 10 3.95516e-09
FI1 7 9 VFI1 -1
VFI1 11 6 0
RCAP 6 10 1
D4 0 6 MD3
.MODEL MD3 D IS=1e-10 N=0.4
.ENDS irlb3036pbf

.SUBCKT BS250P 3 4 5
* D G S
M1 3 2 5 5 MBS250
RG 4 2 160
RL 3 5 1.2E8
C1 2 5 47p
C2 3 2 10p
D1 3 5 DBS250
*
.MODEL MBS250 PMOS VTO=-3.193 RS=2.041 RD=0.697 IS=1f KP=0.277
+CBD=105p PB=1 LAMBDA=1.2E-2
.MODEL DBS250 D IS=2E-13 RS=0.309
.ENDS BS250P

.SUBCKT ZXMP3A13F 30 40 50
* D G S
M1 6 2 5 5 Pmod L=1.2E-6 W=0.33
M2 5 2 5 6 Nmod L=1.4E-6 W=0.19
RG 4 2 10
RIN 2 5 1E9
RD 3 6 Rdmod 0.05
RL 3 5 3E9
C1 2 5 8.5p
C2 3 4 5p
D1 3 5 Dbodymod
LD 3 30 0.5E-9
LG 4 40 1.0E-9
LS 5 50 1.0E-9
.MODEL Pmod PMOS (LEVEL=3 TOX=5.5E-8 NSUB=1E17
+VTO=-1.9 KP=2E-5 RS=.05 NFS=2E11 KAPPA=0.06 UO=650 IS=1f N=10)
.MODEL Nmod NMOS (LEVEL=3 TOX=5.5E-8 NSUB=2E16
+TPG=-1 IS=1f N=10)
.MODEL Dbodymod D (IS=6E-13 RS=.025 IKF=0.1 TRS1=1.5e-3
+CJO=65p BV=33)
.MODEL Rdmod RES (TC1=5.5e-3 TC2=1.5E-5)
.ENDS ZXMP3A13F

.SUBCKT ZXMN2A02N8 30 40 50
*---connections---D-G-S
M1 6 2 7 7 Nmod L=1.16E-6 W=2.3
M2 7 2 7 6 Pmod L=1.3E-6 W=1.3
RG 4 2 1
RIN 2 5 1E12
RD 3 6 Rdmod 0.0045
RS 7 5 Rdmod 0.01
RL 3 5 3E9
C1 2 5 10p
C2 3 2 5p
D1 5 3 Dbodymod
LD 3 30 1.3E-9
LG 4 40 1.2E-9
LS 5 50 1.2E-9
.MODEL Nmod NMOS (LEVEL=3 TOX=4.5E-8 NSUB=10E16
+VTO=1.365 KP=3.6E-5 NFS=2E11 KAPPA=0.1 UO=650 IS=1f N=10)
.MODEL Pmod PMOS (LEVEL=3 TOX=4.5E-8 NSUB=1.5E16
+TPG=-1 IS=1f N=10)
.MODEL Dbodymod D (IS=2E-11 RS=.015 XTI=1.5 TRS1=1.5e-3 TT=7e-9
+CJO=450p BV=22)
.MODEL Rdmod RES (TC1=3e-3 TC2=6E-6)
.ENDS

*60V 18A .14 ohms HEXFET pkg:TO-220 2,1,3
.SUBCKT IRF9Z34 10 20 40
M1 1 2 3 3 DMOS L=1U W=1U
RD 10 1 65.5M
RS 30 3 4.5M
RG 20 2 24.5
CGS 2 3 1N
EGD 12 0 1 2 1
VFB 14 0 0
FFB 1 2 VFB 1
CGD 13 14 1.28N
R1 13 0 1
D1 12 13 DLIM
DDG 15 14 DCGD
R2 12 15 1
D2 15 0 DLIM
DSD 10 3 DSUB
LS 30 40 7.5N
.MODEL DMOS PMOS (LEVEL=3 THETA=60M VMAX=125K ETA=2M VTO=-3 KP=4.27)
.MODEL DCGD D (CJO=1.28N VJ=.6 M=.68)
.MODEL DSUB D (IS=74.7N N=1.5 RS=.308 BV=60 CJO=2.23N VJ=.8 M=.42 TT=100N)
.MODEL DLIM D (IS=100U)
.ENDS IRF9Z34

.SUBCKT irf9z34n 1 2 3
* Node 1 -> Drain
* Node 2 -> Gate
* Node 3 -> Source
M1 9 7 8 8 MM L=100u W=100u
.MODEL MM PMOS LEVEL=1 IS=1e-32
+VTO=-3.18176 LAMBDA=0 KP=2.52466
+CGSO=4.9266e-06 CGDO=1e-11
RS 8 3 0.0001
D1 1 3 MD
.MODEL MD D IS=2.51148p RS=0.0124373 N=1.05244 BV=55
+IBV=0.00025 EG=1 XTI=2.91741 TT=0.0001
+CJO=4.87958e-10 VJ=5 M=0.731488 FC=0.5
RDS 3 1 1e+06
RD 9 1 0.028942
RG 2 7 6
D2 5 4 MD1
.MODEL MD1 D IS=1e-32 N=50
+CJO=8.50824e-10 VJ=0.5 M=0.456256 FC=1e-08
D3 5 0 MD2
.MODEL MD2 D IS=1e-10 N=0.4 RS=3e-06
RL 5 10 1
FI2 7 9 VFI2 -1
VFI2 4 0 0
EV16 10 0 9 7 1
CAP 11 10 8.50824e-10
FI1 7 9 VFI1 -1
VFI1 11 6 0
RCAP 6 10 1
D4 6 0 MD3
.MODEL MD3 D IS=1e-10 N=0.4
.ENDS irf9z34n

* FDR838P (SuperSOT-8 P-Ch DMOS)
.SUBCKT FDR838P 20 10 30
Rg 10 1 3
M1 2 1 3 3 DMOS L=1u W=1u
.MODEL DMOS PMOS (VTO={-0.9*{-0.00336*TEMP+1.084}} KP={-0.04*TEMP+54}
+ THETA=0.096 VMAX=2.0E5 LEVEL=3)
Cgs 1 3 2800p
Rd 20 4 3m TC=0.00416
Dds 4 3 DDS
.MODEL DDS D(BV={20*{0.000624*TEMP+0.9844}} M=0.35 CJO=2600p VJ=0.8)
Dbody 20 3 DBODY
.MODEL DBODY D(IS=1p N=0.9 RS=12.7m TT=25n)
Ra 4 2 3m TC=0.00416
Rs 3 5 1m
Ls 5 30 0.9n
M2 1 8 6 6 INTER
E2 8 6 4 1 2
.MODEL INTER PMOS(VTO=0 KP=10 LEVEL=1)
Cgdmax 7 4 2700p
Rcgd 7 4 10meg
Dgd 4 6 DGD
Rdgd 4 6 10meg
.MODEL DGD D(M=0.65 CJO=2700p VJ=0.35)
M3 7 9 1 1 INTER
E3 9 1 4 1 -2
.ENDS FDR838P

.SUBCKT irf7478 1 2 3
* Node 1 -> Drain
* Node 2 -> Gate
* Node 3 -> Source
M1 9 7 8 8 MM L=100u W=100u
.MODEL MM NMOS LEVEL=1 IS=1e-32
+VTO=2.61597 LAMBDA=5.9143 KP=158.503
+CGSO=1.62615e-05 CGDO=1e-11
RS 8 3 0.0219026
D1 3 1 MD
.MODEL MD D IS=3.21128e-09 RS=0.0156178 N=1.41623 BV=60
+IBV=0.00025 EG=1.2 XTI=4 TT=1e-07
+CJO=1.51284e-09 VJ=1.22907 M=0.570215 FC=0.5
RDS 3 1 1e+07
RD 9 1 0.0001
RG 2 7 6
D2 4 5 MD1
.MODEL MD1 D IS=1e-32 N=50
+CJO=1.1104e-09 VJ=0.5 M=0.9 FC=1e-08
D3 0 5 MD2
.MODEL MD2 D IS=1e-10 N=0.400012 RS=3e-06
RL 5 10 1
FI2 7 9 VFI2 -1
VFI2 4 0 0
EV16 10 0 9 7 1
CAP 11 10 2.45178e-09
FI1 7 9 VFI1 -1
VFI1 11 6 0
RCAP 6 10 1
D4 0 6 MD3
.MODEL MD3 D IS=1e-10 N=0.400012
.ENDS irf7478

.SUBCKT irl530n 1 2 3
* Node 1 -> Drain
* Node 2 -> Gate
* Node 3 -> Source
M1 9 7 8 8 MM L=100u W=100u
.MODEL MM NMOS LEVEL=1 IS=1e-32
+VTO=2.20864 LAMBDA=0.0132599 KP=8.81736
+CGSO=7.22511e-06 CGDO=2.6952e-07
RS 8 3 0.0241559
D1 3 1 MD
.MODEL MD D IS=5.54492e-16 RS=0.0100362 N=0.839457 BV=100
+IBV=0.00025 EG=1.2 XTI=2.86651 TT=9.23639e-06
+CJO=4.16691e-10 VJ=0.5 M=0.449578 FC=0.5
RDS 3 1 4e+06
RD 9 1 0.0502902
RG 2 7 4.82531
D2 4 5 MD1
.MODEL MD1 D IS=1e-32 N=50
+CJO=8.121e-10 VJ=0.5 M=0.667125 FC=1e-08
D3 0 5 MD2
.MODEL MD2 D IS=1e-10 N=0.447804 RS=3e-06
RL 5 10 1
FI2 7 9 VFI2 -1
VFI2 4 0 0
EV16 10 0 9 7 1
CAP 11 10 2.803e-09
FI1 7 9 VFI1 -1
VFI1 11 6 0
RCAP 6 10 1
D4 0 6 MD3
.MODEL MD3 D IS=1e-10 N=0.447804
.ENDS

.SUBCKT irf2805 1 2 3
* Node 1 -> Drain
* Node 2 -> Gate
* Node 3 -> Source
M1 9 7 8 8 MM L=100u W=100u
.MODEL MM NMOS LEVEL=1 IS=1e-32
+VTO=4.03759 LAMBDA=0.0533103 KP=398.124
+CGSO=4.68095e-05 CGDO=1e-11
RS 8 3 0.0037574
D1 3 1 MD
.MODEL MD D IS=6.32967e-11 RS=0.00191608 N=1.14 BV=55
+IBV=0.00025 EG=1 XTI=1.98803 TT=1.002e-07
+CJO=3.99685e-09 VJ=4.76918 M=0.778041 FC=0.1
RDS 3 1 1e+07
RD 9 1 0.0001
RG 2 7 5.17286
D2 4 5 MD1
.MODEL MD1 D IS=1e-32 N=50
+CJO=5.87467e-09 VJ=0.942264 M=0.9 FC=1e-08
D3 0 5 MD2
.MODEL MD2 D IS=1e-10 N=0.4 RS=3e-06
RL 5 10 1
FI2 7 9 VFI2 -1
VFI2 4 0 0
EV16 10 0 9 7 1
CAP 11 10 8.69629e-09
FI1 7 9 VFI1 -1
VFI1 11 6 0
RCAP 6 10 1
D4 0 6 MD3
.MODEL MD3 D IS=1e-10 N=0.4
.ENDS irf2805

.SUBCKT irfl4105 1 2 3
* Node 1 -> Drain
* Node 2 -> Gate
* Node 3 -> Source
M1 9 7 8 8 MM L=100u W=100u
.MODEL MM NMOS LEVEL=1 IS=1e-32
+VTO=3.6403 LAMBDA=0 KP=17.4205
+CGSO=5.78843e-06 CGDO=3.24396e-07
RS 8 3 0.0321188
D1 3 1 MD
.MODEL MD D IS=5.51184p RS=0.023052 N=1.11346 BV=55
+IBV=0.00025 EG=1.2 XTI=4 TT=1e-07
+CJO=4.49811e-10 VJ=4.99942 M=0.709712 FC=0.1
RDS 3 1 2.2e+06
RD 9 1 0.0001
RG 2 7 2.219
D2 4 5 MD1
.MODEL MD1 D IS=1e-32 N=50
+CJO=8.27373e-10 VJ=0.5 M=0.638289 FC=1e-08
D3 0 5 MD2
.MODEL MD2 D IS=1e-10 N=0.400001 RS=3.00001e-06
RL 5 10 1
FI2 7 9 VFI2 -1
VFI2 4 0 0
EV16 10 0 9 7 1
CAP 11 10 1.23706e-09
FI1 7 9 VFI1 -1
VFI1 11 6 0
RCAP 6 10 1
D4 0 6 MD3
.MODEL MD3 D IS=1e-10 N=0.400001
.ENDS irfl4105

.SUBCKT irll2705 1 2 3
* Node 1 -> Drain
* Node 2 -> Gate
* Node 3 -> Source
M1 9 7 8 8 MM L=100u W=100u
.MODEL MM NMOS LEVEL=1 IS=1e-32
+VTO=2.27343 LAMBDA=0.0020292 KP=29.5731
+CGSO=8.04577e-06 CGDO=3.31657e-07
RS 8 3 0.0224463
D1 3 1 MD
.MODEL MD D IS=2.24628e-09 RS=0.0108037 N=1.43052 BV=55
+IBV=0.00025 EG=1.2 XTI=3.11888 TT=0
+CJO=5.9154e-10 VJ=1.04666 M=0.478491 FC=0.5
RDS 3 1 2.2e+06
RD 9 1 0.00981452
RG 2 7 3.36946
D2 4 5 MD1
.MODEL MD1 D IS=1e-32 N=50
+CJO=6.97606e-10 VJ=0.5 M=0.634258 FC=1e-08
D3 0 5 MD2
.MODEL MD2 D IS=1e-10 N=0.40407 RS=3e-06
RL 5 10 1
FI2 7 9 VFI2 -1
VFI2 4 0 0
EV16 10 0 9 7 1
CAP 11 10 1.82964e-09
FI1 7 9 VFI1 -1
VFI1 11 6 0
RCAP 6 10 1
D4 0 6 MD3
.MODEL MD3 D IS=1e-10 N=0.40407
.ENDS

.SUBCKT irl2505s 1 2 3
* Node 1 -> Drain
* Node 2 -> Gate
* Node 3 -> Source
M1 9 7 8 8 MM L=100u W=100u
.MODEL MM NMOS LEVEL=1 IS=1e-32
+VTO=2.30385 LAMBDA=0 KP=164.798
+CGSO=4.88921e-05 CGDO=2.00049e-08
RS 8 3 0.00472371
D1 3 1 MD
.MODEL MD D IS=1.30175e-08 RS=0.00405169 N=1.42785 BV=55
+IBV=0.00025 EG=1.2 XTI=3.00566 TT=0
+CJO=2.93008e-09 VJ=2.77624 M=0.583041 FC=0.5
RDS 3 1 2.2e+06
RD 9 1 0.0023624
RG 2 7 2.81965
D2 4 5 MD1
.MODEL MD1 D IS=1e-32 N=50
+CJO=5.44677e-09 VJ=0.5 M=0.736162 FC=1e-08
D3 0 5 MD2
.MODEL MD2 D IS=1e-10 N=0.4 RS=3e-06
RL 5 10 1
FI2 7 9 VFI2 -1
VFI2 4 0 0
EV16 10 0 9 7 1
CAP 11 10 9.32038e-09
FI1 7 9 VFI1 -1
VFI1 11 6 0
RCAP 6 10 1
D4 0 6 MD3
.MODEL MD3 D IS=1e-10 N=0.4
.ENDS

*
.subckt ztx415 c b e
*
*zetex ztx415v3 spice model last revision 14/01/03
*
q_q1 9 8 7 qmod_1
r_r1 5 6 100
r_r2 5 4 100
r_r3 12 3 100
r_r4 3 1 500
r_r5 10 2 2k
r_r6 10 11 2
d_d1 10 5 dz20
d_d2 4 2 dz500
d_d3 10 3 dz200
d_d4 1 2 dz500
d_d5 7 9 dz300
c_c1 10 2 20p
s_s1 13 11 2 10 smod1
s_s2 9 13 2 10 smod2
s_s3 8 10 2 10 smod3
v_h1 7 10 0
h1 6 10 v_h1 50
e1 12 10 11 10 10
l_l1 9 c 1nh
l_l2 b 8 2nh
l_l3 10 e 2nh
.model qmod_1 npn is=3e-14 nf=1 bf=110 ikf=0.4 vaf=1900 ise=1p ne=1.6 nr=1 br=7
+ikr=0.2 var=75 isc=1e-10 nc=1.9 rb=0.4 re=0.1 rc=0.1 cjc=10.9p mjc=0.347 vjc=0.476
+ cje=82.6p tf=1.3e-9 tr=2.3e-7
.model dz20 d is=1f bv=20 ibv=100u
.model dz200 d is=1f bv=200 ibv=100u
.model dz300 d is=1f rs=0.1 bv=300 ibv=100u
.model dz500 d is=1f n=10 bv=500 ibv=100u
* .model smod1 vswitch roff=1e10 ron=0.1 voff=4.3 von=4.6
.model smod1 SW roff=1e10 ron=0.1 VH=0.150000 VT=4.450000
* .model smod2 vswitch roff=1e3 ron=1.0 voff=4.5 von=9
.model smod2 SW roff=1e3 ron=1.0 VH=2.250000 VT=6.750000
* .model smod3 vswitch roff=1e10 ron=0.1 voff=20 von=25
.model smod3 SW roff=1e10 ron=0.1 VH=2.500000 VT=22.500000
.ends ztx415

.subckt LM3352MTC-3.3 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16
*AVG model
rvkz1 1 16 1m
rvkz2 1 14 1m
rvkz3 1 12 1m
rvkz4 1 9 1m
vr2 2 1 0
vr3 3 1 0
vr4 4 1 0
vr5 5 1 0
vr6 6 1 0
vr7 7 1 0
vr15 15 1 0
r10 10 1 1Meg
r11 11 1 1Meg
r13 13 1 10Meg
B1 8 1000 v=3.3*u(v(13)-0.5*max(v(10,1),2))
rout 100 1 0.1
dout 100 1000 dmy
c1 100 1 1n
.model dmy d Ron=.01 Vfwd=0 Ilimit=400m
b2 10 1 i=12.5*uramp(V(1,100))*u(v(13)-0.5*max(v(10,1),2))
.ends
.SUBCKT MC33063 swc swe ct 90 2 vdd isns drc
* SW-col SW-em Ct gnd cinv vdd isns drive col
*DC-DC controller
*B5 5 0 V=~(v(9)&v(8))
B5 5 90 V=!(v(9,90)&v(8,90))
Q1 ct isns vdd QN2907
.MODEL QN2907 PNP BF=200 BR=6 CJC=19PF CJE=23PF IKF=100E-3
+ IS=1.1p ISE=1.3E-11 MJC=.2 MJE=1.25 NE=1.9 NF=1.21 RC=.6
+ TF=5E-10 TR=34E-9 VAF=50 VJC=.5 VJE=.85 XTB=1.5
*B6 7 0 V=~(v(4)&v(10))
B6 7 90 V=!(v(4,90)&v(10,90))
R3 5 10 100
R9 13 swe 100
*C2 10 0 100p IC=5
C2 10 90 100p IC=5
R4 2 90 10MEG
R5 7 8 100
*C3 8 0 100p IC=0
C3 8 90 100p IC=0
S1 srst 90 ct 90 _S2_mod
.MODEL _S2_mod SW VT=1.75 VH=1.25
R1 srst vdd 10k
Q2 drc 14 13 _Q3_mod
.MODEL _Q3_mod NPN BF=50
*B4 6 0 V=v(2,90) > (v(vref,90) + v(voff,90)) ? 0 : v(vdd)
B4 6 90 V=IF( v(2,90) > (v(vref,90) + v(voff,90)), 0, v(vdd,90) )
*B2 vdd ct I=V(srst,90) > 3 ? 35U : -220U
B2 vdd ct I=IF( V(srst,90) > 3, 35U, -220U )
*B3 9 0 V=(v(6,90) > 3) ? v(diff,90) > 1 ? 0 : v(vdd)
B3 9 90 V=IF( (IF((v(6,90) > 3),1,0) & IF((v(diff,90) > 1),1,0)), 0, v(vdd,90) )
*B7 16 90 V=V(vdd,90)-1.5 > 1.25 ? 1.25 : V(vdd,90)-1.25 < 0 ? 0 :V(vdd,90)-1.25
B7 16 90 V=IF( V(vdd,90)-1.5 > 1.25, 1.25, IF( V(vdd,90)-1.25 < 0, 0, V(vdd,90)-1.25 ) )
*V7 16 vref
V7 16 vref 0
R6 vref 90 400
R7 vref vdd 90k
Q1x swc 13 swe _Q4_mod
.MODEL _Q4_mod NPN BF=50 RC=.25 RE=.25 TF=0
R8 diff 90 10k
D1 14 15 DN4148
.MODEL DN4148 D BV=100V CJO=4PF IS=7E-09 M=.45 N=2 RS=.8
+ TT=6E-09 VJ=.6V
D2 swe 14 DN4148
V3 drc 15 DC=700m
*B8 swe 14 I=v(5) > 2.5 ? 1m : -1m
*** Threshold changed to 0.5, because of different(0,1 versus 0.3,3.5) output level of B-sources.
B8 swe 14 I=IF( v(5,90) > 0.5, 1m, -1m )
V4 voff 90 DC=2m
C5 srst diff 10p
*B1 4 90 V=(v(6,90) > 3) ? (v(diff,90) > -1) ? v(vdd) : 0
B1 4 90 V=IF( (IF((v(6,90) > 3),1,0) & IF((v(diff,90) > -1),1,0)), v(vdd,90),0 )
R10 vdd isns 10k
.ENDS

****** VIDEO GENERATOR SUBCKT *******
.SUBCKT VIDEO 64
* HORIZONTAL SYNC TIP
V_HSYNC 1 0 PULSE(0 -0.4 1.4U 0.2U 0.2U 4.7U 63.56U)
* COLOR BURST
V_CB 2 0 SIN(0 0.2 3579545)
V_CB_GATE 3 0 PULSE(0 1 7U 0.2U 0.2U 2.6U 63.56U)
E_CB 4 0 POLY(2) (2 0) (3 0) 0 0 0 0 1
* HORIZONTAL INTERVAL
E_HI 5 0 POLY(2) (1 0) (4 0) 0 1 1
* ACTIVE VIDEO - WHITE BAR
V_WB2 55 0 PULSE(0 1 13.4U 0.2U 0.2U 18U 63.56U)
* ACTIVE VIDEO - 2T PULSE
V_2TGEN 50 0 SIN(0 1 894886 0 0 203)
E_2TGN 51 0 POLY(1) (50 0) 0 0 1
V_2TGAT 52 0 PULSE(0 1 35.1255U 1N 1N 557N 63.56U)
E_2TGTE 53 0 POLY(2) (51 0) (52 0) 0 0 0 0 1
* ACTIVE VIDEO - STAIRCASE
V_SC1 56 0 PULSE(0 0.18 47.4U 10N 10N 15U 63.56U)
V_SC2 57 0 PULSE(0 0.18 50.4U 10N 10N 12U 63.56U)
V_SC3 58 0 PULSE(0 0.18 53.4U 10N 10N 9U 63.56U)
V_SC4 59 0 PULSE(0 0.18 56.4U 10N 10N 6U 63.56U)
V_SC5 60 0 PULSE(0 0.18 59.4U 10N 10N 3U 63.56U)
* ACTIVE VIDEO - CHROMA
V_CB_STC 61 0 PULSE(0 1 43.4U 10N 10N 19U 63.56U)
E_CBSTC 62 0 POLY(2) (2 0) (61 0) 0 0 0 0 1
E_COMP 64 0 POLY(9)
+ (5 0) (55 0) (53 0)
+ (62 0) (56 0) (57 0) (58 0)
+ (59 0) (60 0)
+ 0 1 1 1 1 1 1 1 1 1
R0 1 0 1MEG
R1 2 0 1MEG
R2 3 0 1MEG
R3 4 0 1MEG
R4 5 0 1MEG
R5 50 0 1MEG
R6 51 0 1MEG
R7 52 0 1MEG
R8 53 0 1MEG
R8A 55 0 1MEG
R9 56 0 1MEG
R10 57 0 1MEG
R11 58 0 1MEG
R12 59 0 1MEG
R13 60 0 1MEG
R14 61 0 1MEG
R15 62 0 1MEG
R16 64 0 1MEG
.ENDS VIDEO

* Áèáëèîòåêà ëè÷íûõ ìîäåëåé Âàëåíòèíà ßêîâëåâè÷à Âîëîäèíà
* Ìîäåëü ØÈÌ êîíòðîëëåðà TL494
* Ñîçäàíà 1 Ôåâðàëÿ 2008 ãîäà
*
.subckt tl494 IN1 -IN1 IN2 -IN2 FB DTC Vref OCT CT1 ET1 CT2 ET2 Ct Rt GND Vcc
A1 N005 GND N006 GND GND N005 N011 GND DFLOP Vhigh=5 Trise=50n Rout=30
A2 GND GND GND N009 N011 GND N007 GND AND Vhigh=5 Trise=50n Rout=30
A3 N005 N009 GND GND GND GND N013 GND AND Vhigh=5 Trise=50n Rout=30
A4 N006 N007 GND GND GND N004 GND GND OR Vhigh=5 Trise=300n Rout=30
A5 N006 N013 GND GND GND N015 GND GND OR Vhigh=5 Trise=300n Rout=30
G1 N002 ET1 N004 GND table=(1 0,4 250m)
G3 N014 ET2 N015 GND table=(1 0,4 250m)
A6 N008 N012 GND GND GND GND N006 GND OR Vhigh=5 Trise=50n Rout=30
A7 N010 Ct GND GND GND GND N008 GND SCHMITT Vt=0 Vh=0 Vhigh=5
A8 FB N016 GND GND GND GND N012 GND SCHMITT Vt=0 Vh=0 Vhigh=5
V4 N016 Ct 0.7
V5 N010 DTC 0.1
D5 N020 FB IDEAL
D6 N024 FB IDEAL
R1 N017 N018 1meg
R3 N021 N022 1meg
C4 N019 GND 15.9n
C5 N023 GND 15.9n
D1 ET1 N002 IDEALZ
E1 N020 GND N019 GND table=(0,0 5,5)
E2 N024 GND N023 GND table=(0,0 5,5)
R5 -IN1 GND 5meg
R6 IN1 GND 5meg
R7 -IN2 GND 5meg
R8 IN2 GND 5meg
I1 FB GND 0.7m
V2 N001 GND 3.65
F1 GND Ct V2 -1
S1 GND Ct N003 GND OSC
D3 CT1 N002 IDEAL1
D7 CT1 N002 IDEAL2
G2 ET1 N002 Vcc ET1 table=(0 250m,1.42 243m,1.46 150m,1.57 0)
D2 ET2 N014 IDEALZ
D4 CT2 N014 IDEAL1
D8 CT2 N014 IDEAL2
G4 ET2 N014 Vcc ET2 table=(0 250m,1.42 243m,1.46 150m,1.57 0)
C7 N002 ET1 5p
C8 N014 ET2 5p
D9 N001 Rt IDEAL
R14 Ct GND 5meg
R15 ET2 GND 5meg
R16 ET1 GND 5meg
G5 Vcc GND Vcc GND TABLE=(1 0,5 4.5m,6.85 7.6m,40 8.4m)
I2 GND Vref 25m
D10 GND Vref IDEAL5
B1 Vcc GND I=I(D10)+25m
R9 N009 OCT 1k
R10 Ct N003 5k
C1 N003 GND 10p
I3 N018 N019 10m load
I4 N019 N018 10m load
I5 N022 N023 10m load
I6 N023 N022 10m load
E3 N017 GND IN1 -IN1 100000
E4 N021 GND IN2 -IN2 100000
D11 GND N019 DAMP
D12 GND N023 DAMP
.MODEL IDEALZ D(Ron=0 Roff=20meg Vfwd=0 Vrev=41)
.MODEL IDEAL D(Ron=0 Roff=1G Vfwd=0)
.model OSC SW(Ron=10 Vt=1.51 Vh=1.49 Ilimit=20m)
.MODEL IDEAL1 D(Ron=2 Roff=1G Vfwd=0.66)
.MODEL IDEAL2 D(Ron=175 Roff=1G Vfwd=0)
.MODEL IDEAL5 D(Ron=0 Roff=1G Vfwd=0 Vrev=5)
.model DAMP D(Ron=0 Rrev=500 Roff=1Meg Vfwd=0 Vrev=3.5 Revepsilon=1)
.ends tl494

.subckt CD4541B RTC CTC RS AR MR VSS VCC B A MODE SEL Q
XU1 N001 nreset N004 N005 N006 Counter8
XU2 N007 nreset N011 N012 N013 Counter8
XU3 A N009 vcc vss NC_01 bufinvin
XU4 B N015 vcc vss N010 bufinvin
XU5 nAR N017 vcc vss NC_02 bufinvin
XU6 MR NC_03 vcc vss N023 bufinvin
XU7 MODE N024 vcc vss NC_04 bufinvin
XU8 SEL N021 vcc vss NC_05 bufinvin
XU9 RS N003 vcc vss NC_06 bufinvin
XU10 N001 CTC vcc vss bufinvout
XU11 N002 RTC vcc vss bufinvout

XU12 N001 N006 N008 N007 mux2

XU13 N012 N011 N013 N015 N009 N014 mux3

A1 0 N003 0 nreset 0 N002 N001 0 AND Trise=50n

A2 nc_01 N015 0 0 0 0 N008 0 AND Trise=50n

XU14 N022 Q vcc vss bufinvout
A3 N018 0 0 N023 0 nreset 0 0 OR Trise=50n
XU15 N017 N018 vcc powreset
A4 N014 0 0 N019 0 N016 0 0 AND Trise=50n
A5 N016 nreset 0 N024 0 N019 0 0 AND Trise=50n
A6 0 N016 0 nreset 0 N020 0 0 AND Trise=50n
A7 0 N020 0 N021 0 N022 0 0 XOR Trise=50n
.end CD4541B

.subckt Counter8 N009 nreset N002 N005 N008
* clc nq2 nq5 nq8
*
* d c pre clr nq q
A1 N001 0 N009 0 N010 N001 0 0 DFLOP Trise=250n
A2 N002 0 N001 0 N010 N002 q2 0 DFLOP Trise=250n
A3 N003 0 N002 0 N010 N003 0 0 DFLOP Trise=250n
A4 N004 0 N003 0 N010 N004 0 0 DFLOP Trise=250n
A5 N005 0 N004 0 N010 N005 q5 0 DFLOP Trise=250n
A6 N006 0 N005 0 N010 N006 0 0 DFLOP Trise=250n
A7 N007 0 N006 0 N010 N007 0 0 DFLOP Trise=250n
A8 N008 0 N007 0 N010 N008 q8 0 DFLOP Trise=250n
A10 nReset 0 0 0 0 N010 0 0 BUF Trise=50n
.ends Counter8
.subckt mux2 a b c out
* c=1 --> out=a c=0 --> out=b
c1 a 0 10p
c2 b 0 10p
c3 c 0 10p
*B1 out 0 v=(v(a)&v(c))|(v(b)&(!v(c))) tripdv=50n tripdt=50n
sw1 out a c 0 sw1
sw2 out b c 0 sw2
.model sw1 sw ron=1k roff=1Gig vt=0.5
.model sw2 sw ron=1Gig roff=1k vt=0.5
.ends mux2
.subckt mux3 x y z c1 c2 out
x1 x y c1 a mux2
x2 a z c2 out mux2
.ends mux3

.subckt bufinvin in out vcc gnd nout
ci in gnd 10p
d1 in vcc dmy
d2 gnd in dmy
.model dmy d Ron=10 Roff=1gig Vfwd=.5
b1 outv 0 v=v(in,gnd)/max(v(vcc,gnd),1)
A1 outv 0 0 0 0 out nout 0 BUF Trise=50n
.ends bufinvin

.subckt bufinvout in out vcc gnd
A1 in 0 0 0 0 out1 0 0 BUF Trise=50n
B1 out2 gnd v=v(out1)*v(vcc,gnd)
rut out out2 1Meg
b2 out out2 i=V(out,out2)*uramp(V(vcc,gnd)-1.5)*2e-4
cout out gnd 10p
.ends bufinvout

.subckt powreset ar out vcc
S1 0 N001 AR 0 klu
C1 N001 0 100p
A1 N001 0 0 0 0 0 out 0 SCHMITT VT=8 vh=0.1
D1 N001 vcc my
.model D D
.model klu sw ron=1Gig roff=1 vt=0.5 vh=20m
.model my d Ron=1 Roff=100k Vfwd=.1
.ends powreset

.subckt L6920D FB LBI LBO REF OUT LX GND_ SHDN Vout=3.3
D1 LX OUT D1
V1 N001 GND_ {Vout}
V2 REF GND_ 1.22
S1 GND_ LBOv REF LBI SWL
R1 GND_ FB 10Meg
S2 OUT N001 SHDN GND_ SWsh
S3 lbo lbov SHDN GND_ SWsh
.model D D
.model D1 d Ron=10 Roff=10Meg Vfwd=.5
.model swl sw Ron=1k Roff=100Meg Vt=10m Vh=10m
.model swsh sw Ron=.01 Roff=10Meg Vt=0.4 Vh=0.2 Ilimit=600mA
.ends L6920D

.subckt ZXLD1350 10 26 13 18 20
*Connections Lx Gnd Adj Vin Isense
* Vref Generator *
E2 19 26 18 26 1
* D7 26 14 Dzener
B111 	 14 26 V=Min(V(19), 1.25)
* kl 13dec07
R3 14 19 20k
* R3 reduced from 200k kl 17dec07
R4 14 13 200k
* ADJ input filter *
* Faster (but unrealistic) startup can be
* achieved by changing initial conditions
* on C1 to C3 to match the settled value.
* eg 1.25V if ADJ is floating in the application
* or equal to the external DC voltage applied to ADJ
* or equal to the average value of the PWM signal
* applied to ADJ
C1 15 26 5p IC=0
C2 16 26 5p IC=0
C3 17 26 5p IC=0
R5 13 15 7.7meg
R6 15 16 7.7meg
R7 16 17 7.7meg
E7 12 26 17 26 1
* ADJ lockout with hysteresis *
R8 12 adj_lockout 1000
I1 12 adj_lockout DC 50uA
C7 adj_lockout 12 1p IC=0
X_S4 adj_lockout 26 adj_lockout 12 ZXLD1350_S4
X_S5 adj_lockout 26 23 26 ZXLD1350_S5
* UV lockout *
X_S6 18 26 23 26 ZXLD1350_S6
* Main Function *
G2 26 8 18 20 1m
C4 26 20 20p
R9 26 9 3.832k
R10 9 8 10.859k
X_S7 23 26 9 26 ZXLD1350_S7
G3 21 26 8 12 1000m
R11 26 21 1meg
V3 24 26 700mV
D8 24 21 Dclamp
V4 22 26 6V
D9 21 22 Dclamp
* Comp Delay (Asymmetric) *
E4 25 26 21 26 1
C6 26 23 25p
R13 23 25 2k
* Output NMOS *
X_S8 23 26 11 26 ZXLD1350_S8
R12 11 10 0.4
C5 26 10 100p
* Supply Current *
X_S3 adj_lockout 26 4 7 ZXLD1350_S3
R1 26 7 1.58k
R2 26 4 67k
X_S2 18 26 6 4 ZXLD1350_S2
V1 5 26 1V
X_F1 6 5 18 26 ZXLD1350_F1
* Timestep Control *
* Only purpose is to force timestep without using a control card *
V99 99 26 DC 0 AC 0 PULSE 0 0 0 100n 100n 500n 1u
R99 99 26 100
.model Dzener D Is=1e-8 N=10 bv=1.245 ibv=1p Cjo=.1p Rs=.1 TBV1=4e-5 nbv=.01
.model Dclamp D Is=2.682n N=1.836 Rs=.5664 Ikf=44.17m Cjo=4p M=.3333 Vj=.5
* .ends ZXLD1350
.subckt ZXLD1350_F1 1 2 3 4
F_F1 3 4 VF_F1 1
VF_F1 1 2 0V
.ends ZXLD1350_F1
.subckt ZXLD1350_S3 1 2 3 4
S_S3 3 4 1 2 S3
RS_S3 1 2 1G
.MODEL S3 VSWITCH Roff=1e6 Ron=1.0 Voff=198mV Von=200mV
.ends ZXLD1350_S3
.subckt ZXLD1350_S2 1 2 3 4
S_S2 3 4 1 2 S2
RS_S2 1 2 1G
.MODEL S2 VSWITCH Roff=1e6 Ron=1.0 Voff=1.248V Von=1.25V
.ends ZXLD1350_S2
.subckt ZXLD1350_S6 1 2 3 4
S_S6 3 4 1 2 S6
RS_S6 1 2 1G
.MODEL S6 VSWITCH Roff=10e6 Ron=1.0 Voff=6.505V Von=6.495V
.ends ZXLD1350_S6
.subckt ZXLD1350_S7 1 2 3 4
S_S7 3 4 1 2 S7
RS_S7 1 2 1G
.MODEL S7 VSWITCH Roff=10e6 Ron=1.0 Voff=2750mV Von=2755mV
.ends ZXLD1350_S7
.subckt ZXLD1350_S8 1 2 3 4
S_S8 3 4 1 2 S8
RS_S8 1 2 1G
.MODEL S8 VSWITCH Roff=10e6 Ron=1.0 Voff=2750mV Von=2755mV
.ends ZXLD1350_S8
.subckt ZXLD1350_S4 1 2 3 4
S_S4 3 4 1 2 S4
RS_S4 1 2 1G
.MODEL S4 VSWITCH Roff=10e6 Ron=1 Voff=255mV Von=245mV
.ends ZXLD1350_S4
.subckt ZXLD1350_S5 1 2 3 4
S_S5 3 4 1 2 S5
RS_S5 1 2 1G
.MODEL S5 VSWITCH Roff=10e6 Ron=1.0 Voff=251mV Von=249mV
.ends ZXLD1350_S5
.ends ZXLD1350

.subckt coresat L1 L2 params: Feddy=25k IVSEC=0 Ae=0.000067 lm=0.037
+lg=0 Bsat=350m ur=6000 N=15 Hc=50
*
.param VSEC={N*Ae*Bsat}
.param u0={1.25u}
.param u={u0*ur/(1+ur*(lg/lm))}
.param Lmag={u*N^2*Ae/lm}
.param Lsat={u0*N**2*Ae/(lm+lg)}
.param IHyst={Hc*lm/N}
.param Cjo={3*VSEC/(6.28*Feddy*clamp*Lmag)}
.param clamp={250}
*
Rdum phi 0 10G
F1 L1 12 VM 1
Gint 0 phi 12 L1 -1
C1 phi 0 {VSEC/Clamp} IC={IVSEC/VSEC*clamp}
Ebuf 5 0 phi 0 1
Rmag 8 0 {Lmag*clamp/VSEC}
VM 5 8
D3 2 9 D2mod
V6 9 0 DC={Clamp}
R2 2 8 {Lsat*clamp/VSEC}
V8 0 10 DC={Clamp}
Vdum 12 L2
D4 10 2 D2mod
I1 6 L1 DC={IHYST}
*E1 100 0 Value={ ({N}/{lm})*I(VDUM) }
*E2 110 0 Value={ V(phi)*{VSEC}/({N}*{Ae})/{CLAMP} }
I6 6 12 DC={IHYST}
D1 L1 6 Dmod
D2 12 6 Dmod
.MODEL Dmod D N=1
.MODEL D2mod D CJO={Cjo} VJ=25
.ENDS coresat

.subckt tlv431_on 7 6 11
* k a fdbk
*tlv431_on;on semiconductor;voltage reference;cmos 1.2v ref.
.model dclamp d (is=13.5n rs=25m n=1.59 cjo=45p vj=.75 m=.302 tt=50.4n bv=36v ibv=1ma)
.model dcl2 d rs=660k
v1 1 6 1.24
r1 6 2 15.6
c1 2 6 .5u
r2 2 3 100
c2 3 4 1.3u
r3 4 6 8
g2 6 8 3 6 .86
d1 5 8 dclamp
d2 7 8 dclamp
d4 6 8 dclamp
v4 5 6 1.00
g1 6 2 1 11 0.11
vclamp 9 6 14.5
d3 7 9 dcl2
.model qin npn bf=1 tr=1u
.ends

.subckt tlv431_my 7 6 11
* k a fdbk
* 1.2v ref.
.model dclamp d (is=13.5n rs=25m n=1.59 cjo=45p vj=.75 m=.302 tt=50.4n bv=36v ibv=1ma)
.model dcl2 d rs=660k
v1 1 6 1.24
r1 6 2 15.6
c1 2 6 .5u
r2 2 3 100
c2 3 4 1.3u
r3 4 6 8
g2 6 8 3 6 .86
d1 5 8 dclamp
d2 7 8 dclamp
d4 6 8 dclamp
v4 5 6 1
g1 6 2 1 11 0.11
vclamp 9 6 14.5
d3 7 9 dcl2
q 7 11 100 qin
r 100 6 250k
.model qin npn bf=1 tr=1u
.ends

.SUBCKT ZR431L 1 2 3
*Connections Vz Vref Gnd
*
*Input current
Rin 2 3 Rmod1 1.127E7
D1 3 2 Dmod1
D2 2 1 Dmod1
Cin 2 3 10p
*
*Quiescent current
E1 50 3 2 3 1
D8 50 51 Dmod1
Rq 51 52 Rmod4 31E3
Vq 52 3 0
F1 1 3 Vq 1
Ro 1 3 1.5E6
*
*Reference voltage
Iref 3 21 1.2405E-3
Rref 21 3 Rmod2 1000
*
*Voltage dependence
G1 21 3 POLY(1) 1 3 0 1.57E-6 -0.97e-7
*
*Gain
G2 3 31 2 21 1e-7
Rt2 3 31 100E6
Rt3 3 32 3E6
Ct1 31 32 3E-13
D3 31 3 Dmod1
D4 3 31 Dmod1
*
*Output
*Q1 5 42 3 Qmod1
Cr1 7 31 1.5e-14
G3 41 3 31 3 0.8
Rc1 6 7 5
Rc2 7 5 5
D6 3 41 Dmod1
D7 3 1 Dmod1
L1 1 6 10nH
D9 5 41 Dmod2
*
.MODEL Qmod1 NPN BF=220 CJC=3p CJE=3p
.MODEL Rmod1 RES (TC1=2.95E-3 TC2=-5E-7)
.MODEL Rmod2 RES (TC1=1.5e-5 TC2=-3.5e-7)
.MODEL Rmod3 RES (TC1=-2.5E-3 TC2=2E-5)
.MODEL Rmod4 RES (TC1=1.7E-3 TC2=0)
.MODEL Dmod1 D IS=5f RS=4 BV=22
.MODEL Dmod2 D IS=1E-18 RS=.01
.ENDS ZR431L

*TITLE=ZXRE060 MACROMODEL
*ORIGIN=DZSL_AG_GS
*DATE=3rd March 2011
*VERSION=1
*PIN_ORDER 1:PGND, 2:GND, 3:IN, 4:FB, 5:OUT
*
.subckt ZXRE060 PGND GND IN FB OUT
* pins-----------1----2----3----4---5
*
*Voltage reference with temperature effect
E1 REFG 1 value={(0.6+1.72e-5*(TEMP-25)-1e-7*(TEMP-25)**2)*(0.5+0.5*tanh(4*(V(VCCL)-1.5)))}
I1	VCCL 1 TBL(0 0 1 0.48m) ; Supply current, my
R1 REFG inm 48k
R2 FB inp 48k
C1 inm inp 0.2p
I3	VCCL inp 45n ; input bias current
I4 	VCCL inm 45n
*
*First amplifier, limited to internal 2V supply
E2 E2out 1 value={tanh(11.52*(V(inp)-V(inm)))}
R7	E2out C3p 1
C3	C3p 1 250n ; 600kHz first breakpoint
R3	C3p int 10k
I2	VCCL int 2.5u
C2	int 1 6p ; 2MHz second breakpoint
*Second amplifier: transconductance
*with sink current output voltage limit of 0
*source current output voltage limit of 2V
G1 G1out 1 value={11e-6*(1-tanh(19.3*(v(int)-v(Q2e))))*tanh(10*max((V(G1out)-V(1)),0))}
G2 VCCL G1out value={11e-6*(1+tanh(19.3*(V(int)-V(Q2e))))*tanh(10*max(2-(V(G1out)-V(1)),0))}
*
*Output Stage
Q1	Q1c G1out Q2b 1 NPNCT
R4	VCCL Q1c 250
R5	Q2b PGNDL 50k
Q2	OUTL Q2b Q2e 1 NPNCT 5
R6	Q2e PGNDL 2.56
*
L1	IN VCCL 2n
L2	GND 1 2n
L3	OUT OUTL 2n
L4	PGND PGNDL 2n
*Output transistor model from CT
.model NPNCT NPN
+ is=2.265f
+ nf=1
+ ise=6.055f
+ ne=1.562
+ bf=190
+ ikf=28.71m
+ vaf=22.83
+ nr=1.008
+ isc=1e-24
+ nc=1.543
+ br=34.83
+ ikr=1.250m
+ var=19.13
+ rb=267.9
+ irb=1.250m
+ rbm=100.0m
+ re=802.9m
+ rc=164.1m
+ cje=163.1f
+ vje=1.200
+ mje=151.0m
+ tf=70.00p
+ xtf=10.00
+ vtf=30.00
+ itf=200.0m
+ ptf=34.00
+ cjc=380.6f
+ vjc=410.0m
+ mjc=360.0m
+ xcjc=50.00m
+ tr=6.00n
+ cjs=525.2f
+ vjs=401.0m
+ mjs=179.2m
+ xtb=200.0m
+ xti=5.100
+ eg=1.110
+ fc=950.0m
.ends ZXRE060



*
* Trace Elliot 50W output transformer, part 73-TRAN-50WOP
*
* D.Munro 10/4/97
*
* Pin 1 anode'
* 2 HT
* 3 anode''
*
* 4,5 output 16 ohm
*
* Note that altough the transformer is tapped 4/8/16 ohms, only the
* 16 ohm output is modelled.
*
.SUBCKT trace50 1 2 3 4 5
L12	in1	in2	41.02m
C1_1	in2	2	-797.5p
Rdc1	in1	N61	60.55
Lmag	in1	2	99.45
Rcore	in1	2	2.458Meg
Rac1	N61	1	63.93
Lac1	N61	1	0.1083
L23	in2	in3	78.28m
C2_23	3	5	831.3p
C3_23	3	N43	503.0p
Efwd2	N82	3	in2	2	1.000
Vsens2	N82	N42
Ffbk2	in2	2	Vsens2	1.000
C1_2	N82	3	251.9p
Rdc2	N42	N62	61.68
Rac2	N62	2	62.58
Lac2	N62	2	0.2074
Efwd3	N83	5	in3	2	0.1352
Vsens3	N83	N43
Ffbk3	in3	2	Vsens3	0.1352
C1_3	N83	5	2.426p
Rdc3	N43	N63	0.8561
Rac3	N63	4	1.501
Lac3	N63	4	694.1u
.ENDS



*3/16/07 TRANSFORMER with Bertotti magnetization without hysteresis
* Using MKS units: M in Tesla=1e4 gauss

* P1, P2: primary winding S1,S2: secondary
* Np - primary turns
* Ns - secondary turns
* Ac - core area in meters^2
* Le - core magnetic path length in meters
* Lg - core air gap in meters
* Hard - 0=soft material (ferrite), 1=hard material (permalloy)

.SUBCKT TransBertotti P1 P2 S1 S2 PARAMS:
+ Np=100 Ns=100 Ac=1e-5 Le=1e-2 Lg=0
+ Bsat=0.4891 Chi=0.014 cb=0.90 Hc=12.2276 Hard=0 ;material parameters
* material PARAMs are for MN8CX ferrite

.PARAM Scale=1e-6 ;scale differentiation

Cdiff B 10 {Scale} ;differentiate flux with Vsense. scaling 1e-6
Vsense 10 0 0 ;sense dflux/dt currrent

Hp P1 1 Vsense {Np*Ac/Scale}
Vpsense 1 P2 0 ;sense primary current
Hs S1 2 Vsense {Ns*Ac/Scale}
Vssense 2 S2 0 ;sense secondary current

*Bh H1 0 v=({Np}*I(Vpsense) + {Ns}*I(Vssense)) / {Le}
Bh H1 0 v=({Np}*I(Vpsense) + {Ns}*I(Vssense) - v(B)/(4*PI*1e-7)*{Lg}) / {Le}

Voffset H H1 1E-30 ;dc bias needed to make AC analysis work

*Bertotti BH model with no hysteresis
* this model takes H as input, outputs flux B. both ground referenced
Bpirr Pirr 0 v=(abs(v(H)) - {Hc/(1-cb)}) + {Hc/(1-cb)} * exp(-abs(v(H))/{Hc/(1-cb)})
BXinitial Xinit 0 v={Chi} * sgn(v(H)) *( {(1-cb)} * v(Pirr) + {cb}*abs(v(H)) )
BM B 0 v={Bsat}*( {1-Hard} * 2/PI * atan(PI/2 * v(Xinit)) ;round materials
+ + {Hard} * if(( (abs(v(Xinit)) > 50) , sgn(v(Xinit)) , tanh(v(Xinit)) ) ) ) ;hard materials
.ENDS

* Helmut Sennewald 11/9/2003
* NIMH1 is a slightly changed version of the original circuit.
* I haven't understood what the original SOC shows.
* I think the new SOC1 really shows the charge of the battery.
*
*********************************************************************************
* NIMH.SUB - PSpice Nickel-Metal-Hydride battery discharge simulator
* Optimized for 4/5A and AA Standard Cells
* Discharge rates from 0C to 5C
*
* By: S.C.Hageman 10/01/1993 Version: 11/03/1993
*
* NOTE: THIS TECHNOLOGY IS NEW AS OF LATE 1993, THE ACTUAL PERFORMANCE OF NIMH
* CELLS IS LIKELY TO CHANGE QUICKLY AS THE PRODUCTION BUGS ARE WORKED OUT.
* USE WITH CARE....SCH
*********************************************************************************

.SUBCKT NIMH1

; ----- Nodes -----
;+ +OUTPUT -OUTPUT SOC RATE
; New line from Helmut S.
+ +OUTPUT -OUTPUT SOC1 RATE
; ^ ^ ^ ^
; | | | |
; | | | +-- Instantaneous discharge rate, 1V=C, 10V=10C
; | | +------ State of charge output node, 1V=100%, 0V=0%
; +-------+----------- +/- Cell connections (Floating)
;
; ----- Parameters -----
+ PARAMS: CAPACITY=1, RESISTANCE=0.1
; ^ ^
; | |
; | +----------- Cell resistance in ohms
; +----------- Cell capacity in Amp-Hours, 1=1A-Hr, 0.5=0.5A-Hr
; measured at 5 hour rate

*--------------------------------------------------------------------------------

* The next three lines are new from Helmut S.
.PARAM CHARGE=1
.IC V(50)={CHARGE}
E1 SOC1 0 50 0 1

* * DISCHARGE RATE CALCULATION * *
E_Rate RATE 0 VALUE={ I(V_Sense)/CAPACITY }
R2 RATE 60 1 ;R2-C2 provide 3 second delayed time constant
C1 60 0 3

* * LOW RATE ADDITIONAL ENERGY LOOK-UP TABLE AND TRANSFER * *
E_LowRate LowRate 0 TABLE { V(RATE) }=(0,0) (0.001,0.15) (0.1,0.1) (0.2,0)
R3 LowRate 0 1G
G_LowRate 0 50 VALUE={ V(LowRate)*I(V_Sense) }

* * DISCHARGE AND STATE OF CHARGE * *
G_Discharge SOC 0 VALUE={ I(V_Sense) } ; Discharge Current

* * LOST CAPACITY DURING FAST DISCHARGE DELAYED BY R2-C1 * *
E_LostRate 50 SOC TABLE { V(60) }=(0.2,0.0) (1.0,0.15) (5,0.2)

* * AMP-HOUR CAPACITY OF BATTERY * *
C_CellCapacity 50 0 { 3600 * CAPACITY * 1.01 }
R1 50 0 1G

* * CELL RESISTANCE * *
R_Cell 20 30 { RESISTANCE }

* * CELL OUTPUT CURRENT SENSE * *
V_Sense -OUTPUT 30 0

* * CELL OUTPUT VOLTAGE VS STATE OF CHARGE * *
E_Invert Invert 0 TABLE { V(SOC) }=(0,1) (1,0)
R4 Invert 0 1G

E_Cell +OUTPUT 20 TABLE { V(Invert) }=
+(0.0000E+00 1.3346E+00) (7.0989E-03 1.3244E+00) (1.6327E-02 1.3144E+00)
+(2.9283E-02 1.3042E+00) (4.2593E-02 1.2942E+00) (6.8859E-02 1.2841E+00)
+(1.3008E-01 1.2733E+00) (4.3605E-01 1.2633E+00) (5.1165E-01 1.2532E+00)
+(5.8033E-01 1.2432E+00) (6.4635E-01 1.2331E+00) (7.0190E-01 1.2231E+00)
+(7.5834E-01 1.2130E+00) (8.0324E-01 1.2030E+00) (8.3075E-01 1.1929E+00)
+(8.5116E-01 1.1828E+00) (8.6820E-01 1.1727E+00) (8.8310E-01 1.1627E+00)
+(8.9641E-01 1.1527E+00) (9.0848E-01 1.1425E+00) (9.1860E-01 1.1324E+00)
+(9.2730E-01 1.1223E+00) (9.3475E-01 1.1122E+00) (9.4167E-01 1.1021E+00)
+(9.4841E-01 1.0919E+00) (9.5480E-01 1.0817E+00) (9.6013E-01 1.0716E+00)
+(9.6439E-01 1.0615E+00) (9.6776E-01 1.0515E+00) (9.7060E-01 1.0407E+00)
+(9.7291E-01 1.0299E+00) (9.7486E-01 1.0190E+00) (9.7663E-01 1.0080E+00)
+(9.7823E-01 9.9782E-01) (9.8001E-01 9.8706E-01) (9.8196E-01 9.7630E-01)
+(9.8391E-01 9.6612E-01) (9.8586E-01 9.5606E-01) (9.8799E-01 9.4542E-01)
+(9.9012E-01 9.3524E-01) (9.9225E-01 9.2518E-01) (9.9420E-01 9.1498E-01)
+(9.9580E-01 9.0400E-01) (9.9687E-01 8.9186E-01) (9.9740E-01 8.7990E-01)
+(9.9775E-01 8.6280E-01) (9.9793E-01 8.4818E-01) (9.9811E-01 8.2718E-01)
+(9.9828E-01 7.9518E-01) (9.9846E-01 7.4066E-01) (9.9864E-01 6.4712E-01)
+(9.9882E-01 5.1380E-01) (9.9899E-01 3.3476E-01) (1.0000E+00 0.0000E+00)
.ENDS




*********************************************************************************
* NIMH.SUB - PSpice Nickel-Metal-Hydride battery discharge simulator
* Optimized for 4/5A and AA Standard Cells
* Discharge rates from 0C to 5C
*
* By: S.C.Hageman 10/01/1993 Version: 11/03/1993
*
* NOTE: THIS TECHNOLOGY IS NEW AS OF LATE 1993, THE ACTUAL PERFORMANCE OF NIMH
* CELLS IS LIKELY TO CHANGE QUICKLY AS THE PRODUCTION BUGS ARE WORKED OUT.
* USE WITH CARE....SCH
*********************************************************************************

.SUBCKT NIMH

; ----- Nodes -----
+ +OUTPUT -OUTPUT SOC RATE
; ^ ^ ^ ^
; | | | |
; | | | +-- Instantaneous discharge rate, 1V=C, 10V=10C
; | | +------ State of charge output node, 1V=100%, 0V=0%
; +-------+----------- +/- Cell connections (Floating)
;
; ----- Parameters -----
+ PARAMS: CAPACITY=1, RESISTANCE=1
; ^ ^
; | |
; | +----------- Cell resistance in ohms
; +----------- Cell capacity in Amp-Hours, 1=1A-Hr, 0.5=0.5A-Hr
; measured at 5 hour rate

*--------------------------------------------------------------------------------

* * DISCHARGE RATE CALCULATION * *
E_Rate RATE 0 VALUE={ I(V_Sense)/CAPACITY }
R2 RATE 60 1 ;R2-C2 provide 3 second delayed time constant
C1 60 0 3

* * LOW RATE ADDITIONAL ENERGY LOOK-UP TABLE AND TRANSFER * *
E_LowRate LowRate 0 TABLE { V(RATE) }=(0,0) (0.001,0.15) (0.1,0.1) (0.2,0)
R3 LowRate 0 1G
G_LowRate 0 50 VALUE={ V(LowRate)*I(V_Sense) }

* * DISCHARGE AND STATE OF CHARGE * *
G_Discharge SOC 0 VALUE={ I(V_Sense) } ; Discharge Current

* * LOST CAPACITY DURING FAST DISCHARGE DELAYED BY R2-C1 * *
E_LostRate 50 SOC TABLE { V(60) }=(0.2,0.0) (1.0,0.15) (5,0.2)

* * AMP-HOUR CAPACITY OF BATTERY * *
C_CellCapacity 50 0 { 3600 * CAPACITY * 1.01 }
R1 50 0 1G

* * CELL RESISTANCE * *
R_Cell 20 30 { RESISTANCE }

* * CELL OUTPUT CURRENT SENSE * *
V_Sense -OUTPUT 30 0

* * CELL OUTPUT VOLTAGE VS STATE OF CHARGE * *
E_Invert Invert 0 TABLE { V(SOC) }=(0,1) (1,0)
R4 Invert 0 1G

E_Cell +OUTPUT 20 TABLE { V(Invert) }=
+(0.0000E+00 1.3346E+00) (7.0989E-03 1.3244E+00) (1.6327E-02 1.3144E+00)
+(2.9283E-02 1.3042E+00) (4.2593E-02 1.2942E+00) (6.8859E-02 1.2841E+00)
+(1.3008E-01 1.2733E+00) (4.3605E-01 1.2633E+00) (5.1165E-01 1.2532E+00)
+(5.8033E-01 1.2432E+00) (6.4635E-01 1.2331E+00) (7.0190E-01 1.2231E+00)
+(7.5834E-01 1.2130E+00) (8.0324E-01 1.2030E+00) (8.3075E-01 1.1929E+00)
+(8.5116E-01 1.1828E+00) (8.6820E-01 1.1727E+00) (8.8310E-01 1.1627E+00)
+(8.9641E-01 1.1527E+00) (9.0848E-01 1.1425E+00) (9.1860E-01 1.1324E+00)
+(9.2730E-01 1.1223E+00) (9.3475E-01 1.1122E+00) (9.4167E-01 1.1021E+00)
+(9.4841E-01 1.0919E+00) (9.5480E-01 1.0817E+00) (9.6013E-01 1.0716E+00)
+(9.6439E-01 1.0615E+00) (9.6776E-01 1.0515E+00) (9.7060E-01 1.0407E+00)
+(9.7291E-01 1.0299E+00) (9.7486E-01 1.0190E+00) (9.7663E-01 1.0080E+00)
+(9.7823E-01 9.9782E-01) (9.8001E-01 9.8706E-01) (9.8196E-01 9.7630E-01)
+(9.8391E-01 9.6612E-01) (9.8586E-01 9.5606E-01) (9.8799E-01 9.4542E-01)
+(9.9012E-01 9.3524E-01) (9.9225E-01 9.2518E-01) (9.9420E-01 9.1498E-01)
+(9.9580E-01 9.0400E-01) (9.9687E-01 8.9186E-01) (9.9740E-01 8.7990E-01)
+(9.9775E-01 8.6280E-01) (9.9793E-01 8.4818E-01) (9.9811E-01 8.2718E-01)
+(9.9828E-01 7.9518E-01) (9.9846E-01 7.4066E-01) (9.9864E-01 6.4712E-01)
+(9.9882E-01 5.1380E-01) (9.9899E-01 3.3476E-01) (1.0000E+00 0.0000E+00)
.ENDS


* THIS MODEL IS APPLICABLE FOR TLV3491,TLV3492 & TLV3494
*
* BEGIN NOTES
* FOR ACCURATE INPUT BIAS
* CURRENTS, USE GMIN=1E-13
* MODEL TEMPERATURE RANGE IS
* -40 C TO +125 C, NOT ALL
* PARAMETERS TRACK THOSE OF
* THE REAL PART VS TEMPERATURE
* END NOTES
* BEGIN FEATURES
* OFFSET CHANGE AT TRANSITION
* WHEN CMV NEAR POSITIVE RAIL
* INPUT BIAS CURRENT
* INPUT CAPACITANCE
* INPUT COMMON MODE VOLTAGE RANGE
* INPUT CLAMPS TO RAILS
* CMRR WITH FREQUENCY EFFECTS
* PSRR WITH FREQUENCY EFFECTS
* OUTPUT TRANSISTION TIME
* QUIESCENT CURRENT
* QUIESCENT CURRENT VS VOLTAGE
* QUIESCENT CURRENT VS TEMPERATURE
* RAIL TO RAIL OUTPUT STAGE
* HIGH CLOAD EFFECTS
* OUTPUT CURRENT THROUGH SUPPLIES
* OUTPUT CURRENT LIMITING
* OUTPUT CLAMPS TO RAILS
* OUTPUT SWING VS OUTPUT CURRENT
* END FEATURES
* BEGIN MODEL TLV3491
* PINOUT IS FOR SOT23-5 PACKAGE
* PINOUT ORDER +IN -IN +V -V OUT
* PINOUT        3   4   5  2  1
*****************************************************************************
.SUBCKT TLV3491 3 4 5 2 1
R81 6 5 0.5
R82 2 7 0.5
R84 8 9 2.47E3
R85 10 11 0.5
R86 12 13 0.5
D21 1 5 DD
D22 2 1 DD
E25 12 0 2 0 1
E26 11 0 5 0 1
R96 20 17 100
R97 21 15 100
C32 9 1 8E-15
C36 1 0 0.1E-12
I28 18 19 0.5E-6
R5 1 16 17
R6 14 1 27
G16 22 23 8 23 -1E-3
G17 23 24 8 23 1E-3
G18 23 25 19 12 1E-3
G19 26 23 11 18 1E-3
D31 26 22 DD
D32 24 25 DD
M24 14 15 7 7 NOUT L=3U W=6000U
M25 16 17 6 6 POUT L=3U W=6000U
M26 18 18 10 10 POUT L=3U W=6000U
M29 19 19 13 13 NOUT L=3U W=6000U
R10 22 26 100E6
R11 25 24 100E6
R12 26 11 1E3
R13 12 25 1E3
E39 11 20 11 26 1
E40 21 12 25 12 1
R14 24 23 1E6
R15 25 23 1E6
R16 23 26 1E6
R17 23 22 1E6
R18 2 5 200E6
G20 5 2 27 0 -0.6E-6
D33 28 0 DD
V33 28 27 0.6
R19 0 27 1E6
I31 5 2 0.73E-6
I34 0 28 0.2E-6
E44 23 12 11 12 0.5
R20 29 30 1.2E6
D34 31 29 DD
D35 29 32 DD
V45 32 33 0.3
V46 34 31 0.3
C42 8 23 0.02E-12
R21 29 8 1.1E6
E45 34 23 35 0 1
E46 33 23 35 0 -1
D36 36 0 DD
I35 0 36 1.5E-6
V47 36 35 0.487
R22 0 35 1E9
D37 37 38 DD
D38 39 37 DD
G21 37 23 40 41 -0.2E-3
R23 23 37 3.5E6
C43 37 23 9E-12
M30 30 37 38 38 POUT L=3U W=30U
M31 30 37 39 39 NOUT L=3U W=30U
G22 37 23 42 43 -0.2E-3
R24 44 45 2
R25 46 45 2
E47 47 0 11 0 1
E48 48 0 12 0 1
E49 49 0 50 0 1
R26 47 51 1E6
R27 48 52 1E6
R28 49 53 1E6
R29 0 51 100
R30 0 52 100
R31 0 53 100
E50 54 3 53 0 -0.95
R32 55 50 1E3
R33 50 56 1E3
C44 47 51 5E-12
C45 48 52 5E-12
C46 49 53 2E-12
E51 57 54 52 0 0.25
E52 58 57 51 0 0.25
M32 41 59 44 44 PIN L=3U W=20U
M33 40 4 46 46 PIN L=3U W=20U
R34 12 41 25E3
R35 12 40 25E3
C47 41 40 8E-12
C48 58 0 2E-12
C49 4 0 2E-12
V48 58 59 0
M34 43 60 61 61 NIN L=3U W=20U
R36 62 61 2
M35 42 4 63 63 NIN L=3U W=20U
R37 62 63 2
R38 43 11 25E3
R39 42 11 25E3
C50 43 42 8E-12
V49 59 60 1E-3
M36 64 65 66 66 POUT L=6U W=500U
M37 67 68 11 11 PIN L=6U W=500U
V50 11 65 1.25
M38 62 64 12 12 NIN L=6U W=500U
M39 64 64 12 12 NIN L=6U W=500U
E53 56 0 58 0 1
E54 55 0 4 0 1
M40 68 68 11 11 PIN L=6U W=500U
I36 68 12 1E-6
V51 67 45 0
J6 69 58 69 JC
J7 69 4 69 JC
J8 4 70 4 JC
J9 58 70 58 JC
C51 58 4 4E-12
I37 58 0 1E-12
I38 4 0 1E-12
R140 66 67 1E3
V53 11 69 0.1
V54 70 12 0.1
V55 38 23 2.5
V56 39 23 -2.5
.MODEL DD D
.MODEL JC NJF IS=1E-18
.MODEL PIN PMOS KP=200U VTO=-0.7
.MODEL NIN NMOS KP=200U VTO=0.7
.MODEL POUT PMOS KP=200U VTO=-0.7 LAMBDA=0.01
.MODEL NOUT NMOS KP=200U VTO=0.7 LAMBDA=0.01
.ENDS
* END MODEL TLV3491


* THIS MODEL IS APPLICABLE FOR TLV3501 & TLV3502
*
*****************************************************************************
* BEGIN MODEL TLV3501
* BEGIN NOTES
* MODEL FEATURES INCLUDE OUTPUT SWING,
* OUTPUT CURRENT THRU THE SUPPLY RAILS,
* TPD VS CLOAD, TPD VS DRIVE LEVEL,
* TPD VS SUPPLY VOLTAGE, RISE AND FALL
* TIME, INPUT CAPACITANCE, INPUT BIAS
* CURRENT, INPUT COMMON MODE VOTAGE
* RANGE, INPUT HYSTERESIS, HIGH CLOAD
* EFFECTS, OUTPUT CLAMP DIODES,
* QUIESCENT SUPPLY VS SUPPLY VOLTAGE,
* QUIESCENT CURRENT AT SHUTDOWN,
* SHUTDOWN THRESHOLD, ENABLE TIME,
* AND DISABLE TIME.
* MODEL TEMP RANGE IS -40 TO +125 DEG C.
* NOTE THAT MODEL IS FUNCTIONAL OVER
* THIS RANGE BUT NOT ALL PARAMETERS
* TRACK THOSE OF THE REAL PART.
* END NOTES
* PINOUT ORDER +IN -IN +V -V OUT EN
* PINOUT ORDER  3   1   4  2  5   6
.SUBCKT TLV3501 3 1 4 2 5 6
M12 7 8 4 4 MCPO
M13 7 8 2 2 MCNO
E1 9 10 11 12 1
E2 10 13 14 13 0.5
R1 0 10 1E9
R2 0 10 1E9
C1 8 15 0.53E-12
R3 8 9 800
E3 15 13 7 13 1
R5 15 8 1E5
M1 11 3 16 16 MCI
M2 17 1 16 16 MCI
I1 16 13 50E-6
M4 17 17 18 18 MCP
M3 11 11 18 18 MCP
R6 17 11 1E7
M5 19 17 18 18 MCP
M6 12 11 18 18 MCP
M7 19 19 20 20 MCN
M8 19 12 20 20 MCC
M9 12 19 20 20 MCC
M10 12 12 20 20 MCN
M11 20 20 13 13 MCN
R8 21 7 18
C3 12 11 0.01F
C4 11 17 110E-15
E4 22 0 3 0 1
E5 23 0 1 0 1
R9 24 23 1E3
R10 25 22 1E3
M14 26 25 13 13 MCNV
M15 27 25 14 14 MCPV
R11 26 14 1E6
R12 13 27 1E6
E6 18 14 28 14 1
V28 28 2 6.5
M16 29 26 13 13 MCN
M17 29 26 14 14 MCP
M18 8 29 14 14 MCPO
M19 8 27 14 14 MCPO
M20 30 24 13 13 MCNV
M21 31 24 14 14 MCPV
R15 30 14 1E6
R16 13 31 1E6
M22 32 30 13 13 MCN
M23 32 30 14 14 MCP
M24 8 32 14 14 MCPO
M25 8 31 14 14 MCPO
E8 33 5 34 0 -10
E9 35 21 34 0 10
M26 21 36 5 37 MNSW
M27 5 38 21 39 MPSW
R17 0 39 1E12
R18 37 0 1E12
V29 36 33 5
V30 38 35 -5
R19 0 35 1E12
R20 0 33 1E12
E10 14 0 4 0 1
M28 8 40 14 14 MCPO
M29 40 34 0 0 MCNS
R21 40 14 1E6
M45 41 42 0 0 NEN L=3U W=3000U
R133 41 43 1E6
V52 43 0 1
C27 6 0 1E-12
V53 41 44 1.111E-6
R134 0 44 1E12
C34 43 41 1E-18
M50 45 46 0 0 NEN L=3U W=300U
M51 47 45 0 0 NEN L=3U W=300U
R299 45 43 1E4
R300 47 43 1E4
C36 43 45 2.1E-12
C106 43 47 14E-12
M47 46 6 14 14 PEN L=6U W=60U
R301 0 46 1E4
C107 5 0 0.5E-12
R302 48 34 1E3
C108 34 0 2E-12
E11 48 0 44 0 1
E12 13 0 2 0 1
M52 49 50 2 2 MNIQ
R303 49 4 28E3
G1 4 2 51 0 3.05E-3
V55 52 48 -1
E13 53 0 52 0 -1
R304 0 52 1E12
R305 0 52 1E12
R306 0 48 1E12
R307 0 48 1E12
V56 53 51 3.111E-6
R308 0 51 1E12
R309 0 53 1E12
I2 4 2 2E-6
D1 54 0 DD
I3 0 54 1E-3
V57 54 55 0.65
R310 0 55 1E6
E14 42 47 55 0 0.9
R311 47 42 1E6
R312 13 16 1E12
C109 16 13 1E-16
C110 3 0 2E-12
C111 1 0 2E-12
I4 3 0 2E-12
I5 1 0 2E-12
R313 0 6 1E12
E15 50 2 51 0 1
D2 5 4 DC
D3 2 5 DC
R314 0 50 1E12
.MODEL DD D
.MODEL DC D RS=10
.MODEL MCI NMOS KP=8600U VTO=2
.MODEL MCC NMOS KP=215U VTO=2
.MODEL MCN NMOS KP=200U VTO=2
.MODEL MCP PMOS KP=200U VTO=-2
.MODEL MCNV NMOS KP=2000U VTO=-0.27
.MODEL MCPV PMOS KP=2000U VTO=0.28
.MODEL MCNO NMOS KP=35000U VTO=2
.MODEL MCPO PMOS KP=35000U VTO=-2
.MODEL MNSW NMOS KP=35000U VTO=2.5 IS=1E-18
.MODEL MPSW PMOS KP=35000U VTO=-2.5 IS=1E-18
.MODEL MCNS NMOS KP=200U VTO=0.5
.MODEL NEN NMOS KP=200U VTO=0.5 IS=1E-18
.MODEL PEN PMOS KP=200U VTO=-1.2 IS=1E-18
.MODEL MNIQ NMOS KP=35000U VTO=0.5 IS=1E-18
.ENDS 

* Copyright 2009 Avago Technologies Limited. All Right Reserved
*
* ACPL-C87A and ACPL-C87B PSpice Macromodel
* 
* Rev 1.0  03/10/2011
*     - SPICE Model is verified by LT Spice at Ta=25^C. Compatible to PSPICE.
*     - Macro model performance matches the typical datasheet specifications.
*     - Worst case performance are not modeled. 
*
* Macromodels provided by Avago Technologies are not warranted
* as fully representing all of the specification and operating 
* characteristics of the product.
*
* Macromodels are useful for evaluating product performance but they
* cannot model exact device performance under all condition, nor are
* they intented to replace breadboarding for final verification.
*
*
**********************************************************************
* block symbol definitions
.subckt acpl-c87at vdd1 vin sd gnd1 gnd2 von vop vdd2
V2 N011 0 1.25
D2 VL N017 DLIM
V3 VH gnd2 2.4
G1 N011 N003 vin gnd1 5E-5
D1 N003 VH DLIM
R1 N003 N011 10.25k
R2 N011 N017 10.25k
V4 VL gnd2 0.1
G2 N017 N011 vin gnd1 5E-5
E1 N004 N009 N003 N011 1
E2 N014 N018 N011 N017 1
R3 vop N004 32
R4 von N018 32
D3 N001 N002 D
D4 N002 gnd2 D
R5 vdd2 N001 100k
G3 vdd2 gnd2 N001 gnd2 6E-3
C1 N003 N011 1000p
C2 N011 N017 1000p
D7 N004 vdd2 D
D8 gnd2 N018 D
R7 sd gnd1 10meg
M1 N005 sd vdd1 vdd1 PMOS1 W=50u L=5u
D5 N012 gnd1 DSEN
D6 N006 N012 DSEN
R6 N005 N006 10k
G4 N010 gnd1 N006 gnd1 100E-3
D9 gnd1 N010 D
M4 N010 sd vdd1 vdd1 PMOS1 W=50u L=0.5u
M5 N003 N008 N011 N011 NMOS1 W=2u L=0.6u
M6 N011 N015 N017 N017 NMOS1 W=2u L=0.6u
E3 N008 N011 sd gnd1 1
E4 N015 N017 sd gnd1 1
M2 N011 N007 N003 N003 PMOS1 W=50u L=0.5u
M3 N017 N013 N011 N011 PMOS1 W=50u L=0.5u
E5 N003 N007 I5V vdd1 1
E6 N011 N013 I5V vdd1 1
V1 I5V gnd1 5
M7 N019 vdd1 gnd1 gnd1 NMOS1 W=200u L=0.6u
M8 no_light vdd1 I5V I5V PMOS1 W=50u L=0.5u
M9 N016 sd gnd1 gnd1 NMOS1 W=20u L=0.6u
M10 N016 sd I5V I5V PMOS1 W=50u L=0.5u
M11 no_light N016 I5V I5V PMOS1 W=50u L=0.5u
M12 no_light N016 N019 N019 NMOS1 W=200u L=0.6u
E7 N011 N009 no_light gnd1 0.25
E8 N014 N011 no_light gnd1 0.25
.model DLIM D is=100n
.MODEL PMOS1 PMOS LEVEL=3 L=5.5000E-7 W=2E-6 RS=10.000E-3 RD=10.000E-3
+ VTO=-9.54E-1 RDS=1.0000E6 TOX=1.24E-8 CGSO=2.01E-10 CGDO=2.01E-10 CBD=0
+ RG=5 RB=1m GAMMA=0 KAPPA=0 UO=215
.MODEL NMOS1 NMOS LEVEL=3 L=5.0000E-7 W=2u RS=10m RD=10m
+ VTO=7.55E-1 RDS=1.0000E6 TOX=1.25E-8 CGSO=1.83E-10 CGDO=1.83E-10 
+ CBD=1p RG=5 RB=1m GAMMA=0 KAPPA=0 UO=400
.model DSEN D is=100u
.ends acpl-c87at

