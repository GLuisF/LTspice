* name	node
* Q2	59
* Q1	60
* _Q2	61
* _Q1	62
* QZ	63
* QU	64
* I		65
* Vsync	66
* V11	67
* VS	68
* GND	100
.SUBCKT	TCA785	59 60 61 62 63 64 65 66 67 68 100
+PARAMS: Cb=2000 Ca=47n Ri=120k Ext12=0 Ext13=0
Ca	51	100	{Ca} IC=0
Cb	54	100	{(((Cb/2)+30)*1E-6)/69}	IC=0
Cd	71	72	150nF
Cx	55	100	300nF	IC=1
Rc	54	55	100
Rx1	53	100	200
Rx2	53	55	200
Rx3	72	74	100
Rin	53	54	1MEG
Rf1	65	100	100K
Rf2	66	100	100K
Rf3	67	100	15K
Rf4	68	100	1K
Da	72	53	IDEAL
Dc	55	100	IDEAL
Dd	100	55	IDEAL
Sa	51	100	52	100	SWITCH1
Sb	54	100	55	100	SWITCH2
VA	74	100	-0.5
Gi	100	51	VALUE={3.41/Ri}
Ec	52	100	TABLE	{V(66)}=(-20,1)(-50E-5,1)(-20E-5,0)(20E-5,0) (50E-5,1)(20,1)
Ec2	69	100	TABLE	{V(66)}=(-20,0)(0,0)(10E-6,1)(20,1)
Ec1	71	100	TABLE	{(V(51)-V(67))*500*((2*Ri*Ca*15)/3.41)}=(-20,0)(0,0)
+(1E-1,5)(20,5)
Einh	70	100	TABLE	{V(65)}=(-20,0)(2.5,0)(3.3,1)(20,1)
Ec3	75	100	TABLE	{V(55)}=(-10,-1)(-0.5,-1)(0.5,1)(10,1)
Go	100	55	 53	   54	   200
Eq15	59	100	VALUE={V(69)*(V(68)-2.5)*V(70)*((((V(75)+1)/2)*
+(1-Ext12))+((V(71)/5)*Ext12))}
Eq14	60	100	VALUE={(1-V(69))*(V(68)-2.5)*V(70)*(((V(75)+1)*
+(1-Ext12)/2)+((V(71)/5)*Ext12))}
Eq2	61	100	VALUE={(V(68)-2.5)*V(70)*(((1-((V(69)/2)*(V(75)+1)))*(1-Ext13))
+((1-(V(69)*(V(71)/5)))*Ext13))}
Eq4	62	100	VALUE={(V(68)-2.5)*V(70)*(((1-(((1-V(69))/2)*(V(75)+1)))*
+(1-Ext13))+((1-((1-V(69))*(V(71)/5)))*Ext13))}
Equ	63	100	VALUE={(1-((V(75)+1)/2))*(V(68)-2.5)*V(70)}
Eqz	64	100	VALUE={(V(68)-2.5)*V(70)*(((1-V(69))*
+(1-(V(71)/5)))+(V(69)*V(71)/5))}
.MODEL	SWITCH1	VSWITCH(RON=1E-2 ROFF=1E10
+VON=0 VOFF=1)
.MODEL	SWITCH2	VSWITCH(RON=1E-3 ROFF=1E5
+VON=-1 VOFF=1)
.MODEL	IDEAL	D()
.ENDS
