Version 4
SHEET 1 1172 680
WIRE -48 208 -112 208
WIRE -16 208 -48 208
WIRE 128 208 64 208
WIRE 288 208 128 208
WIRE -48 224 -48 208
WIRE 128 224 128 208
WIRE 288 224 288 208
WIRE -48 320 -48 304
WIRE -48 320 -112 320
WIRE 64 320 -48 320
WIRE 128 320 128 288
WIRE 128 320 64 320
WIRE 288 320 288 304
WIRE 288 320 128 320
WIRE 64 336 64 320
WIRE 64 416 64 400
FLAG -112 208 pos
FLAG -112 320 neg
FLAG 64 416 0
SYMBOL diode 112 224 R0
SYMATTR InstName D1
SYMATTR Value Dpv
SYMBOL current 288 304 R180
WINDOW 0 24 88 Left 0
WINDOW 3 24 0 Left 0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName I1
SYMATTR Value {imax}
SYMBOL res 80 192 R90
WINDOW 0 0 56 VBottom 0
WINDOW 3 32 56 VTop 0
SYMATTR InstName R1
SYMATTR Value {Rseries}
SYMBOL res -32 320 R180
WINDOW 0 36 76 Left 0
WINDOW 3 36 40 Left 0
SYMATTR InstName R2
SYMATTR Value {Rshunt}
SYMBOL cap 48 336 R0
SYMATTR InstName C1
SYMATTR Value 100n
SYMATTR SpiceLine Rpar=10meg
TEXT 112 368 Left 0 !.model dpv d(Is={Is} 11 N={n})
TEXT 40 456 Left 0 ;.param Is=1e-11 Imax=28 Vmax=560 n=Vmax*38.6/log(Imax/Is) Rseries=0.5 Rshunt=1meg
