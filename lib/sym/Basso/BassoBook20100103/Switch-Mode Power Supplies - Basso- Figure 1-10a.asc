Version 4
SHEET 1 880 1052
WIRE -576 -384 -736 -384
WIRE -480 -384 -576 -384
WIRE -160 -384 -400 -384
WIRE 64 -384 -160 -384
WIRE 80 -384 64 -384
WIRE -736 -368 -736 -384
WIRE -784 -352 -1056 -352
WIRE -1056 -320 -1056 -352
WIRE -1200 -304 -1216 -304
WIRE -1104 -304 -1200 -304
WIRE -784 -304 -800 -304
WIRE -800 -256 -800 -304
WIRE -736 -224 -736 -288
WIRE -1104 -208 -1104 -256
WIRE -1056 -208 -1056 -240
WIRE -784 -208 -928 -208
WIRE -784 -160 -800 -160
WIRE -800 -112 -800 -160
WIRE -736 -112 -736 -144
WIRE 64 48 64 -384
WIRE -160 64 -160 -384
WIRE -704 112 -736 112
WIRE -576 112 -624 112
WIRE -464 112 -512 112
WIRE -928 144 -928 -208
WIRE -736 160 -736 112
WIRE -736 160 -880 160
WIRE -736 176 -736 160
WIRE -464 192 -464 112
WIRE -464 192 -688 192
WIRE -384 192 -464 192
WIRE -160 192 -160 144
WIRE -160 192 -384 192
WIRE -640 240 -688 240
WIRE -608 240 -640 240
WIRE -928 256 -928 224
WIRE -880 256 -880 208
WIRE -160 256 -160 192
WIRE -736 304 -736 256
WIRE -640 304 -640 240
WIRE -1200 352 -1200 -304
WIRE -1200 464 -1200 432
WIRE -640 464 -640 384
WIRE -640 464 -1200 464
WIRE -160 464 -160 336
WIRE -160 464 -640 464
WIRE 64 464 64 128
WIRE 64 464 -160 464
WIRE 64 496 64 464
FLAG 64 496 0
FLAG 80 -384 OUT
IOPIN 80 -384 Out
FLAG -800 -112 0
FLAG -736 -112 0
FLAG -608 240 ref
IOPIN -608 240 In
FLAG -1216 -304 Vin
IOPIN -1216 -304 In
FLAG -1104 -208 0
FLAG -1056 -208 0
FLAG -880 256 0
FLAG -928 256 0
FLAG -800 -256 0
FLAG -576 -384 Vth
FLAG -384 192 A
FLAG -736 304 0
SYMBOL voltage -640 288 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
WINDOW 0 40 34 Left 0
WINDOW 3 42 62 Left 0
SYMATTR InstName V1
SYMATTR Value 2.5V
SYMBOL res -176 48 R0
SYMATTR InstName Rupper
SYMATTR Value 10k
SYMBOL res -176 240 R0
SYMATTR InstName Rlower
SYMATTR Value 10k
SYMBOL e -736 -240 R0
SYMATTR InstName Hs2
SYMATTR Value 1
SYMBOL res -384 -400 R90
WINDOW 0 0 56 VBottom 0
WINDOW 3 32 56 VTop 0
SYMATTR InstName RsOL
SYMATTR Value 1
SYMBOL voltage -1200 336 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName Vin
SYMATTR Value 15V
SYMBOL e -1056 -336 R0
SYMATTR InstName X2
SYMATTR Value 0.05
SYMBOL res -608 96 R90
WINDOW 0 0 56 VBottom 0
WINDOW 3 32 56 VTop 0
SYMATTR InstName Rf
SYMATTR Value 100
SYMBOL cap -512 96 R90
WINDOW 0 0 32 VBottom 0
WINDOW 3 32 32 VTop 0
SYMATTR InstName Cf
SYMATTR Value 47nF
SYMBOL e -928 128 M0
SYMATTR InstName E2
SYMATTR Value 10
SYMBOL e -736 -384 R0
SYMATTR InstName Hs1
SYMATTR Value 1
SYMBOL current 64 48 R0
WINDOW 123 24 116 Left 0
WINDOW 39 0 0 Left 0
SYMATTR Value2 AC 1
SYMATTR InstName I1
SYMATTR Value PULSE(0 1 10u 1u 1u 400u 802u)
SYMBOL e2 -736 160 M0
SYMATTR InstName E1
SYMATTR Value 100
TEXT -1360 984 Left 0 !.tran 0 3m 10u
TEXT -776 -416 Left 0 ;SUM2
TEXT -288 224 Left 0 ;Alpha = 0.5
TEXT -808 288 Left 0 ;Beta
TEXT -1136 584 Left 0 ;RsCL = RsOL/(1+aHG) = RsOL/(1+T) = 1/(1+0.5*1*1000) = 1.996m
TEXT -1144 -376 Left 0 ;AsOL = K = 0.05
TEXT -776 -72 Left 0 ;H = 1
TEXT -872 376 Left 0 ;G = E1*E2 = 1000
TEXT -632 -328 Left 0 ;Vth = Vout for no output load
TEXT -1136 616 Left 0 ;Alpha = V(A)/V(out) = V(OUT)*Rlower/(Rlower+Rupper)
TEXT -1136 552 Left 0 ;The closed loop output impedance RsCL is the output impedance as seen from Vth: dV(OUT)/dI(OUT)
TEXT -632 -296 Left 0 ;RsOL is the open loop output impedance
TEXT -1136 648 Left 0 ;AsOL = k = open-loop DC audio susceptibility = input ripple rejection = 50m: dV(OUT)/dV(in)
TEXT -1136 680 Left 0 ;Transfer Function AsCL = AsOL/(1+aHG) = AsOL/(1+T) = 50m/(1+0.5*1*1000) = 99.8u
TEXT -1360 1016 Left 0 !;TF V(OUT) Vin
TEXT -336 888 Left 0 ;--- Transfer Function ---\n \nTransfer_function:                        9.97964e-005    transfer\noutput_impedance_at_V(out):      0.00199593      impedance\nignore the input impedance vin
TEXT -1200 480 Left 0 ;PULSE(15 500 10u 1u)
TEXT -1136 704 Left 0 ;OL stands for open-loop, CL stands for close-loop, T stands for total loop gain
TEXT -1360 952 Left 0 ;.IC V(OUT) = 0V
TEXT -1360 920 Left 0 !;ac oct 100 10m 100k
TEXT -1136 736 Left 0 ;For AC plot, Zout = Vout because Iout AC = 1
TEXT -1136 760 Left 0 ;The equivalent inductance Leq = Zout/(2*pi*f) = 100.6uH at f = 100Hz
TEXT -1136 784 Left 0 ;With an 100uF output capacitor we get an LC resonant filter at f = 1/(2*pi*sqrt(Leq*C))
RECTANGLE Normal 440 1048 -1376 -512
RECTANGLE Normal -656 -48 -848 -432
RECTANGLE Normal -48 400 -320 32
RECTANGLE Normal -416 400 -1024 32
