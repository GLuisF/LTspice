Version 4
SHEET 1 1688 1092
WIRE -432 -576 -464 -576
WIRE 1184 -576 1152 -576
WIRE -464 -544 -464 -576
WIRE 1184 -544 1184 -576
WIRE -1216 -448 -1264 -448
WIRE -1168 -448 -1216 -448
WIRE -1040 -448 -1088 -448
WIRE -800 -448 -1040 -448
WIRE -1216 -416 -1216 -448
WIRE -1216 -320 -1216 -352
WIRE -1040 -320 -1040 -448
WIRE -304 -256 -352 -256
WIRE -208 -256 -304 -256
WIRE -112 -256 -208 -256
WIRE 544 -256 -112 -256
WIRE 624 -256 544 -256
WIRE 656 -256 624 -256
WIRE 768 -256 720 -256
WIRE 848 -256 768 -256
WIRE 880 -256 848 -256
WIRE 992 -256 960 -256
WIRE 1056 -256 992 -256
WIRE 544 -240 544 -256
WIRE 848 -240 848 -256
WIRE 992 -240 992 -256
WIRE -1040 -224 -1040 -256
WIRE -304 -224 -304 -256
WIRE -208 -224 -208 -256
WIRE -112 -176 -112 -256
WIRE -80 -176 -112 -176
WIRE 16 -176 -16 -176
WIRE 624 -176 624 -256
WIRE 656 -176 624 -176
WIRE 768 -176 768 -256
WIRE 768 -176 736 -176
WIRE -1328 -144 -1408 -144
WIRE -1136 -144 -1248 -144
WIRE -1104 -144 -1136 -144
WIRE -976 -144 -1024 -144
WIRE 992 -144 992 -176
WIRE -80 -128 -80 -160
WIRE 16 -128 16 -176
WIRE 544 -128 544 -160
WIRE 544 -128 16 -128
WIRE 624 -128 544 -128
WIRE 672 -128 624 -128
WIRE 768 -128 720 -128
WIRE 848 -128 848 -160
WIRE 848 -128 768 -128
WIRE 880 -128 848 -128
WIRE -1408 -112 -1408 -144
WIRE -304 -112 -304 -144
WIRE -208 -112 -208 -160
WIRE 624 -112 624 -128
WIRE 768 -112 768 -128
WIRE -128 -48 -160 -48
WIRE -16 -48 -64 -48
WIRE 80 -48 -16 -48
WIRE 336 -48 144 -48
WIRE 624 -16 624 -48
WIRE 768 -16 768 -48
WIRE -1408 0 -1408 -32
WIRE -1136 32 -1136 -144
WIRE -976 32 -1136 32
WIRE -224 32 -336 32
WIRE -160 32 -160 -48
WIRE -160 32 -224 32
WIRE -112 32 -160 32
WIRE -16 32 -16 -48
WIRE -16 32 -48 32
WIRE 80 32 -16 32
WIRE 192 32 144 32
WIRE 336 32 336 -48
WIRE 336 32 272 32
WIRE -160 48 -160 32
WIRE -16 48 -16 32
WIRE -224 80 -224 32
WIRE -112 96 -112 48
WIRE 80 144 80 48
WIRE -1184 160 -1248 160
WIRE -736 160 -816 160
WIRE -160 160 -160 112
WIRE -16 160 -16 128
WIRE -224 176 -224 144
WIRE -224 288 -224 256
WIRE -1248 304 -1248 160
WIRE 16 304 -352 304
WIRE -1456 352 -1536 352
WIRE -1312 352 -1376 352
WIRE -304 384 -352 384
WIRE -256 384 -304 384
WIRE -112 384 -176 384
WIRE -80 384 -112 384
WIRE 16 384 16 304
WIRE 16 384 -16 384
WIRE -304 416 -304 384
WIRE -112 432 -112 384
WIRE -80 432 -112 432
WIRE 992 432 896 432
WIRE 1040 432 992 432
WIRE -80 448 -128 448
WIRE 16 448 16 384
WIRE 16 448 -16 448
WIRE -1248 464 -1248 400
WIRE -816 464 -816 160
WIRE 896 464 896 432
WIRE 992 464 992 432
WIRE 848 480 800 480
WIRE -304 512 -304 480
WIRE -64 528 -64 496
WIRE 624 528 592 528
WIRE 832 528 688 528
WIRE 848 528 832 528
WIRE 992 560 992 528
WIRE -1248 576 -1248 544
WIRE -1008 576 -1248 576
WIRE 624 576 624 544
WIRE 896 576 896 544
WIRE 992 576 896 576
WIRE 1056 576 992 576
WIRE -816 592 -816 544
WIRE -1248 608 -1248 576
WIRE 16 608 16 448
WIRE 896 608 896 576
WIRE 992 608 992 576
WIRE -816 624 -816 592
WIRE 832 624 832 528
WIRE 832 624 768 624
WIRE 848 624 832 624
WIRE 704 672 608 672
WIRE 800 672 800 480
WIRE 800 672 704 672
WIRE 848 672 800 672
WIRE 16 688 16 672
WIRE 80 688 16 688
WIRE 192 688 80 688
WIRE 288 704 256 704
WIRE 384 704 288 704
WIRE 608 704 608 672
WIRE 608 704 544 704
WIRE -1248 720 -1248 688
WIRE -304 720 -368 720
WIRE -256 720 -304 720
WIRE -128 720 -176 720
WIRE 192 720 -128 720
WIRE 896 720 896 688
WIRE 992 720 992 672
WIRE 992 720 896 720
WIRE 1040 720 992 720
WIRE 16 736 16 688
WIRE 80 736 80 688
WIRE 336 752 336 32
WIRE 384 752 336 752
WIRE 896 752 896 720
WIRE -304 768 -304 720
WIRE -128 768 -128 720
WIRE 192 768 192 736
WIRE 16 832 16 800
WIRE 80 832 80 800
WIRE 384 832 384 800
WIRE -304 864 -304 832
WIRE -128 864 -128 832
WIRE 336 864 336 752
WIRE 352 864 336 864
WIRE 464 912 464 800
WIRE 464 912 416 912
WIRE 288 928 288 704
WIRE 352 928 288 928
WIRE 368 960 368 928
WIRE -464 1088 -464 1056
WIRE -432 1088 -464 1088
WIRE 1184 1088 1184 1056
WIRE 1184 1088 1152 1088
FLAG 1056 576 Out
IOPIN 1056 576 In
FLAG 992 -144 COM
FLAG 1056 -256 Ref
IOPIN 1056 -256 In
FLAG -336 32 Osc
IOPIN -336 32 In
FLAG -128 864 COM
FLAG -352 384 Vfb
IOPIN -352 384 In
FLAG -352 304 Err
IOPIN -352 304 In
FLAG 16 832 COM
FLAG -368 720 Ifb
IOPIN -368 720 In
FLAG -304 864 COM
FLAG -304 512 COM
FLAG -160 160 COM
FLAG -128 448 2v5
FLAG -352 -256 Vcc
IOPIN -352 -256 In
FLAG 768 -16 COM
FLAG 1040 432 Vcc
IOPIN 1040 432 In
FLAG 1040 720 Com
IOPIN 1040 720 In
FLAG 992 560 COM
FLAG 880 -128 2v5
FLAG 592 528 Ref
FLAG 80 832 COM
FLAG -208 -112 COM
FLAG 624 -16 COM
FLAG 768 624 fault
FLAG -304 -112 COM
FLAG 624 576 COM
FLAG -64 528 COM
FLAG 368 960 COM
FLAG -80 -128 COM
FLAG 896 752 COM
FLAG 192 768 COM
FLAG 384 832 COM
FLAG 704 672 T1
IOPIN 704 672 Out
FLAG 80 144 COM
FLAG -1040 -224 0
FLAG -800 -448 Osc
IOPIN -800 -448 BiDir
FLAG -1264 -448 Ref
IOPIN -1264 -448 BiDir
FLAG -1216 -320 0
FLAG -976 -144 Err
IOPIN -976 -144 BiDir
FLAG -736 160 Vcc
IOPIN -736 160 Out
FLAG -816 624 0
FLAG -1248 720 0
FLAG -1008 576 Ifb
IOPIN -1008 576 Out
FLAG -1536 352 Osc
IOPIN -1536 352 In
FLAG -816 592 Com
FLAG -112 96 COM
FLAG -16 160 COM
FLAG -224 288 COM
FLAG -1408 0 0
FLAG -976 32 Vfb
IOPIN -976 32 Out
FLAG -1184 160 Vref
IOPIN -1184 160 In
SYMBOL current -304 -224 R0
WINDOW 3 -40 -56 Left 0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
WINDOW 0 -40 0 Left 0
SYMATTR Value TBL(0 0 1 .2m)
SYMATTR InstName I1
SYMBOL zener -224 -160 M180
WINDOW 0 32 64 Left 0
WINDOW 3 32 0 Left 0
SYMATTR InstName D1
SYMATTR Value 34V
SYMBOL Digital\\schmtbuf -80 -240 R0
WINDOW 0 0 32 Left 0
WINDOW 3 0 -40 Left 0
WINDOW 38 48 32 Left 0
WINDOW 123 0 0 Left 0
SYMATTR InstName A1
SYMATTR Value Vt=8.2 Vh=0.3
SYMATTR Value2 Vhigh=2.5 Rout=1k
SYMBOL res 528 -256 R0
SYMATTR InstName R1
SYMATTR Value 8e6
SYMBOL cap 608 -112 R0
WINDOW 0 32 8 Left 0
WINDOW 3 32 56 Left 0
SYMATTR InstName C1
SYMATTR Value 1p
SYMBOL sw 752 -176 M270
WINDOW 0 40 88 VRight 0
WINDOW 3 40 32 VLeft 0
SYMATTR InstName S1
SYMATTR Value ref
SYMBOL diode 720 -272 R90
WINDOW 0 -8 56 VRight 0
WINDOW 3 -8 0 VLeft 0
SYMATTR InstName D2
SYMATTR Value V65
SYMBOL cap 784 -112 M0
WINDOW 3 32 56 Left 0
WINDOW 39 -16 32 Right 0
WINDOW 0 32 8 Left 0
SYMATTR Value 1p
SYMATTR SpiceLine Rpar=240
SYMATTR InstName C2
SYMBOL res 864 -144 R180
WINDOW 0 36 76 Left 0
WINDOW 3 36 40 Left 0
SYMATTR InstName R2
SYMATTR Value 240
SYMBOL res 976 -272 R90
WINDOW 0 0 56 VBottom 0
WINDOW 3 32 56 VTop 0
SYMATTR InstName R3
SYMATTR Value 280m
SYMBOL cap 976 -176 M180
WINDOW 0 32 56 Left 0
WINDOW 3 32 8 Left 0
SYMATTR InstName C3
SYMATTR Value 10p
SYMBOL cap -144 48 M0
WINDOW 3 32 56 Left 0
WINDOW 0 32 8 Left 0
SYMATTR Value 5p
SYMATTR InstName C4
SYMBOL cap -288 416 M0
WINDOW 0 32 8 Left 0
WINDOW 3 32 56 Left 0
SYMATTR InstName C5
SYMATTR Value 1p
SYMBOL res -160 368 R90
WINDOW 0 0 56 VBottom 0
WINDOW 3 32 56 VTop 0
SYMATTR InstName R4
SYMATTR Value 165k
SYMBOL cap -16 368 R90
WINDOW 0 0 32 VBottom 0
WINDOW 3 32 32 VTop 0
WINDOW 39 -40 32 VCenter 0
SYMATTR InstName C6
SYMATTR Value 1p
SYMATTR SpiceLine Rpar=10G
SYMBOL Digital\\or -48 400 R0
WINDOW 0 -160 96 Left 0
WINDOW 38 -112 96 Left 0
WINDOW 3 48 144 Right 0
WINDOW 123 48 176 Right 0
WINDOW 39 48 208 Right 0
SYMATTR InstName A4
SYMATTR SpiceModel OTA
SYMATTR Value Vhigh=6 Vlow=0.7 Isrc=1m Isink=-6m
SYMATTR Value2 Rclamp=1 g=5 Rout=25k Cout=5p
SYMATTR SpiceLine eaclk=A2 powerup=!V(fault,Com)
SYMBOL cap -288 768 M0
WINDOW 0 32 8 Left 0
WINDOW 3 32 56 Left 0
SYMATTR InstName C7
SYMATTR Value 5p
SYMBOL res -160 704 R90
WINDOW 0 0 56 VBottom 0
WINDOW 3 32 56 VTop 0
SYMATTR InstName R5
SYMATTR Value 75k
SYMBOL cap -144 768 R0
WINDOW 0 32 8 Left 0
WINDOW 3 32 56 Left 0
SYMATTR InstName C8
SYMATTR Value 1p
SYMBOL diode 32 608 M0
WINDOW 3 40 56 Left 0
WINDOW 0 40 24 Left 0
SYMATTR Value 2R
SYMATTR InstName D3
SYMBOL diode 32 736 M0
WINDOW 3 41 40 Left 0
WINDOW 0 41 8 Left 0
SYMATTR Value 1R
SYMATTR InstName D4
SYMBOL cap 64 736 R0
WINDOW 0 32 8 Left 0
WINDOW 3 40 32 Left 0
WINDOW 39 32 56 Left 0
SYMATTR InstName C9
SYMATTR Value 1p
SYMATTR SpiceLine Rpar=1e6
SYMBOL Digital\\schmtinv 624 464 R0
WINDOW 0 0 32 Left 0
WINDOW 3 32 88 Left 0
WINDOW 38 48 32 Left 0
WINDOW 123 32 120 Left 0
SYMATTR InstName A6
SYMATTR Value Vt=4.8 Vh=.1
SYMATTR Value2 trise=200n
SYMBOL sw 896 560 M180
WINDOW 0 32 88 Left 0
WINDOW 3 32 32 Left 0
SYMATTR InstName S2
SYMATTR Value Ho
SYMBOL sw 896 704 M180
WINDOW 0 32 88 Left 0
WINDOW 3 32 32 Left 0
SYMATTR InstName S3
SYMATTR Value Lo
SYMBOL cap 976 464 R0
WINDOW 3 32 56 Left 0
WINDOW 0 32 8 Left 0
SYMATTR Value 20p
SYMATTR InstName C10
SYMBOL cap 976 608 R0
WINDOW 0 32 8 Left 0
WINDOW 3 32 64 Left 0
SYMATTR InstName C11
SYMATTR Value 20p
SYMBOL Digital\\diffschmtbuf 192 640 R0
WINDOW 3 -36 -13 Left 0
SYMATTR Value Vt=0.1 Vh=0.1 Trise=10n Tfall=10n tripdt=5n
SYMATTR InstName A5
SYMBOL Digital\\dflop 464 656 R0
WINDOW 3 -82 -46 Left 0
SYMATTR Value Trise=50n Tfall=50n tripdt=5n
SYMATTR InstName A7
SYMBOL Digital\\and 384 832 R0
SYMATTR InstName A8
SYMBOL Digital\\buf1 80 -32 R0
WINDOW 38 48 32 Left 0
WINDOW 0 0 32 Left 0
WINDOW 3 0 0 Invisible 0
SYMATTR SpiceModel Counter
SYMATTR InstName A3
SYMATTR Value cycles=2 Trise=10n Tfall=10n tripdt=5n
SYMBOL cap -1056 -320 R0
SYMATTR InstName C12
SYMATTR Value 22.44n
SYMBOL res -1072 -464 R90
WINDOW 0 0 56 VBottom 0
WINDOW 3 32 56 VTop 0
SYMATTR InstName R6
SYMATTR Value 9.77k
SYMBOL cap -1232 -416 R0
SYMATTR InstName C13
SYMATTR Value 0.33u
SYMBOL res -1008 -160 R90
WINDOW 0 0 56 VBottom 0
WINDOW 3 32 56 VTop 0
SYMATTR InstName R7
SYMATTR Value 10k
SYMBOL voltage -816 448 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V1
SYMATTR Value 11.9
SYMBOL npn -1312 304 R0
SYMATTR InstName Q1
SYMATTR Value 2N2222
SYMBOL Digital\\schmtinv -112 -32 R0
WINDOW 3 -587 296 Invisible 0
SYMATTR Value Vhigh=5V Vt={(LT3845A_osc_high+LT3845A_osc_low)*0.5} Vh={(LT3845A_osc_high-LT3845A_osc_low)*0.5} Trise=10n Tfall=10n Rout=100m
SYMATTR InstName A2
SYMBOL diode -128 -32 R270
WINDOW 0 32 32 VTop 0
WINDOW 3 0 32 VBottom 0
SYMATTR InstName D6
SYMATTR Value OscILim
SYMBOL current -16 48 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName I2
SYMATTR Value 10m
SYMBOL diode 144 -64 R90
WINDOW 0 0 32 VBottom 0
WINDOW 3 32 32 VTop 0
SYMATTR InstName D7
SYMATTR Value DIdeal
SYMBOL diode -208 144 R180
WINDOW 0 24 72 Left 0
WINDOW 3 24 0 Left 0
SYMATTR InstName D8
SYMATTR Value DIdeal
SYMBOL voltage -224 160 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
WINDOW 3 24 44 Left 0
SYMATTR InstName V2
SYMATTR Value {LT3845A_osc_low-1m}
SYMBOL voltage -1408 -128 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V3
SYMATTR Value 2
SYMBOL res -1232 -160 R90
WINDOW 0 0 56 VBottom 0
WINDOW 3 32 56 VTop 0
SYMATTR InstName R8
SYMATTR Value 10k
SYMBOL res -1264 448 R0
SYMATTR InstName R9
SYMATTR Value 0.75MEG
SYMBOL res -1264 592 R0
SYMATTR InstName R10
SYMATTR Value 4.25k
SYMBOL res -1360 336 R90
WINDOW 0 0 56 VBottom 0
WINDOW 3 32 56 VTop 0
SYMATTR InstName R11
SYMATTR Value 10k
SYMBOL res 288 16 R90
WINDOW 0 0 56 VBottom 0
WINDOW 3 32 56 VTop 0
SYMATTR InstName R12
SYMATTR Value 1k
TEXT 624 816 Left 0 !.model 1R d(Vfwd=1 Ron=1)
TEXT 624 784 Left 0 !.model 2R d(Vfwd=1.3 Ron=2e6)
TEXT 504 200 Left 0 !.model 34V d(Ron=.5 Vfwd=.5 Vrev=34 Rrev=22 Roff=1MEG)
TEXT 504 232 Left 0 !.model ref sw(Vh=-11m Ilimit=100m)
TEXT 504 328 Left 0 !.model Ho sw(Vt= .48 Vh=-.25 Ron=2 Roff=100k Vser=0.1)
TEXT 504 360 Left 0 !.model Lo sw(Vt=-.52 Vh=-.25 Ron=6 Roff=300k)
TEXT 504 168 Left 0 !.model V65 d(Vfwd=0.65 Ron=1 Roff=1MEG)
TEXT 144 -528 Center 0 ;>> UC3845A <<\nLTspice A-Device Behavioral Model\nCopyright 2004 by analog@ieee.org
TEXT -424 -448 Left 0 ;NOTES:\nUC3842A: for A1 Vt=13  Vh=3.0 and bypass A3 (delete)\nUC3843A: for A1 Vt=8.2 Vh=0.3 and bypass A3 (delete)\nUC3844A: for A1 Vt=13  Vh=3.0; for A3 cycles=2\nUC3845A: for A1 Vt=8.2 Vh=0.3; for A3 cycles=2
TEXT -1120 816 Left 0 !.tran 0 10m 0 100n
TEXT 504 136 Left 0 !.model OscILim D(Vfwd=0.1 ilimit={LT3845A_osc_discharge} Ron=10 Roff=1MEG)
TEXT 504 104 Left 0 !.model DIdeal D(Vfwd=1m Ron=100 Roff=1MEG)
TEXT 416 -512 Left 0 !.PARAM LT3845A_osc_low=1.625 LT3845A_osc_high=3.0
TEXT 416 -480 Left 0 !.PARAM LT3845A_osc_discharge=8.2m
RECTANGLE Normal 1168 1072 -448 -560
