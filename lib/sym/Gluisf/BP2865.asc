Version 4
SHEET 1 1436 1220
WIRE -576 -128 -656 -128
WIRE -368 -112 -512 -112
WIRE -64 -112 -336 -112
WIRE 208 -112 48 -112
WIRE -576 -96 -656 -96
WIRE -368 -80 -368 -112
WIRE -336 -80 -336 -112
WIRE -64 0 -304 0
WIRE 208 0 208 -112
WIRE 208 0 48 0
WIRE -928 48 -928 -16
WIRE -336 48 -336 -16
WIRE -304 48 -304 0
WIRE 672 64 672 32
WIRE -928 144 -928 128
WIRE -304 144 -304 112
WIRE 64 144 -304 144
WIRE 208 144 208 0
WIRE 208 144 160 144
WIRE 320 144 208 144
WIRE 416 144 384 144
WIRE 496 144 480 144
WIRE 512 144 496 144
WIRE 624 144 592 144
WIRE -448 160 -544 160
WIRE -256 176 -384 176
WIRE 320 176 288 176
WIRE -448 192 -512 192
WIRE -48 192 -128 192
WIRE 64 192 16 192
WIRE 208 192 176 192
WIRE 672 192 672 160
WIRE -512 208 -512 192
WIRE -48 208 -80 208
WIRE 288 208 288 176
WIRE -304 224 -304 144
WIRE -256 224 -304 224
WIRE -192 272 -192 240
WIRE -512 304 -512 288
WIRE -80 304 -80 208
WIRE -16 304 -80 304
WIRE 208 304 208 192
WIRE 208 304 96 304
WIRE 288 304 288 272
WIRE 320 304 288 304
WIRE -48 560 -96 560
WIRE 160 560 128 560
WIRE -48 592 -48 560
WIRE 160 592 160 560
WIRE 160 704 160 672
WIRE 160 704 128 704
WIRE 160 752 160 704
WIRE 160 848 160 832
FLAG 128 704 VDD
FLAG 672 192 CS
IOPIN 672 192 In
FLAG -928 -16 ROVP
IOPIN -928 -16 BiDir
FLAG 160 848 0
FLAG 128 560 VCC
IOPIN 128 560 In
FLAG -96 560 GND
IOPIN -96 560 In
FLAG -48 592 0
FLAG -512 304 0
FLAG 672 32 DRA
IOPIN 672 32 In
FLAG -192 272 0
FLAG -656 -128 DRA
FLAG -656 -96 VCC
FLAG -544 160 CS
FLAG 496 144 G
FLAG -928 144 0
FLAG 320 304 VCC
IOPIN 320 304 In
SYMBOL Digital\\srflop 112 96 R0
WINDOW 3 -40 28 Invisible 2
SYMATTR Value Td=200n
SYMATTR InstName A1
SYMBOL voltage 160 736 R0
WINDOW 123 0 0 Left 2
WINDOW 39 0 0 Left 2
SYMATTR InstName V1
SYMATTR Value {VDD}
SYMBOL res 176 576 M0
SYMATTR InstName R1
SYMATTR Value 100k
SYMBOL Digital\\diffschmtbuf -448 112 R0
WINDOW 3 0 0 Invisible 0
SYMATTR Value VT=0
SYMATTR InstName A6
SYMBOL voltage -512 192 R0
WINDOW 123 0 0 Left 2
WINDOW 39 0 0 Left 2
WINDOW 0 -95 35 Left 2
WINDOW 3 -96 84 Left 2
SYMATTR InstName VREF
SYMATTR Value 373m
SYMBOL Digital\\schmtbuf 416 80 R0
WINDOW 3 8 60 Invisible 2
SYMATTR Value VT=.5 VHIGH={VDD} TRISE=30n TFALL=30n
SYMATTR InstName A7
SYMBOL nmos 624 64 R0
SYMATTR InstName M1
SYMATTR Value STN3N45K3
SYMBOL res 496 160 R270
WINDOW 0 32 56 VTop 2
WINDOW 3 0 56 VBottom 2
SYMATTR InstName R4
SYMATTR Value 10
SYMBOL Gluisf\\LEB -192 192 R0
WINDOW 39 -162 66 Left 2
SYMATTR SpiceLine Tdelay=500n
SYMATTR InstName X1
SYMBOL Digital\\diffschmtbuf -576 -48 M180
WINDOW 3 0 0 Invisible 0
SYMATTR Value VT=1
SYMATTR InstName A2
SYMBOL Gluisf\\DelayOff 0 0 M0
WINDOW 39 8 55 Bottom 2
SYMATTR SpiceLine Td=Toff_max
SYMATTR InstName X2
SYMBOL Gluisf\\DelayOff 0 -112 M0
WINDOW 39 8 55 Bottom 2
SYMATTR SpiceLine Td=Toff_min
SYMATTR InstName X3
SYMBOL Digital\\or -16 144 R0
SYMATTR InstName A3
SYMBOL Gluisf\\DelayOff 48 304 M0
WINDOW 39 8 55 Bottom 2
SYMATTR SpiceLine Td=Ton_max
SYMATTR InstName X5
SYMBOL Digital\\or -256 80 R90
SYMATTR InstName A4
SYMBOL Digital\\and -288 -48 R90
SYMATTR InstName A5
SYMBOL current -928 128 M180
WINDOW 0 24 80 Left 2
WINDOW 3 24 0 Left 2
SYMATTR InstName I1
SYMATTR Value 35µ
SYMBOL Digital\\and 352 96 R0
SYMATTR InstName A8
SYMBOL Digital\\schmtbuf 224 272 R270
WINDOW 3 8 60 Invisible 2
SYMATTR Value VT={Uvlo} VH=1
SYMATTR InstName A9
TEXT -272 -368 Left 2 !.param VDD=16
TEXT -272 -328 Left 2 !.model SW SW(Ron=1 Roff=100Meg Vt=.5)
TEXT -336 416 Left 2 !.param Toff_min=2.5u Toff_max=250u Ton_max=40u
TEXT -624 -488 Left 5 ;Critical Conduction Mode Buck Converter
TEXT -336 440 Left 2 !.param Uvlo=10
TEXT 312 256 Left 2 ;UVLO
