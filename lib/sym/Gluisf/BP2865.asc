Version 4
SHEET 1 1436 1220
WIRE -576 -128 -656 -128
WIRE -368 -112 -512 -112
WIRE -64 -112 -336 -112
WIRE 208 -112 48 -112
WIRE -576 -96 -656 -96
WIRE -368 -80 -368 -112
WIRE -336 -80 -336 -112
WIRE -64 0 -304 0
WIRE 208 0 208 -112
WIRE 208 0 48 0
WIRE -336 48 -336 -16
WIRE -304 48 -304 0
WIRE 512 64 512 32
WIRE -304 144 -304 112
WIRE 64 144 -304 144
WIRE 208 144 208 0
WIRE 208 144 160 144
WIRE 256 144 208 144
WIRE 352 144 320 144
WIRE 464 144 432 144
WIRE -448 160 -544 160
WIRE -256 176 -384 176
WIRE -448 192 -512 192
WIRE -48 192 -128 192
WIRE 64 192 16 192
WIRE 208 192 176 192
WIRE 512 192 512 160
WIRE -512 208 -512 192
WIRE -48 208 -80 208
WIRE -304 224 -304 144
WIRE -256 224 -304 224
WIRE -192 272 -192 240
WIRE -512 304 -512 288
WIRE -80 304 -80 208
WIRE -16 304 -80 304
WIRE 208 304 208 192
WIRE 208 304 96 304
WIRE -208 912 -256 912
WIRE 32 912 -16 912
WIRE 240 912 208 912
WIRE 32 944 32 912
WIRE 240 944 240 912
WIRE -256 1008 -256 992
WIRE 240 1056 240 1024
WIRE 240 1056 208 1056
WIRE 240 1104 240 1056
WIRE 240 1200 240 1184
FLAG 208 1056 VDD
FLAG 512 192 CS
IOPIN 512 192 In
FLAG -208 912 ROVP
IOPIN -208 912 BiDir
FLAG 240 1200 0
FLAG 208 912 VCC
IOPIN 208 912 In
FLAG -16 912 GND
IOPIN -16 912 In
FLAG 32 944 0
FLAG -512 304 0
FLAG 512 32 DRA
IOPIN 512 32 In
FLAG -256 1008 0
FLAG -192 272 0
FLAG -656 -128 DRA
FLAG -656 -96 VCC
FLAG -544 160 CS
SYMBOL Digital\\srflop 112 96 R0
WINDOW 3 -40 28 Invisible 2
SYMATTR InstName A1
SYMATTR Value Td=200n
SYMBOL voltage 240 1088 R0
WINDOW 123 0 0 Left 2
WINDOW 39 0 0 Left 2
SYMATTR InstName V1
SYMATTR Value {VDD}
SYMBOL res 256 928 M0
SYMATTR InstName R1
SYMATTR Value 100k
SYMBOL Digital\\diffschmtbuf -448 112 R0
WINDOW 3 0 0 Invisible 0
SYMATTR Value VT=0
SYMATTR InstName A6
SYMBOL voltage -512 192 R0
WINDOW 123 0 0 Left 2
WINDOW 39 0 0 Left 2
WINDOW 0 -95 35 Left 2
WINDOW 3 -96 84 Left 2
SYMATTR InstName VREF
SYMATTR Value 373m
SYMBOL Digital\\schmtbuf 256 80 R0
WINDOW 3 8 60 Invisible 2
SYMATTR Value VT=.5 VHIGH={VDD} TRISE=30n TFALL=30n
SYMATTR InstName A7
SYMBOL nmos 464 64 R0
SYMATTR InstName M1
SYMATTR Value STN3N45K3
SYMBOL res 336 160 R270
WINDOW 0 32 56 VTop 2
WINDOW 3 0 56 VBottom 2
SYMATTR InstName R4
SYMATTR Value 10
SYMBOL res -272 896 R0
SYMATTR InstName R2
SYMATTR Value 1Meg
SYMBOL Gluisf\\LEB -192 192 R0
WINDOW 39 -162 66 Left 2
SYMATTR SpiceLine Tdelay=500n
SYMATTR InstName X1
SYMBOL Digital\\diffschmtbuf -576 -48 M180
WINDOW 3 0 0 Invisible 0
SYMATTR Value VT=0
SYMATTR InstName A2
SYMBOL Gluisf\\DelayOff 0 0 M0
WINDOW 39 8 55 Bottom 2
SYMATTR InstName X2
SYMATTR SpiceLine Td=Toff_max
SYMBOL Gluisf\\DelayOff 0 -112 M0
WINDOW 39 8 55 Bottom 2
SYMATTR InstName X3
SYMATTR SpiceLine Td=Toff_min
SYMBOL Digital\\or -16 144 R0
SYMATTR InstName A3
SYMBOL Gluisf\\DelayOff 48 304 M0
WINDOW 39 8 55 Bottom 2
SYMATTR InstName X5
SYMATTR SpiceLine Td=Ton_max
SYMBOL Digital\\or -256 80 R90
SYMATTR InstName A4
SYMBOL Digital\\and -288 -48 R90
SYMATTR InstName A5
TEXT -272 -368 Left 2 !.param VDD=16
TEXT -272 -328 Left 2 !.model SW SW(Ron=1 Roff=100Meg Vt=.5)
TEXT -304 632 Left 2 !.param Toff_min=2.5u Toff_max=250u Ton_max=40u
TEXT -624 -488 Left 5 ;Critical Conduction Mode Buck Converter
