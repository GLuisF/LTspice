Version 4
SHEET 1 1752 760
WIRE 848 -352 816 -352
WIRE 816 -320 816 -352
WIRE 816 -208 816 -240
WIRE 256 -112 256 -128
WIRE 256 -112 208 -112
WIRE 304 -112 256 -112
WIRE 848 -112 816 -112
WIRE 208 -96 208 -112
WIRE 304 -96 304 -112
WIRE 816 -80 816 -112
WIRE 208 16 208 -16
WIRE 208 16 160 16
WIRE 816 32 816 0
WIRE 304 80 304 -16
WIRE 304 80 160 80
WIRE 896 96 816 96
WIRE 816 128 816 96
WIRE 240 176 160 176
WIRE 368 176 320 176
WIRE 240 240 160 240
WIRE 368 240 320 240
WIRE 816 240 816 208
WIRE 896 288 816 288
WIRE 816 304 816 288
WIRE 240 320 160 320
WIRE 368 320 320 320
WIRE 816 416 816 384
FLAG 160 176 TR
FLAG 160 240 TP
FLAG 816 240 COM
FLAG 848 -112 VTP
FLAG 816 32 0
FLAG 896 288 TRO
IOPIN 896 288 Out
FLAG 368 176 COM
FLAG 368 240 COM
FLAG 816 416 COM
FLAG 896 96 TPO
IOPIN 896 96 Out
FLAG 160 16 GAIN1
IOPIN 160 16 In
FLAG 160 80 GAIN2
IOPIN 160 80 In
FLAG 256 -128 VDD
IOPIN 256 -128 BiDir
FLAG 816 -208 0
FLAG 848 -352 GAIN
FLAG 160 320 ND
IOPIN 160 320 BiDir
FLAG 368 320 COM
SYMBOL bv 816 112 R0
WINDOW 0 41 40 Left 2
WINDOW 3 44 69 Left 2
SYMATTR InstName B2
SYMATTR Value V=limit(0,V(VDD,COM),V(VTP)*V(GAIN)+1.35)
SYMBOL bv 816 -96 R0
WINDOW 0 46 45 Left 2
WINDOW 3 47 73 Left 2
SYMATTR InstName B1
SYMATTR Value V=(a1*V(TR)+b1)*V(TP,TR)**2+(a2*V(TR)+b2)*V(TP,TR)+(a3*V(TR)+b3)
SYMBOL res 224 256 R270
WINDOW 0 32 56 Invisible 2
WINDOW 3 -2 56 Invisible 2
SYMATTR InstName R1
SYMATTR Value 1G
SYMBOL res 224 192 R270
WINDOW 0 32 56 Invisible 2
WINDOW 3 -2 56 Invisible 2
SYMATTR InstName R2
SYMATTR Value 1G
SYMBOL bv 816 288 R0
WINDOW 0 40 41 Left 2
WINDOW 3 43 67 Left 2
SYMATTR InstName B3
SYMATTR Value V=limit(0,V(VDD,COM),atro*V(TR)+btro)
SYMBOL res 192 -112 R0
WINDOW 0 36 40 Invisible 2
SYMATTR InstName R3
SYMATTR Value 10k
SYMBOL res 288 -112 R0
WINDOW 0 36 40 Invisible 2
SYMATTR InstName R4
SYMATTR Value 10k
SYMBOL bv 816 -336 R0
WINDOW 0 41 40 Left 2
WINDOW 3 44 69 Left 2
SYMATTR InstName B4
SYMATTR Value V=IF(V(GAIN1,COM)<2,500,1700)*IF(V(GAIN2,COM)<2,1,2)
SYMBOL res 224 336 R270
WINDOW 0 32 56 Invisible 2
WINDOW 3 -2 56 Invisible 2
SYMATTR InstName R5
SYMATTR Value 1G
TEXT 880 392 Left 2 !.param atro 16.41m\n.param btro 1.341
TEXT 800 -576 Left 2 !.param a1 920.2p\n.param b1 293.3n\n.param a2 668.6n\n.param b2 31.64u\n.param a3 -14.78u\n.param b3 232.4u
