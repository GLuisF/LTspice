Version 4
SHEET 1 880 736
WIRE -512 -304 -512 -320
WIRE -512 -208 -512 -224
WIRE -80 -208 -160 -208
WIRE 80 -208 0 -208
WIRE -64 -128 -64 -160
WIRE -512 -112 -512 -128
WIRE -512 -112 -624 -112
WIRE -512 -96 -512 -112
WIRE -16 -80 -16 -160
WIRE -64 -64 -64 -128
WIRE -512 0 -512 -16
WIRE -16 64 -16 32
WIRE -224 144 -240 144
WIRE -112 144 -144 144
WIRE -64 144 -64 32
WIRE -64 144 -112 144
WIRE 0 144 0 128
WIRE 144 144 0 144
WIRE 240 144 224 144
WIRE -128 288 -128 272
WIRE -16 320 -16 128
WIRE -128 384 -128 368
WIRE 480 400 288 400
WIRE 528 400 480 400
WIRE 0 416 0 384
WIRE 112 416 0 416
WIRE 208 416 112 416
WIRE 112 432 112 416
WIRE 368 432 288 432
WIRE 384 432 368 432
WIRE 480 432 480 400
WIRE -32 448 -32 384
WIRE 384 464 384 432
WIRE -32 544 -32 528
WIRE 112 544 112 512
WIRE 384 560 384 544
WIRE 480 560 480 496
WIRE 480 560 384 560
WIRE 384 576 384 560
WIRE 112 624 112 608
FLAG -160 -208 DRAIN
IOPIN -160 -208 BiDir
FLAG -64 -128 G
FLAG 384 576 GND
IOPIN 384 576 BiDir
FLAG -112 144 CLK
FLAG 368 432 REF
FLAG -128 272 SLP
FLAG 80 -208 GND
IOPIN 80 -208 BiDir
FLAG 528 400 FB
IOPIN 528 400 In
FLAG -624 -112 VDD
IOPIN -624 -112 BiDir
FLAG -512 -320 HVIN
IOPIN -512 -320 BiDir
FLAG -512 0 GND
IOPIN -512 0 BiDir
FLAG 240 144 0
FLAG -240 144 0
FLAG -128 384 0
FLAG -32 544 0
FLAG 112 624 0
SYMBOL voltage -128 144 M270
WINDOW 0 24 16 Invisible 2
WINDOW 3 -54 439 VLeft 2
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V2
SYMATTR Value PULSE(0 1 0 1n 10n 200n {1/fsw})
SYMBOL sw 16 -208 M270
WINDOW 0 32 19 VLeft 2
WINDOW 3 36 123 VLeft 2
SYMATTR InstName S1
SYMBOL voltage 384 448 M0
WINDOW 0 24 16 Invisible 2
WINDOW 3 -45 10 Left 2
SYMATTR InstName V3
SYMATTR Value 1
SYMBOL Digital\\srflop -112 -16 R270
WINDOW 3 -40 -28 Left 2
SYMATTR Value Td=10n
SYMATTR InstName A1
SYMBOL Digital\\diffschmtbuf -80 384 R270
WINDOW 3 8 -12 Invisible 2
SYMATTR Value VT=0
SYMATTR InstName A2
SYMBOL bv -32 432 M0
WINDOW 3 43 64 Left 2
SYMATTR Value V=I(S1)*8*(1-V(CLK))+0.5*V(SLP)**2
SYMATTR InstName B1
SYMBOL voltage -128 272 M0
WINDOW 3 41 51 Left 2
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR Value PULSE(0 1 0 {999m/fsw} {1m/fsw} 0 {1/fsw})
SYMATTR InstName V4
SYMBOL SpecialFunctions\\ota 256 352 M0
WINDOW 3 -39 110 Left 2
SYMATTR Value g=500u
SYMATTR InstName A3
SYMATTR Value2 Vhigh=6 Iout=100u
SYMBOL voltage 128 144 R270
WINDOW 0 24 16 Invisible 2
WINDOW 3 -54 439 VLeft 2
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V5
SYMATTR Value PULSE(0 1 {.9/fsw} 1n 10n 200n {1/fsw})
SYMBOL Digital\\or -64 96 R270
SYMATTR InstName A4
SYMBOL res 96 416 R0
SYMATTR InstName R3
SYMATTR Value 100k
SYMBOL cap 96 544 R0
SYMATTR InstName C1
SYMATTR Value 100n
SYMBOL res -528 -320 R0
SYMATTR InstName R2
SYMATTR Value 10k
SYMBOL voltage -512 -112 R0
SYMATTR InstName V1
SYMATTR Value 5
SYMBOL current -512 -208 R0
SYMATTR InstName I1
SYMATTR Value 100µ
SYMBOL cap 464 432 R0
SYMATTR InstName C2
SYMATTR Value 1n
TEXT -312 -320 Left 2 !.model SW SW(Vt=0 Vh=0.1 RON=14)
TEXT -304 352 Left 2 ;Slop Control
TEXT -336 672 Left 2 !.param fsw=62k
