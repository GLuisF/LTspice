Version 4
SHEET 1 984 680
WIRE 464 48 416 48
WIRE 464 80 464 48
WIRE 720 144 560 144
WIRE 864 144 816 144
WIRE 912 160 912 112
WIRE 560 176 560 144
WIRE 864 176 864 144
WIRE 464 192 464 160
WIRE 464 192 416 192
WIRE 720 192 656 192
WIRE 656 240 656 192
WIRE 864 240 864 224
WIRE 560 272 560 256
WIRE 912 272 912 240
WIRE 656 336 656 320
FLAG 416 48 A1
IOPIN 416 48 BiDir
FLAG 416 192 A2
IOPIN 416 192 BiDir
FLAG 560 272 0
FLAG 864 240 0
FLAG 912 112 NA1
IOPIN 912 112 BiDir
FLAG 912 272 NA2
IOPIN 912 272 BiDir
FLAG 656 336 0
SYMBOL ind 480 64 M0
WINDOW 39 31 94 Left 2
WINDOW 3 38 67 Left 2
SYMATTR SpiceLine Rser={RS}
SYMATTR Value {L}
SYMATTR InstName L1
SYMBOL bv 560 160 M0
SYMATTR InstName B1
SYMATTR Value V=DELAY(ABS(I(L1))>0.75*VDC/RS,1m)
SYMBOL sw 912 256 M180
SYMATTR InstName S1
SYMBOL Digital\\srflop 768 96 R0
SYMATTR InstName A1
SYMBOL bv 656 224 M0
SYMATTR InstName B2
SYMATTR Value V=DELAY(ABS(I(L1))<0.2*VDC/RS,.5m)
TEXT 104 448 Left 2 !.model SW SW(Ron={RON} Roff=100Meg Vt=0.5 Vh=-0.1)
