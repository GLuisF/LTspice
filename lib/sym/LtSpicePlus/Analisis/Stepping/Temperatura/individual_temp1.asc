Version 4
SHEET 1 1344 1144
WIRE -16 192 -16 144
WIRE -16 320 -16 272
WIRE -16 528 -16 480
WIRE -16 656 -16 608
WIRE 0 864 0 816
WIRE 0 992 0 944
WIRE 48 144 -16 144
WIRE 48 480 -16 480
WIRE 64 320 -16 320
WIRE 64 352 64 320
WIRE 64 656 -16 656
WIRE 64 688 64 656
WIRE 64 816 0 816
WIRE 80 992 0 992
WIRE 80 1024 80 992
WIRE 112 144 48 144
WIRE 112 240 112 144
WIRE 112 480 48 480
WIRE 112 576 112 480
WIRE 128 816 64 816
WIRE 128 912 128 816
WIRE 176 144 112 144
WIRE 176 192 176 144
WIRE 176 320 64 320
WIRE 176 320 176 288
WIRE 176 480 112 480
WIRE 176 528 176 480
WIRE 176 656 64 656
WIRE 176 656 176 624
WIRE 192 816 128 816
WIRE 192 864 192 816
WIRE 192 992 80 992
WIRE 192 992 192 960
WIRE 432 192 432 144
WIRE 432 320 432 272
WIRE 496 144 432 144
WIRE 512 320 432 320
WIRE 512 352 512 320
WIRE 560 144 496 144
WIRE 560 240 560 144
WIRE 624 144 560 144
WIRE 624 192 624 144
WIRE 624 320 512 320
WIRE 624 320 624 288
WIRE 800 192 800 144
WIRE 800 320 800 272
WIRE 864 144 800 144
WIRE 880 320 800 320
WIRE 880 352 880 320
WIRE 928 144 864 144
WIRE 928 240 928 144
WIRE 992 144 928 144
WIRE 992 192 992 144
WIRE 992 320 880 320
WIRE 992 320 992 288
FLAG 64 352 0
FLAG 512 352 0
FLAG 48 144 vbe1
FLAG 496 144 vbe4
FLAG 64 688 0
FLAG 48 480 vbe2
FLAG 880 352 0
FLAG 864 144 vbe5
FLAG 80 1024 0
FLAG 64 816 vbe3
SYMBOL npn 112 192 R0
WINDOW 39 83 109 Left 0
SYMATTR SpiceLine temp={tnpn1}
SYMATTR InstName Q1
SYMATTR Value 2N2222
SYMBOL current -16 272 R180
WINDOW 0 24 88 Left 0
WINDOW 3 24 0 Left 0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName I1
SYMATTR Value 10µ
SYMBOL npn 560 192 R0
SYMATTR InstName Q4
SYMATTR Value 2N2222
SYMBOL current 432 272 R180
WINDOW 0 24 88 Left 0
WINDOW 3 24 0 Left 0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName I2
SYMATTR Value 10µ
SYMBOL npn 112 528 R0
WINDOW 39 94 101 Left 0
SYMATTR InstName Q2
SYMATTR Value S_2N2222
SYMATTR Prefix X
SYMATTR SpiceLine tnpns={tnpn2}
SYMBOL current -16 608 R180
WINDOW 0 24 88 Left 0
WINDOW 3 24 0 Left 0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName I3
SYMATTR Value 10µ
SYMBOL npn 928 192 R0
SYMATTR InstName Q5
SYMATTR Value 2N5089
SYMBOL current 800 272 R180
WINDOW 0 24 88 Left 0
WINDOW 3 24 0 Left 0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName I4
SYMATTR Value 10µ
SYMBOL npn 128 864 R0
WINDOW 39 94 101 Left 0
SYMATTR InstName Q3
SYMATTR Value S_2N2222
SYMATTR Prefix X
SYMATTR SpiceLine tnpns={tnpn3}
SYMBOL current 0 944 R180
WINDOW 0 24 88 Left 0
WINDOW 3 24 0 Left 0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName I5
SYMATTR Value 10µ
TEXT -40 -56 Left 0 !.op
TEXT -40 -8 Left 0 !.step param tnpn1 -40 120 20
TEXT -40 -192 Left 0 !.param tnpn1=27
TEXT -40 -536 Left 0 ;* From:  "Ronnie" <cadence@wxs.nl> message 4385\n \nYou can enter additional parameters if you cntrl-rightclick on a (model-)\ncomponent. In this case just add the extra parameter to "SpiceLine"\ne.g. temp={tnpn1}\nThen define parameter tnpn1 and sweep it.\nBelow you'll find an example of how to do it. You'll see that only Vbe\nof Q1 changes.
TEXT -40 -232 Left 0 !.TEMP=50
TEXT 112 -232 Left 0 ;Temperature for all other components Q2, Q4
TEXT 160 -192 Left 0 ;Temperature for an individual component Q1
TEXT 448 544 Left 0 !.SUBCKT S_2N2222 1 2 3  \nL1 1 1c 5n\nL2 2 2b 5n\nL3 3 3e  5n\n*\nQ1 1c 2b 3e  S2N2222 temp={tnpns}\n*\n.model S2N2222 NPN(IS=1E-14 VAF=100\n+   BF=200 IKF=0.3 XTB=1.5 BR=3\n+   CJC=8E-12 CJE=25E-12 TR=100E-9 TF=400E-12\n+   ITF=1 VTF=2 XTF=3 RB=10 RC=3 RE=1)\n*\n.ENDS S2N2222
TEXT -40 -144 Left 0 !.param tnpn2=0.9*{tnpn1}
TEXT 256 -144 Left 0 ;Temperature for an individual component Q2
TEXT -56 416 Left 0 ;Individual temperature with subcircuit model (.SUBCKT)
TEXT -24 88 Left 0 ;Individual temp with NPN model
TEXT 496 88 Left 0 ;Q4 and Q5 use global temperature .TEMP
TEXT -40 -104 Left 0 !.param tnpn3=1.2*{tnpn1}
TEXT 256 -104 Left 0 ;Temperature for an individual component Q2
