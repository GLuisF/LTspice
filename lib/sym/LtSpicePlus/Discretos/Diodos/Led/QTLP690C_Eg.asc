Version 4
SHEET 1 1500 680
WIRE 64 144 -32 144
WIRE 144 144 64 144
WIRE 480 144 384 144
WIRE 560 144 480 144
WIRE -32 192 -32 144
WIRE 144 192 144 144
WIRE 384 192 384 144
WIRE 560 192 560 144
WIRE -32 320 -32 272
WIRE 144 320 144 256
WIRE 384 320 384 272
WIRE 560 320 560 256
FLAG 144 320 0
FLAG -32 320 0
FLAG 560 320 0
FLAG 384 320 0
FLAG 64 144 vf1
FLAG 480 144 vf_eg
SYMBOL LED 128 192 R0
SYMATTR InstName D1
SYMATTR Value QTLP690C
SYMATTR Description Diode
SYMATTR Type diode
SYMBOL current -32 272 M180
WINDOW 0 24 88 Left 0
WINDOW 3 24 0 Left 0
SYMATTR InstName I1
SYMATTR Value 20m
SYMBOL LED 544 192 R0
SYMATTR InstName D2
SYMATTR Value QTLP690CX
SYMATTR Description Diode
SYMATTR Type diode
SYMBOL bi2 384 192 R0
SYMATTR InstName B1
SYMATTR Value I=I(I1)
TEXT -64 -24 Left 0 !.OP
TEXT -64 8 Left 0 !.TEMP 27 37
TEXT -96 400 Left 0 !.model QTLP690CX D(Is=1e-22 Rs=6 N=1.5 Cjo=50p Eg=2.3  Iave=160m Vpk=5 mfg=Fairchild type=LED)
TEXT -64 72 Left 0 ;.step dec I1 1u 20m 10
TEXT -64 40 Left 0 ;.step I1 1m 20m .1m
TEXT -56 -112 Left 0 ;Change the value of Eg until it fits the required temperature coefficient.\nThe diode model QTLP690C requires Eg=2.3 for a Vf change of -1.9mV/degree.
