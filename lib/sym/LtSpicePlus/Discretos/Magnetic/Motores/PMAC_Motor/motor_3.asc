Version 4
SHEET 1 1612 868
WIRE -144 -128 -192 -128
WIRE -32 -128 -64 -128
WIRE 144 -128 96 -128
WIRE 224 -128 224 -144
WIRE 224 -128 144 -128
WIRE 272 -128 224 -128
WIRE 336 -128 272 -128
WIRE 560 -128 464 -128
WIRE -496 -112 -576 -112
WIRE -576 -96 -576 -112
WIRE -32 -64 -64 -64
WIRE 144 -64 96 -64
WIRE 208 -64 144 -64
WIRE 336 -64 208 -64
WIRE 512 -64 464 -64
WIRE 208 -32 208 -64
WIRE 512 -32 512 -64
WIRE -576 0 -576 -16
WIRE 400 16 400 -48
WIRE -496 48 -576 48
WIRE -576 64 -576 48
WIRE 848 80 784 80
WIRE 1104 80 1008 80
WIRE 1008 96 1008 80
WIRE 784 112 784 80
WIRE 960 112 784 112
WIRE -576 160 -576 144
WIRE 960 160 944 160
WIRE 1200 160 1120 160
WIRE 784 176 784 112
WIRE 880 176 784 176
WIRE 944 176 944 160
WIRE 1120 176 1120 160
WIRE -144 192 -192 192
WIRE -32 192 -64 192
WIRE 144 192 96 192
WIRE 224 192 224 176
WIRE 224 192 144 192
WIRE 272 192 224 192
WIRE 336 192 272 192
WIRE 560 192 560 -128
WIRE 560 192 464 192
WIRE 576 192 560 192
WIRE 672 192 672 80
WIRE 672 192 576 192
WIRE 736 192 672 192
WIRE 784 192 784 176
WIRE 880 192 880 176
WIRE 1008 192 1008 176
WIRE -496 208 -576 208
WIRE 736 208 736 192
WIRE -576 224 -576 208
WIRE -32 256 -64 256
WIRE 144 256 96 256
WIRE 208 256 144 256
WIRE 336 256 208 256
WIRE 512 256 464 256
WIRE 736 256 720 256
WIRE 720 272 720 256
WIRE 208 288 208 256
WIRE 512 288 512 256
WIRE 784 288 784 272
WIRE 880 288 880 256
WIRE 1120 288 1120 240
WIRE -576 320 -576 304
WIRE 400 336 400 272
WIRE -144 480 -192 480
WIRE -32 480 -64 480
WIRE 144 480 96 480
WIRE 224 480 224 464
WIRE 224 480 144 480
WIRE 288 480 224 480
WIRE 336 480 288 480
WIRE 576 480 576 192
WIRE 576 480 464 480
WIRE -32 544 -64 544
WIRE 144 544 96 544
WIRE 208 544 144 544
WIRE 336 544 208 544
WIRE 512 544 464 544
WIRE 208 576 208 544
WIRE 512 576 512 544
WIRE 400 624 400 560
FLAG -576 0 0
FLAG 400 336 K_V
FLAG 208 288 0
FLAG 512 288 0
FLAG 224 96 0
FLAG 880 288 0
FLAG 784 288 0
FLAG 720 272 0
FLAG 848 80 Pos
FLAG -192 192 V+
FLAG -64 256 V-
FLAG 672 80 Shaft
FLAG -576 320 0
FLAG -576 160 0
FLAG -496 -112 K_U
FLAG -496 48 K_V
FLAG -496 208 K_W
FLAG 400 16 K_U
FLAG 208 -32 0
FLAG 512 -32 0
FLAG 224 -224 0
FLAG -192 -128 U+
FLAG -64 -64 U-
FLAG 400 624 K_W
FLAG 208 576 0
FLAG 512 576 0
FLAG 224 384 0
FLAG -192 480 W+
FLAG -64 544 W-
FLAG 272 -128 MU
FLAG 272 192 MV
FLAG 288 480 MW
FLAG 944 176 0
FLAG 1008 192 0
FLAG 1104 80 Alpha
FLAG 1200 160 Shaft
FLAG 1120 288 0
SYMBOL dynamic-gyrator 400 224 M0
SYMATTR InstName X2
SYMBOL gyrator 32 224 R0
WINDOW 39 -22 -69 Left 0
SYMATTR SpiceLine L=-1
SYMATTR InstName X3
SYMBOL bv -576 -112 R0
WINDOW 0 -78 58 Left 0
SYMATTR InstName B1
SYMATTR Value V=cos(V(Pos))*{Kt}
SYMBOL g 784 176 R0
SYMATTR InstName G1
SYMATTR Value 1m
SYMBOL cap 864 192 R0
SYMATTR InstName C1
SYMATTR Value 1m
SYMBOL cap 128 192 R0
WINDOW 0 44 31 Left 0
WINDOW 3 -47 112 Left 0
SYMATTR InstName CV
SYMATTR Value {L_Leak}
SYMBOL bv -576 48 R0
WINDOW 0 -76 52 Left 0
SYMATTR InstName B2
SYMATTR Value V=cos(V(Pos)+2*pi/3)*{Kt}
SYMBOL bv -576 208 R0
WINDOW 0 -80 58 Left 0
SYMATTR InstName B3
SYMATTR Value V=cos(V(Pos)+4*pi/3)*{Kt}
SYMBOL dynamic-gyrator 400 -96 M0
SYMATTR InstName X1
SYMBOL gyrator 32 -96 R0
WINDOW 39 -22 -69 Left 0
SYMATTR SpiceLine L=-1
SYMATTR InstName X4
SYMBOL cap 128 -128 R0
WINDOW 0 44 31 Left 0
WINDOW 3 -45 106 Left 0
SYMATTR InstName CU
SYMATTR Value {L_Leak}
SYMBOL dynamic-gyrator 400 512 M0
SYMATTR InstName X5
SYMBOL gyrator 32 512 R0
WINDOW 39 -22 -69 Left 0
SYMATTR SpiceLine L=-1
SYMATTR InstName X6
SYMBOL cap 128 480 R0
WINDOW 0 44 31 Left 0
WINDOW 3 -61 108 Left 0
SYMATTR InstName CW
SYMATTR Value {L_Leak}
SYMBOL res 208 -240 R0
WINDOW 0 -74 23 Left 0
WINDOW 3 40 43 Left 0
SYMATTR InstName Rtmp1
SYMATTR Value {Rtemp}
SYMBOL res 208 80 R0
WINDOW 0 -76 16 Left 0
WINDOW 3 32 47 Left 0
SYMATTR InstName Rtmp2
SYMATTR Value {Rtemp}
SYMBOL res 208 368 R0
WINDOW 0 -88 23 Left 0
WINDOW 3 38 40 Left 0
SYMATTR InstName Rtmp3
SYMATTR Value {Rtemp}
SYMBOL res -48 -144 R90
WINDOW 0 0 56 VBottom 0
WINDOW 3 32 56 VTop 0
SYMATTR InstName R4
SYMATTR Value {R}
SYMBOL res -48 176 R90
WINDOW 0 0 56 VBottom 0
WINDOW 3 32 56 VTop 0
SYMATTR InstName R5
SYMATTR Value {R}
SYMBOL res -48 464 R90
WINDOW 0 0 56 VBottom 0
WINDOW 3 32 56 VTop 0
SYMATTR InstName R6
SYMATTR Value {R}
SYMBOL e 1008 80 R0
SYMATTR InstName E1
SYMATTR Value 1
SYMBOL cap 1104 176 R0
SYMATTR InstName Cintertia
SYMATTR Value {Inertia}
TEXT 784 16 Left 0 !.ic V(Pos)={IP}
TEXT -128 -304 Left 0 !.param Rtemp=10meg
TEXT 664 -152 Left 0 ;Shaft terminal:	Voltage is the speed of shaft [radians per second]\n		Current is the torque [Nm]
TEXT -416 736 Left 0 ;U,V,W (+ and -) are the electrical winding connections
TEXT 696 344 Left 0 ;Parameters:\n	L_Leak = leakage inductance of winding\n	Kt = Torque vs Current, how many NewtonMetres for 1 Ampere\n	Interia = shaft intertia, Default value = 0\n	IP = initial angle of shaft in radians, Default value = 0
TEXT 672 -72 Left 0 ;Alpha output: How many radians is the shaft angle.
TEXT 608 608 Left 0 !.params Inertia=0
TEXT 608 552 Left 0 !.params IP=0
