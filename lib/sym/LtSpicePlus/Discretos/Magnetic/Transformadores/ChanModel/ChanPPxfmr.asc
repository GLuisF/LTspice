Version 4
SHEET 1 880 1108
WIRE -96 192 -112 192
WIRE -80 192 -96 192
WIRE 416 192 400 192
WIRE 432 192 416 192
WIRE -256 224 -256 192
WIRE 64 224 64 192
WIRE 416 224 416 192
WIRE -256 240 -256 224
WIRE 64 240 64 224
WIRE 256 256 256 192
WIRE 576 256 576 192
WIRE -96 272 -96 192
WIRE -304 320 -336 320
WIRE 144 320 112 320
WIRE 416 320 416 304
WIRE 416 320 384 320
WIRE 448 320 416 320
WIRE -336 336 -336 320
WIRE 144 336 144 320
WIRE 384 336 384 320
WIRE 448 336 448 320
WIRE -336 432 -336 416
WIRE -256 432 -256 336
WIRE -256 432 -336 432
WIRE -96 432 -96 352
WIRE -96 432 -256 432
WIRE 64 432 64 336
WIRE 64 432 -96 432
WIRE 144 432 144 416
WIRE 144 432 64 432
WIRE 256 432 256 320
WIRE 384 432 384 400
WIRE 384 432 256 432
WIRE 416 432 384 432
WIRE 448 432 448 416
WIRE 448 432 416 432
WIRE 576 432 576 320
WIRE 576 432 448 432
WIRE -96 448 -96 432
WIRE 416 448 416 432
WIRE -144 640 -176 640
WIRE -112 640 -144 640
WIRE -16 640 -64 640
WIRE 32 640 -16 640
WIRE -176 656 -176 640
WIRE -64 656 -64 640
WIRE 32 656 32 640
WIRE -112 672 -112 640
WIRE -176 752 -176 736
WIRE -112 752 -112 720
WIRE -64 752 -64 736
WIRE 32 752 32 720
FLAG -176 752 0
FLAG -144 640 core
FLAG -112 752 0
FLAG -64 752 0
FLAG 32 752 0
FLAG -16 640 flux
FLAG -96 448 0
FLAG 416 448 0
FLAG -336 320 G1
FLAG 144 320 G2
FLAG -256 224 M1
FLAG 64 224 M2
FLAG -96 192 i
FLAG 384 320 o
FLAG 256 192 D1
FLAG 576 192 D2
SYMBOL ind2 -208 208 R270
WINDOW 0 32 56 VTop 0
WINDOW 3 4 56 VBottom 0
SYMATTR InstName Wa1
SYMATTR Value n=7
SYMATTR Prefix X
SYMATTR Type ind
SYMATTR SpiceModel winding
SYMBOL ind -160 640 M0
WINDOW 123 36 102 Left 0
SYMATTR Value2 A=25u Lm=20m Lg=0m7
SYMATTR InstName L1
SYMATTR Value n=1 Hc=16 Bs=.44 Br=0.1
SYMBOL g -64 640 R0
WINDOW 0 32 24 Left 0
WINDOW 3 8 98 Left 0
SYMATTR InstName G1
SYMATTR Value {1u/25u}
SYMBOL cap 16 656 R0
SYMATTR InstName C1
SYMATTR Value 1µ
SYMBOL ind2 -96 208 R270
WINDOW 0 32 56 VTop 0
WINDOW 3 4 56 VBottom 0
SYMATTR InstName Wa2
SYMATTR Value n=7
SYMATTR Prefix X
SYMATTR Type ind
SYMATTR SpiceModel winding
SYMBOL nmos -304 240 R0
SYMATTR InstName M1
SYMATTR Value Si4490DY
SYMBOL voltage -96 256 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V1
SYMATTR Value 28
SYMBOL FerriteBead2 -224 192 R90
WINDOW 0 -9 0 VBottom 0
SYMATTR InstName La1
SYMATTR Value 50n
SYMATTR SpiceLine Rser=10m Rpar=1
SYMBOL FerriteBead2 32 192 R90
WINDOW 0 -9 0 VBottom 0
SYMATTR InstName La2
SYMATTR Value 50n
SYMATTR SpiceLine Rser=10m Rpar=1
SYMBOL nmos 112 240 M0
SYMATTR InstName M2
SYMATTR Value Si4490DY
SYMBOL voltage -336 320 M0
WINDOW 3 48 128 Right 0
WINDOW 123 0 0 Left 0
WINDOW 39 48 148 Right 0
SYMATTR Value PULSE(0 12 1u 150n 50n 4u1 10u)
SYMATTR SpiceLine Rser=33
SYMATTR InstName V2
SYMBOL voltage 144 320 R0
WINDOW 3 48 128 Right 0
WINDOW 123 0 0 Left 0
WINDOW 39 48 148 Right 0
SYMATTR Value PULSE(0 12 6u 150n 50n 4u 10u)
SYMATTR SpiceLine Rser=33
SYMATTR InstName V3
SYMBOL ind2 304 208 R270
WINDOW 0 32 56 VTop 0
WINDOW 3 4 56 VBottom 0
SYMATTR InstName Wa3
SYMATTR Value n=10
SYMATTR Prefix X
SYMATTR Type ind
SYMATTR SpiceModel winding
SYMBOL ind2 416 208 R270
WINDOW 0 32 56 VTop 0
WINDOW 3 4 56 VBottom 0
SYMATTR InstName Wa4
SYMATTR Value n=10
SYMATTR Prefix X
SYMATTR Type ind
SYMATTR SpiceModel winding
SYMBOL FerriteBead2 288 192 R90
WINDOW 0 -9 0 VBottom 0
SYMATTR InstName La3
SYMATTR Value 100n
SYMATTR SpiceLine Rser=20m Rpar=2
SYMBOL FerriteBead2 544 192 R90
WINDOW 0 -9 0 VBottom 0
SYMATTR InstName La4
SYMATTR Value 100n
SYMATTR SpiceLine Rser=20m Rpar=2
SYMBOL diode 240 320 M180
WINDOW 0 24 72 Left 0
WINDOW 3 24 0 Left 0
SYMATTR InstName D1
SYMATTR Value MURS320
SYMBOL diode 592 320 R180
WINDOW 0 24 72 Left 0
WINDOW 3 24 0 Left 0
SYMATTR InstName D2
SYMATTR Value MURS320
SYMBOL ind 400 208 R0
SYMATTR InstName Lo
SYMATTR Value 33µ
SYMATTR SpiceLine Rser=10m Rpar=3k
SYMBOL res 432 320 R0
SYMATTR InstName Ro
SYMATTR Value 10
SYMBOL cap 400 336 M0
SYMATTR InstName Co
SYMATTR Value 5µ
SYMATTR SpiceLine Rser=10m
TEXT -408 536 Left 0 !.subckt winding 2 1 params: n=1\n.global core\nE1 1 3 core 0 {n}\nV1 3 2 0\nF1 0 core V1 {n}\n.ends
TEXT 128 744 Left 0 !.tran 0 500u 10u uic
TEXT 136 536 Left 0 ;Note: This model uses the standard inductor symbol edited \n(ctrl-right-click) to appear as a winding subcircuit on a core \n(all connected together through a global node).  The core \nmodel is LTspice's built-in nonlinear Chan model and may \nhave as many windings as required.  Leakage inductances \nare placed separately (as beads) and have included series \nand parallel resistances adjusted to yield switching spikes \nthat are both reasonably realistic and fast running.
TEXT -232 688 Right 0 ;Nonlinear Chan core
TEXT -16 768 Top 0 ;Gain = C/Ac
TEXT -200 768 Right 0 ;Note: core turns must be 1
TEXT -16 584 Center 0 ;Flux Calculation\n(optional)
TEXT 112 8 Center 0 ;Building a Push-Pull Saturating Core Transformer Model in LTspice\n(analogspiceman - Dec 2006)
TEXT -96 112 Center 0 ;Drive pulse widths are slightly imbalanced\nin order to show core saturation effects.
LINE Normal -156 668 -156 732
LINE Normal -148 660 -148 724
LINE Normal -141 653 -156 668
LINE Normal -148 724 -163 739
RECTANGLE Normal 688 832 -480 -32
