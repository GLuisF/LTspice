Version 4
SHEET 1 988 760
WIRE 288 32 208 32
WIRE 352 32 288 32
WIRE 208 144 208 32
WIRE 352 192 352 32
WIRE 160 208 64 208
WIRE 64 240 64 208
WIRE 64 352 64 320
WIRE 208 352 208 240
WIRE 208 352 64 352
WIRE 352 352 352 272
WIRE 352 352 208 352
WIRE 64 384 64 352
WIRE 208 448 64 448
WIRE 64 480 64 448
WIRE 208 480 208 448
WIRE 64 592 64 560
WIRE 208 592 208 560
WIRE 208 592 64 592
WIRE 64 608 64 592
FLAG 64 384 0
FLAG 288 32 VBAT
FLAG 64 208 GS
FLAG 64 608 0
SYMBOL njf 160 144 R0
SYMATTR InstName J1
SYMATTR Value 2N5485
SYMBOL voltage 64 224 R0
SYMATTR InstName V1
SYMATTR Value -1
SYMBOL voltage 352 176 R0
SYMATTR InstName V2
SYMATTR Value {VMAX}
SYMBOL bi 64 560 M180
WINDOW 0 24 80 Left 2
WINDOW 3 -22 -84 Left 2
SYMATTR InstName B1
SYMATTR Value I=(VMAX-V(VBAT))/RLOAD
SYMBOL res 192 464 R0
SYMATTR InstName RLOAD
SYMATTR Value {RLOAD}
TEXT 56 -128 Left 2 !.dc V2 0 12 .1
TEXT 56 -88 Left 2 !.param VMAX=12
TEXT 56 -56 Left 2 !.param RLOAD=2k
TEXT 40 712 Left 2 !.measure Ids FIND Id(J1) WHEN ID(J1)=I(RLOAD)
TEXT 40 744 Left 2 ;View -> SPICE Error Log " to get the numbers
