Version 4
SHEET 1 1320 680
WIRE -304 160 -304 112
WIRE -304 288 -304 240
WIRE -128 112 -304 112
WIRE 48 112 -128 112
WIRE 48 160 48 112
WIRE 48 288 -304 288
WIRE 48 288 48 224
WIRE 144 112 48 112
WIRE 256 288 48 288
WIRE 256 320 256 288
WIRE 304 112 224 112
WIRE 304 160 304 112
WIRE 304 288 256 288
WIRE 304 288 304 224
WIRE 416 144 416 112
WIRE 416 256 416 224
WIRE 544 112 416 112
WIRE 656 112 544 112
WIRE 656 144 656 112
WIRE 656 256 656 224
FLAG 256 320 0
FLAG -128 112 Vin
FLAG 656 256 0
FLAG 544 112 out2
FLAG 304 112 out1
FLAG 416 256 0
SYMBOL ind 128 128 R270
WINDOW 0 32 56 VTop 0
WINDOW 3 5 56 VBottom 0
SYMATTR InstName L1
SYMATTR Value 1µ
SYMBOL cap 288 160 R0
SYMATTR InstName C1
SYMATTR Value 20µ
SYMATTR SpiceLine Rser=.001 Lser=4n
SYMBOL cap 32 160 R0
SYMATTR InstName C2
SYMATTR Value 20µ
SYMATTR SpiceLine Rser=0.001 Lser=4n
SYMBOL bv -304 144 R0
WINDOW 3 -22 183 Left 0
SYMATTR Value V=sin(2*pi*time/10ns) * exp(-1.1*time/20ns)
SYMATTR InstName B1
SYMBOL bi 656 224 M180
WINDOW 0 33 71 Left 0
WINDOW 3 36 42 Left 0
WINDOW 123 35 17 Left 0
SYMATTR InstName B3
SYMATTR Value I=delay(V(out2),200n)
SYMATTR Value2 Rpar=1
SYMBOL bi 416 224 M180
WINDOW 0 32 53 Left 0
WINDOW 3 35 29 Left 0
SYMATTR InstName B2
SYMATTR Value i=v(out1)
TEXT -330 378 Left 0 !.tran 2u
TEXT 392 304 Left 0 ;B3 repeats the pattern seen on out2, and feeds it\nback onto the same node after 200ns.\nIt also has a shunt resistance to read out the \ncurrent as a voltage.
TEXT 392 64 Left 0 ;B2 provides a copy of the waveform on C1.
