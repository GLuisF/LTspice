Version 4
SHEET 1 880 680
WIRE -432 160 -432 80
WIRE -432 272 -432 240
WIRE -320 336 -320 272
WIRE -320 448 -320 416
WIRE -256 272 -320 272
WIRE -160 48 -192 48
WIRE -160 80 -432 80
WIRE -160 80 -160 48
WIRE -160 240 -160 80
WIRE -160 304 -160 240
WIRE -160 400 -160 384
WIRE -160 432 -160 400
WIRE -160 544 -160 512
WIRE -32 400 -160 400
WIRE -32 400 -32 352
WIRE 0 240 -160 240
WIRE 0 272 -256 272
WIRE 0 320 -32 320
WIRE 0 352 -32 352
WIRE 80 208 80 176
WIRE 80 416 80 384
WIRE 144 416 144 384
WIRE 224 256 176 256
WIRE 224 256 224 -96
WIRE 256 -96 224 -96
WIRE 256 256 224 256
WIRE 368 -96 336 -96
WIRE 368 48 368 -96
WIRE 384 48 368 48
WIRE 384 80 -160 80
WIRE 400 -96 368 -96
WIRE 416 32 416 16
WIRE 416 128 416 96
WIRE 432 416 432 384
WIRE 432 528 432 496
WIRE 496 528 432 528
WIRE 496 544 496 528
WIRE 512 -96 480 -96
WIRE 512 64 448 64
WIRE 512 64 512 -96
WIRE 560 64 512 64
WIRE 560 96 560 64
WIRE 560 208 560 176
WIRE 560 416 560 384
WIRE 560 528 496 528
WIRE 560 528 560 496
WIRE 608 64 560 64
FLAG 496 544 0
FLAG -320 448 0
FLAG -432 272 0
FLAG 144 416 0
FLAG 560 208 0
FLAG 416 16 +5V
FLAG -32 320 0
FLAG -160 544 0
FLAG 80 176 +5V
FLAG 80 416 -5V
FLAG 416 128 -5V
FLAG 432 384 +5V
FLAG 560 384 -5V
FLAG 608 64 out
IOPIN 608 64 Out
FLAG -192 48 in
IOPIN -192 48 In
FLAG -256 272 ref
FLAG 256 256 xy
IOPIN 256 256 Out
SYMBOL voltage 432 400 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
WINDOW 3 27 89 Left 0
SYMATTR Value 5v
SYMATTR InstName V1
SYMBOL voltage 560 512 R180
WINDOW 0 -55 98 Left 0
WINDOW 3 -53 20 Left 0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V2
SYMATTR Value 5v
SYMBOL voltage -432 144 R0
WINDOW 3 44 60 Left 0
WINDOW 123 13 99 Left 0
SYMATTR Value 0
SYMATTR Value2 AC 1v
SYMATTR InstName V3
SYMATTR SpiceLine Rser=.5
SYMBOL voltage -320 320 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V4
SYMATTR Value .5
SYMBOL res -176 400 M180
WINDOW 0 36 76 Left 0
WINDOW 3 38 40 Left 0
SYMATTR InstName R1
SYMATTR Value 3k
SYMBOL res -176 528 M180
WINDOW 0 36 76 Left 0
WINDOW 3 39 40 Left 0
SYMATTR InstName R2
SYMATTR Value 220
SYMBOL res 384 -80 R270
WINDOW 0 32 56 VTop 0
WINDOW 3 0 56 VBottom 0
SYMATTR InstName R4
SYMATTR Value 470
SYMBOL res 240 -80 R270
WINDOW 0 32 56 VTop 0
WINDOW 3 0 56 VBottom 0
SYMATTR InstName R5
SYMATTR Value 470
SYMBOL res 544 80 R0
SYMATTR InstName R6
SYMATTR Value 75
SYMBOL Opamps\\opamp2 416 0 R0
SYMATTR InstName U3
SYMATTR Value hfa1100
SYMBOL ad835 96 288 R0
SYMATTR InstName U1
TEXT -448 -160 Left 0 !.dc V3 0 1 .01
TEXT -448 -240 Left 0 !.include ad835.sub
TEXT -448 -200 Left 0 !.op
TEXT -448 -280 Left 0 !.include hfa1100.sub
TEXT -120 -280 Left 0 ;V(xy)=-(V(in)-0.5)*V(in)*220/3220\n \nV(out)=V(in)+(V(in)-V(xy))\nV(out)=2*V(in)-V(xy)
TEXT -448 -120 Left 0 ;.ac dec 100 1e3 1e9
