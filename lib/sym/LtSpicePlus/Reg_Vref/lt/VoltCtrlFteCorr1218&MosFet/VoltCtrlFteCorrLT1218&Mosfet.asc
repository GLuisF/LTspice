Version 4
SHEET 1 1100 852
WIRE -176 -128 -272 -128
WIRE 32 -128 -176 -128
WIRE 736 -128 464 -128
WIRE -272 -96 -272 -128
WIRE 160 -96 160 -128
WIRE 32 -80 32 -128
WIRE 32 -80 -112 -80
WIRE 464 -80 464 -128
WIRE -112 -64 -112 -80
WIRE 736 -64 736 -128
WIRE -272 16 -272 -16
WIRE -112 16 -112 0
WIRE 160 16 160 -16
WIRE 32 32 32 -80
WIRE 0 48 -48 48
WIRE 464 48 464 0
WIRE 736 48 736 16
WIRE 144 64 64 64
WIRE 208 64 144 64
WIRE -592 80 -656 80
WIRE -448 80 -592 80
WIRE -336 80 -368 80
WIRE 0 80 -336 80
WIRE -656 112 -656 80
WIRE -176 112 -176 -128
WIRE -112 112 -176 112
WIRE 32 112 32 96
WIRE -336 128 -336 80
WIRE -176 128 -176 112
WIRE 208 128 208 64
WIRE -48 160 -48 48
WIRE 48 160 -48 160
WIRE 144 160 144 64
WIRE 144 160 112 160
WIRE 464 160 464 128
WIRE -48 176 -48 160
WIRE -176 208 -176 192
WIRE -656 224 -656 192
WIRE -336 224 -336 192
WIRE 208 240 208 208
WIRE 256 240 208 240
WIRE 368 240 336 240
WIRE 416 240 368 240
WIRE 208 272 208 240
WIRE 368 272 368 240
WIRE 464 272 464 256
WIRE 576 272 464 272
WIRE -112 288 -112 112
WIRE -144 304 -240 304
WIRE 464 304 464 272
WIRE -48 320 -48 256
WIRE -48 320 -80 320
WIRE 32 320 -48 320
WIRE -144 336 -192 336
WIRE -48 336 -48 320
WIRE 32 352 32 320
WIRE -112 368 -112 352
WIRE 208 400 208 352
WIRE 368 400 368 352
WIRE 464 432 464 384
WIRE -240 448 -240 304
WIRE -128 448 -240 448
WIRE -48 448 -48 416
WIRE -48 448 -128 448
WIRE 32 448 32 416
WIRE 32 448 -48 448
WIRE 144 448 144 160
WIRE -48 464 -48 448
WIRE -128 480 -128 448
WIRE -128 560 -128 544
WIRE -48 560 -48 544
WIRE -192 608 -192 336
WIRE 144 608 144 512
WIRE 144 608 -192 608
WIRE 304 608 144 608
WIRE 576 608 576 272
WIRE 576 608 384 608
FLAG 464 432 0
FLAG 368 400 0
FLAG -48 560 0
FLAG -272 16 0
FLAG -656 224 0
FLAG -176 208 0
FLAG -112 16 0
FLAG 736 48 0
FLAG -128 560 0
FLAG 208 400 0
FLAG 160 16 0
FLAG 160 -128 V-
FLAG 576 272 vs
FLAG -592 80 vc
FLAG -112 368 V-
FLAG 32 112 V-
FLAG -336 224 0
SYMBOL res 448 288 R0
SYMATTR InstName R17
SYMATTR Value .001
SYMATTR SpiceLine tol=.1 pwr=10
SYMBOL res 352 256 R0
SYMATTR InstName R15
SYMATTR Value 2.2k
SYMATTR SpiceLine tol=1 pwr=.5
SYMBOL res -64 320 R0
SYMATTR InstName R13
SYMATTR Value 470k
SYMATTR SpiceLine tol=.1 pwr=.5
SYMBOL res -64 448 R0
SYMATTR InstName R14
SYMATTR Value 1.5k
SYMATTR SpiceLine tol=.1 pwr=1
SYMBOL voltage -272 -112 R0
WINDOW 123 0 0 Left 0
WINDOW 0 -84 52 Left 0
SYMATTR InstName V1
SYMATTR SpiceLine Rser=.00000000001
SYMATTR Value 12
SYMBOL voltage -656 96 R0
WINDOW 3 -11 184 Left 0
WINDOW 39 37 80 Left 0
WINDOW 0 38 47 Left 0
SYMATTR Value PULSE(1 5 10u .1m .1m 1.8m 4m)
SYMATTR SpiceLine Rser=1
SYMATTR InstName V2
SYMATTR Value2 AC AC 1
SYMBOL res 448 -96 R0
WINDOW 0 39 52 Left 0
WINDOW 3 44 76 Left 0
SYMATTR InstName R46
SYMATTR Value .24
SYMATTR SpiceLine tol=1 pwr=100
SYMBOL res 448 32 R0
WINDOW 0 44 52 Left 0
WINDOW 3 49 73 Left 0
SYMATTR InstName R47
SYMATTR Value .24
SYMATTR SpiceLine tol=1 pwr=100
SYMBOL nmos 416 160 R0
SYMATTR InstName M1
SYMATTR Value IRFP3703
SYMATTR Prefix X
SYMBOL res -64 160 R0
SYMATTR InstName R42
SYMATTR Value 10k
SYMATTR SpiceLine tol=1 pwr=.5
SYMBOL cap -128 -64 R0
WINDOW 0 45 34 Left 0
SYMATTR InstName C1
SYMATTR Value .1µ
SYMBOL cap -192 128 R0
WINDOW 0 46 25 Left 0
WINDOW 3 30 58 Left 0
SYMATTR InstName C2
SYMATTR Value .1µ
SYMBOL res 400 592 R90
WINDOW 0 0 56 VBottom 0
WINDOW 3 32 56 VTop 0
SYMATTR InstName R43
SYMATTR Value 1k
SYMATTR SpiceLine tol=1 pwr=1
SYMBOL res 352 224 R90
WINDOW 0 0 56 VBottom 0
WINDOW 3 32 56 VTop 0
SYMATTR InstName R16
SYMATTR Value 150
SYMATTR SpiceLine tol=1 pwr=1
SYMBOL voltage 736 -80 R0
WINDOW 123 0 0 Left 0
WINDOW 0 -84 52 Left 0
WINDOW 3 -41 13 Left 0
SYMATTR InstName V3
SYMATTR Value 12
SYMATTR SpiceLine Rser=.00000000001
SYMBOL res 192 112 R0
SYMATTR InstName R44
SYMATTR Value 470
SYMBOL res 192 256 R0
WINDOW 3 33 76 Left 0
SYMATTR Value 560
SYMATTR InstName R45
SYMBOL cap 128 448 R0
SYMATTR InstName C3
SYMATTR Value 1n
SYMBOL cap -144 480 R0
SYMATTR InstName C4
SYMATTR Value 1f
SYMBOL voltage 160 -112 R0
SYMATTR InstName V4
SYMATTR Value 0
SYMBOL cap 16 352 R0
SYMATTR InstName C5
SYMATTR Value 100p
SYMBOL cap 48 176 R270
WINDOW 0 32 32 VTop 0
WINDOW 3 0 32 VBottom 0
SYMATTR InstName C6
SYMATTR Value 100p
SYMBOL Opamps\\LT1218 32 0 R0
SYMATTR InstName U1
SYMBOL Opamps\\LT1218 -112 256 R0
WINDOW 3 -46 155 Left 0
SYMATTR InstName U2
SYMBOL res -464 96 R270
WINDOW 0 32 56 VTop 0
WINDOW 3 0 56 VBottom 0
SYMATTR InstName R1
SYMATTR Value 10k
SYMBOL cap -352 128 R0
SYMATTR InstName C7
SYMATTR Value 15n
TEXT -656 -56 Left 0 ;.dc V2 0 7.86 .1
TEXT -656 -32 Left 0 !.tran 0 20m 0 20u
TEXT -656 -8 Left 0 ;.ac dec 100 1 100k
TEXT 512 192 Left 0 !.include irfp3703.lib
TEXT -656 16 Left 0 !;op
TEXT -616 344 Left 0 ;Voltage Controlled Current Sink
TEXT -616 376 Left 0 ;0 - 7.86 volts in = 0 - 25A out
TEXT -616 408 Left 0 ;Full Power Bandwidth\n400  Hz @ 100% output 3.3 v \n750  Hz @ 100% output 5 v\n350  Hz @ 100% output 12 v
TEXT 488 296 Left 0 ;shunt
TEXT 472 -96 Left 0 ;0.24 Ohm full load 12 v
TEXT 496 136 Left 0 ;0.24 Ohm full load 12 v
TEXT -616 536 Left 0 ;Modeled Stable from idle \nthrough 100% of full current to\nCurrent Mode limiting 400% full load
TEXT -656 -80 Left 0 ;VCCS revision[5]
TEXT 552 96 Left 0 ;100 Ohms Minimum Load
TEXT 552 64 Left 0 ;For All Ranges
TEXT 248 -8 Left 0 ;0 - 6.52 v  at \nnode R44 - R16\n \n0 - 6.1 v at\nnode R16 - R15
TEXT -184 592 Left 0 ;C4 removed, C5 and C6 added
TEXT 208 -128 Left 0 ;0V = single supply
TEXT -272 -144 Left 0 ;Keep C5 as small as possible
TEXT -480 152 Left 0 ;rise time\nlimiter
LINE Normal -80 560 -176 496
LINE Normal -80 496 -176 560
RECTANGLE Normal 96 464 -16 304
RECTANGLE Normal 112 208 48 112
RECTANGLE Normal -288 256 -512 32
