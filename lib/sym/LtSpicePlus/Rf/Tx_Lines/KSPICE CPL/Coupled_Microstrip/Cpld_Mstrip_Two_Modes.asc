Version 4
SHEET 1 2108 1084
WIRE -176 768 -176 752
WIRE -176 864 -176 848
WIRE -160 272 -208 272
WIRE -160 384 -208 384
WIRE -160 752 -176 752
WIRE -48 272 -80 272
WIRE -48 624 -48 272
WIRE -48 800 -48 624
WIRE -16 272 -48 272
WIRE -16 384 -80 384
WIRE -16 656 -16 384
WIRE -16 864 -16 656
WIRE 32 704 32 688
WIRE 32 800 -48 800
WIRE 32 864 -16 864
WIRE 48 352 48 304
WIRE 48 432 48 352
WIRE 48 512 48 464
WIRE 48 560 48 544
WIRE 96 272 -16 272
WIRE 96 304 48 304
WIRE 96 352 48 352
WIRE 96 384 -16 384
WIRE 96 432 48 432
WIRE 96 464 48 464
WIRE 96 512 48 512
WIRE 96 544 48 544
WIRE 96 624 -48 624
WIRE 96 656 -16 656
WIRE 96 688 32 688
WIRE 144 912 144 896
WIRE 240 304 192 304
WIRE 240 352 192 352
WIRE 240 352 240 304
WIRE 240 432 192 432
WIRE 240 432 240 352
WIRE 240 464 192 464
WIRE 240 512 192 512
WIRE 240 512 240 464
WIRE 240 544 192 544
WIRE 240 560 240 544
WIRE 256 688 192 688
WIRE 256 704 256 688
WIRE 320 272 192 272
WIRE 320 384 192 384
WIRE 320 624 192 624
WIRE 320 656 192 656
WIRE 320 800 256 800
WIRE 320 864 256 864
WIRE 352 624 320 624
WIRE 352 624 352 592
WIRE 352 656 320 656
WIRE 352 704 352 656
WIRE 352 800 320 800
WIRE 352 800 352 784
WIRE 352 864 320 864
WIRE 352 896 352 864
WIRE 384 272 320 272
WIRE 384 288 384 272
WIRE 384 384 320 384
WIRE 384 384 384 368
WIRE 384 592 352 592
WIRE 384 608 384 592
WIRE 384 704 352 704
WIRE 384 704 384 688
WIRE 384 784 352 784
WIRE 384 800 384 784
WIRE 384 896 352 896
WIRE 384 896 384 880
WIRE 448 272 384 272
WIRE 448 384 384 384
WIRE 448 592 384 592
WIRE 448 704 384 704
WIRE 448 784 384 784
WIRE 448 896 384 896
WIRE 576 272 528 272
WIRE 576 384 528 384
WIRE 576 592 528 592
WIRE 576 704 528 704
WIRE 576 784 528 784
WIRE 576 896 528 896
WIRE 1168 288 1168 272
WIRE 1168 336 1104 336
WIRE 1168 336 1168 320
WIRE 1168 384 1168 336
WIRE 1168 448 1104 448
WIRE 1168 448 1168 416
WIRE 1168 480 1168 448
WIRE 1168 528 1168 512
WIRE 1216 288 1168 288
WIRE 1216 320 1168 320
WIRE 1216 384 1168 384
WIRE 1216 416 1168 416
WIRE 1216 480 1168 480
WIRE 1216 512 1168 512
WIRE 1360 288 1312 288
WIRE 1360 288 1360 272
WIRE 1360 320 1312 320
WIRE 1360 336 1360 320
WIRE 1360 384 1312 384
WIRE 1360 384 1360 336
WIRE 1360 416 1312 416
WIRE 1360 448 1360 416
WIRE 1360 480 1312 480
WIRE 1360 480 1360 448
WIRE 1360 512 1312 512
WIRE 1360 528 1360 512
WIRE 1424 336 1360 336
WIRE 1424 448 1360 448
WIRE 1472 336 1424 336
WIRE 1472 352 1472 336
WIRE 1472 448 1424 448
WIRE 1472 448 1472 432
WIRE 1536 336 1472 336
WIRE 1536 448 1472 448
WIRE 1664 336 1616 336
WIRE 1664 448 1616 448
FLAG 1360 528 0
FLAG 1168 528 0
FLAG 1168 272 0
FLAG 1360 272 0
FLAG -16 272 in1
FLAG -16 384 in2
FLAG 320 272 a1
FLAG 320 384 a2
FLAG 320 624 b1
FLAG 320 656 b2
FLAG -176 864 0
FLAG -160 752 in
FLAG -208 272 0
FLAG -208 384 0
FLAG 576 272 0
FLAG 576 384 0
FLAG 576 592 0
FLAG 576 704 0
FLAG 256 704 0
FLAG 32 704 0
FLAG 320 800 c1
FLAG 320 864 c2
FLAG 576 784 0
FLAG 576 896 0
FLAG 144 912 0
FLAG 48 560 0
FLAG 240 560 0
FLAG 1664 336 0
FLAG 1664 448 0
FLAG 1104 336 in1
FLAG 1104 448 in2
FLAG 1424 336 d1
FLAG 1424 448 d2
SYMBOL tline 1264 304 R0
WINDOW 3 -88 33 Left 0
WINDOW 0 -21 -31 Left 0
SYMATTR Value Td={Te} Z0={Zc}
SYMATTR InstName T11
SYMBOL tline 1264 400 R0
WINDOW 0 -18 -33 Left 0
WINDOW 3 -88 34 Left 0
SYMATTR InstName T12
SYMATTR Value Td={To} Z0={Zd}
SYMBOL tline 1264 496 R0
WINDOW 0 -16 -30 Left 0
WINDOW 3 -80 30 Left 0
SYMATTR InstName T13
SYMATTR Value Td={Te} Z0={Zc}
SYMBOL voltage -176 752 R0
WINDOW 0 38 38 Left 0
WINDOW 3 -49 156 Left 0
SYMATTR InstName V1
SYMATTR Value pulse(0 1 0 0.2n 0.2n 10n 40n)
SYMBOL res 368 272 R0
WINDOW 3 34 63 Left 0
SYMATTR Value {Rd}
SYMATTR InstName R1
SYMBOL bv -64 272 R90
WINDOW 0 -15 94 VBottom 0
WINDOW 3 32 56 VTop 0
SYMATTR InstName B1
SYMATTR Value V=k1*v(in)
SYMBOL bv -64 384 R90
WINDOW 0 -16 94 VBottom 0
WINDOW 3 32 56 VTop 0
SYMATTR InstName B2
SYMATTR Value V=k2*v(in)
SYMBOL res 544 256 R90
WINDOW 0 16 106 VBottom 0
WINDOW 3 -12 10 VTop 0
SYMATTR InstName R3
SYMATTR Value {Rc}
SYMBOL res 368 592 R0
WINDOW 3 34 63 Left 0
SYMATTR Value {Rd}
SYMATTR InstName R2
SYMBOL cpl2_line 144 672 R0
SYMATTR InstName P1
SYMBOL res 368 784 R0
WINDOW 3 35 63 Left 0
SYMATTR Value {Rd}
SYMATTR InstName R7
SYMBOL res 544 368 R90
WINDOW 0 17 105 VBottom 0
WINDOW 3 -12 10 VTop 0
SYMATTR InstName R4
SYMATTR Value {Rc}
SYMBOL res 544 576 R90
WINDOW 0 15 106 VBottom 0
WINDOW 3 -12 11 VTop 0
SYMATTR InstName R5
SYMATTR Value {Rc}
SYMBOL res 544 688 R90
WINDOW 0 16 106 VBottom 0
WINDOW 3 -12 10 VTop 0
SYMATTR InstName R6
SYMATTR Value {Rc}
SYMBOL res 544 768 R90
WINDOW 0 16 108 VBottom 0
WINDOW 3 -12 12 VTop 0
SYMATTR InstName R8
SYMATTR Value {Rc}
SYMBOL res 544 880 R90
WINDOW 0 16 106 VBottom 0
WINDOW 3 -12 10 VTop 0
SYMATTR InstName R9
SYMATTR Value {Rc}
SYMBOL 5pin_block 144 832 R0
WINDOW 3 0 -2 Center 0
SYMATTR Value two_coupled_lines_512
SYMATTR InstName U1
SYMATTR Value2 len={Len} Rser={Rs}
SYMATTR SpiceLine C11={C11} C12={C12} C22={C22}
SYMATTR SpiceLine2 L11={L11} L12={L12} L22={L22}
SYMBOL tline 144 288 R0
WINDOW 0 -19 -27 Left 0
WINDOW 3 -82 30 Left 0
SYMATTR InstName T1
SYMATTR Value Td={To} Z0={Zo}
SYMBOL tline 144 368 R0
WINDOW 0 -16 -27 Left 0
WINDOW 3 -84 28 Left 0
SYMATTR InstName T2
SYMATTR Value Td={To} Z0={Zo}
SYMBOL tline 144 448 R0
WINDOW 0 -18 -25 Left 0
WINDOW 3 -95 27 Left 0
SYMATTR InstName T3
SYMATTR Value Td={To} Z0={-Zo/2}
SYMBOL tline 144 528 R0
WINDOW 0 -18 -26 Left 0
WINDOW 3 -83 27 Left 0
SYMATTR InstName T4
SYMATTR Value Td={Te} Z0={Ze/2}
SYMBOL res 1456 336 R0
WINDOW 3 34 63 Left 0
SYMATTR Value {Rd}
SYMATTR InstName R10
SYMBOL res 1632 320 R90
WINDOW 0 16 106 VBottom 0
WINDOW 3 -12 10 VTop 0
SYMATTR InstName R11
SYMATTR Value {Rc}
SYMBOL res 1632 432 R90
WINDOW 0 17 105 VBottom 0
WINDOW 3 -12 10 VTop 0
SYMATTR InstName R12
SYMATTR Value {Rc}
TEXT 640 256 Left 0 ;*  Coupled microstrips:\n***************************************
TEXT 640 304 Left 0 !.tran 0 80n
TEXT 640 480 Left 0 !.inc two_coupled_lines.lib
TEXT 640 336 Left 0 !.model PLINE CPL length={len}\n+R=1 0 1\n+L={L11} {L12} {L22}\n+G=0 0 0\n+C={C11} {C12} {C22}
TEXT 640 536 Left 0 !.param k1=1.5 k2=-0.5\n***************************************\n* k1 = 1,    k2 = -1     -   pure differential signal\n* k1 = 1,    k2 =  1     -   pure common mode signal\n* k1 = 1.5, k2 = -0.5  -   mixed mode signal\n***************************************
TEXT 640 696 Left 0 !.param Len=1 Rs=0\n+ C11=9.143579E-11 C12=-9.78265E-12 C22=9.143578E-11\n+ L11=3.83572E-7 L12=8.26253E-8 L22=3.83572E-7
TEXT 640 800 Left 0 !.param Rc=Ze Rd=Zd
TEXT 640 832 Left 0 !.meas Teven param Te\n.meas Todd param To
TEXT 640 504 Left 0 ;.step param K 0.9 1 0.02
TEXT 640 888 Left 0 !.meas Zeven param Ze\n.meas Zodd param Zo
TEXT 280 432 Left 0 ;Four T-Line Microstrip Model
TEXT 1400 496 Left 0 ;Three T-Line Diff Link Model\n(Just for comparison)
TEXT 1304 600 Left 0 ;On the left this sheet shows three\ndifferent ways of simulating\na single-terminated (at the end)\ndifferential microstrip link with\nboth differential and common mode\nsignals at the input. \n1) Four T-Line Microstrip Model;\n2) KSPICE coupled line model;\n3) Multisegment lumped element\n    coupled line model\nOn the right there is a three T-Line\nmodel for comparison
RECTANGLE Normal 272 592 16 240 1
RECTANGLE Normal 1392 560 1136 240 1
