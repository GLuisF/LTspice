Version 4
SHEET 1 2280 1012
WIRE -160 80 -160 48
WIRE -528 176 -736 176
WIRE -464 176 -528 176
WIRE -320 176 -384 176
WIRE -160 176 -160 144
WIRE -160 176 -240 176
WIRE -32 176 -160 176
WIRE 0 176 -32 176
WIRE 112 176 64 176
WIRE 160 176 112 176
WIRE 208 176 160 176
WIRE 1152 176 208 176
WIRE 1504 176 1152 176
WIRE 1792 176 1584 176
WIRE 1824 176 1792 176
WIRE 1920 176 1888 176
WIRE 1984 176 1920 176
WIRE 2080 176 1984 176
WIRE 1152 192 1152 176
WIRE 2080 192 2080 176
WIRE 1984 208 1984 176
WIRE -736 272 -736 176
WIRE -528 272 -528 176
WIRE 0 272 -80 272
WIRE 112 272 112 176
WIRE 112 272 64 272
WIRE -160 288 -160 176
WIRE 160 288 160 176
WIRE 1152 288 1152 272
WIRE 1264 288 1152 288
WIRE 1376 288 1328 288
WIRE 1984 288 1984 272
WIRE 2080 288 2080 272
WIRE 496 304 256 304
WIRE 720 304 496 304
WIRE 960 304 800 304
WIRE 1376 320 1376 288
WIRE 960 336 960 304
WIRE 1152 336 1152 288
WIRE 1920 336 1920 176
WIRE -32 368 -32 176
WIRE 0 368 -32 368
WIRE 112 368 64 368
WIRE 496 416 496 304
WIRE 528 416 496 416
WIRE 688 416 608 416
WIRE 864 416 688 416
WIRE 1584 416 1248 416
WIRE 1584 432 1584 416
WIRE 1920 448 1920 416
WIRE 1920 448 1696 448
WIRE -736 464 -736 352
WIRE -528 464 -528 336
WIRE -528 464 -736 464
WIRE -336 464 -528 464
WIRE -160 464 -160 352
WIRE -160 464 -256 464
WIRE -80 464 -80 272
WIRE -80 464 -160 464
WIRE 0 464 -80 464
WIRE 112 464 112 368
WIRE 112 464 64 464
WIRE 160 464 160 352
WIRE 160 464 112 464
WIRE 208 464 160 464
WIRE 256 464 256 304
WIRE 256 464 208 464
WIRE 1344 464 1312 464
WIRE 1488 464 1344 464
WIRE 1920 464 1920 448
WIRE 1488 480 1488 464
WIRE -160 496 -160 464
WIRE 256 496 256 464
WIRE 608 496 592 496
WIRE 688 496 688 416
WIRE 688 496 672 496
WIRE 720 496 688 496
WIRE 864 496 800 496
WIRE -736 512 -736 464
WIRE 1344 528 1344 464
WIRE 1584 528 1584 512
WIRE 1488 560 1488 544
WIRE 1920 560 1920 544
WIRE 400 576 384 576
WIRE 512 576 480 576
WIRE 752 576 512 576
WIRE 864 576 752 576
WIRE 1312 576 1312 464
WIRE 1312 576 1248 576
WIRE -160 592 -160 560
WIRE 256 592 256 576
WIRE -736 624 -736 592
WIRE 512 656 512 640
WIRE 624 656 512 656
WIRE 752 656 752 640
WIRE 752 656 704 656
WIRE 864 656 752 656
WIRE 1344 656 1344 592
WIRE 1344 656 1248 656
WIRE 1488 656 1488 640
WIRE 1488 656 1344 656
WIRE 1568 656 1488 656
WIRE 1696 656 1696 448
WIRE 1696 656 1648 656
WIRE 752 736 720 736
WIRE 864 736 832 736
WIRE 1696 736 1696 656
WIRE 1696 736 1248 736
WIRE 1792 736 1792 176
WIRE 752 816 720 816
WIRE 864 816 816 816
WIRE 1408 816 1248 816
WIRE 1744 816 1488 816
WIRE 1792 848 1792 832
WIRE 960 912 960 896
WIRE 1152 928 1152 896
WIRE 960 992 960 976
FLAG 1152 928 0
FLAG 1792 848 0
FLAG 1584 528 0
FLAG 1376 320 0
FLAG 1984 288 0
FLAG 256 592 0
FLAG 2080 288 0
FLAG 2080 176 OUT
FLAG 1920 560 0
FLAG 960 992 0
FLAG 720 816 0
FLAG 720 736 0
FLAG 384 576 0
FLAG 592 496 0
FLAG -736 624 0
FLAG 208 176 Vrectp
FLAG 208 464 Vrectn
FLAG -160 48 0
FLAG -160 592 0
SYMBOL NMOS 1744 736 R0
WINDOW 0 56 20 Left 0
WINDOW 3 56 64 Left 0
SYMATTR InstName Q1
SYMATTR Value SUD40N10-25
SYMBOL RES 1472 544 R0
SYMATTR InstName R1
SYMATTR Value 330K
SYMBOL cap 1328 528 R0
SYMATTR InstName C1
SYMATTR Value .047µ
SYMBOL cap 1472 480 R0
SYMATTR InstName C2
SYMATTR Value .47µ
SYMBOL VOLTAGE 1584 416 R0
SYMATTR InstName V1
SYMATTR Value 17
SYMBOL res 608 672 R270
WINDOW 0 32 56 VTop 0
WINDOW 3 0 56 VBottom 0
SYMATTR InstName R2
SYMATTR Value 20k
SYMBOL cap 736 576 R0
WINDOW 0 38 16 Left 0
WINDOW 3 26 56 Left 0
SYMATTR InstName C3
SYMATTR Value 100p
SYMBOL cap 496 576 R0
WINDOW 0 35 15 Left 0
SYMATTR InstName C4
SYMATTR Value 1n
SYMBOL ind2 1488 192 R270
WINDOW 0 32 56 VTop 0
WINDOW 3 4 56 VBottom 0
SYMATTR InstName L1
SYMATTR Value 750µ
SYMATTR SpiceLine Rser=.1
SYMBOL res 1136 176 R0
SYMATTR InstName R3
SYMATTR Value 1Meg
SYMBOL cap 1264 304 R270
WINDOW 0 32 32 VTop 0
WINDOW 3 0 32 VBottom 0
SYMATTR InstName C5
SYMATTR Value 4.7n
SYMBOL diode 1824 192 R270
WINDOW 0 32 32 VTop 0
WINDOW 3 0 32 VBottom 0
SYMATTR InstName D1
SYMATTR Value MUR460
SYMBOL polcap 1968 208 R0
SYMATTR InstName C6
SYMATTR Value 180µ
SYMATTR SpiceLine Rser=0.05
SYMBOL res 240 480 R0
SYMATTR InstName R4
SYMATTR Value .2
SYMBOL res 1904 448 R0
SYMATTR InstName R5
SYMATTR Value 20K
SYMBOL res 1904 320 R0
SYMATTR InstName R6
SYMATTR Value 1Meg
SYMBOL POWERPRODUCTS\\LT1248 1056 656 R0
SYMATTR InstName U1
SYMBOL res 1664 640 R90
WINDOW 0 0 56 VBottom 0
WINDOW 3 32 56 VTop 0
SYMATTR InstName R7
SYMATTR Value 20K
SYMBOL res 816 288 R90
WINDOW 0 0 56 VBottom 0
WINDOW 3 32 56 VTop 0
SYMATTR InstName R8
SYMATTR Value 4k
SYMBOL cap 944 912 R0
SYMATTR InstName C7
SYMATTR Value .01µ
SYMBOL cap 816 800 R90
WINDOW 0 0 32 VBottom 0
WINDOW 3 32 32 VTop 0
SYMATTR InstName C8
SYMATTR Value 1000p
SYMBOL res 848 720 R90
WINDOW 0 0 56 VBottom 0
WINDOW 3 32 56 VTop 0
SYMATTR InstName R9
SYMATTR Value 15K
SYMBOL res 816 512 M270
WINDOW 0 32 56 VTop 0
WINDOW 3 0 56 VBottom 0
SYMATTR InstName R10
SYMATTR Value 20k
SYMBOL res 496 560 R90
WINDOW 0 0 56 VBottom 0
WINDOW 3 32 56 VTop 0
SYMATTR InstName R11
SYMATTR Value 4K
SYMBOL res 624 432 M270
WINDOW 0 32 56 VTop 0
WINDOW 3 0 56 VBottom 0
SYMATTR InstName R12
SYMATTR Value 2.2k
SYMBOL cap 672 480 R90
WINDOW 0 0 32 VBottom 0
WINDOW 3 32 32 VTop 0
SYMATTR InstName C9
SYMATTR Value 1000p
SYMBOL res 2064 176 R0
SYMATTR InstName Rload
SYMATTR Value 1k
SYMBOL voltage -736 256 R0
WINDOW 123 0 0 Left 0
WINDOW 39 27 92 Left 0
WINDOW 3 -28 -110 Left 0
SYMATTR SpiceLine Rser=.1
SYMATTR Value SINE(0 155.6 60)
SYMATTR InstName V2
SYMBOL diode 0 192 R270
WINDOW 0 32 32 VTop 0
WINDOW 3 0 32 VBottom 0
SYMATTR InstName D2
SYMATTR Value DD
SYMBOL diode 0 288 R270
WINDOW 0 32 32 VTop 0
WINDOW 3 0 32 VBottom 0
SYMATTR InstName D3
SYMATTR Value DD
SYMBOL diode 64 384 M270
WINDOW 0 32 32 VTop 0
WINDOW 3 0 32 VBottom 0
SYMATTR InstName D4
SYMATTR Value DD
SYMBOL diode 64 480 M270
WINDOW 0 32 32 VTop 0
WINDOW 3 0 32 VBottom 0
SYMATTR InstName D5
SYMATTR Value DD
SYMBOL cap 144 288 R0
SYMATTR InstName C10
SYMATTR Value 100n
SYMBOL res -752 496 R0
SYMATTR InstName R13
SYMATTR Value 1G
SYMBOL ind2 -336 192 R270
WINDOW 0 32 56 VTop 0
WINDOW 3 5 56 VBottom 0
SYMATTR InstName L2
SYMATTR Value 3.3m
SYMATTR Type ind
SYMATTR SpiceLine Rser=.1
SYMBOL ind2 -352 480 R270
WINDOW 0 32 56 VTop 0
WINDOW 3 5 56 VBottom 0
SYMATTR InstName L3
SYMATTR Value 3.3m
SYMATTR Type ind
SYMATTR SpiceLine Rser=.1
SYMBOL ind -480 192 R270
WINDOW 0 32 56 VTop 0
WINDOW 3 5 56 VBottom 0
SYMATTR InstName L4
SYMATTR Value 150µ
SYMATTR SpiceLine Rser=.05
SYMBOL cap -544 272 R0
SYMATTR InstName C11
SYMATTR Value 1µ
SYMATTR SpiceLine Rser=50m
SYMBOL cap -176 288 R0
SYMATTR InstName C12
SYMATTR Value 1µ
SYMATTR SpiceLine Rser=50m
SYMBOL cap -176 80 R0
SYMATTR InstName C13
SYMATTR Value 4.7n
SYMBOL cap -176 496 R0
SYMATTR InstName C14
SYMATTR Value 4.7n
SYMBOL res 1392 832 R270
WINDOW 0 32 56 VTop 0
WINDOW 3 0 56 VBottom 0
SYMATTR InstName R14
SYMATTR Value 10
TEXT -752 0 Left 0 !.tran 0 140m 0 100n
TEXT -752 32 Left 0 !.ic V(out)=385
TEXT -48 96 Left 0 !.model DD D(Is=1e-15 Rs=0.1 Cjo=50p Tt=1u)
TEXT -448 280 Left 0 !K23 L2 L3 0.99
TEXT -752 64 Left 0 !.options reltol=0.003
TEXT 608 8 Left 0 ;Power Factor Controller
LINE Normal -224 224 -336 224
LINE Normal -336 416 -224 224
LINE Normal -224 416 -336 416
