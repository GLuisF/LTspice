Version 4
SHEET 1 1624 1340
WIRE 240 -288 176 -288
WIRE -448 -256 -496 -256
WIRE -416 -256 -448 -256
WIRE 128 -256 96 -256
WIRE 160 -256 128 -256
WIRE 176 -256 176 -288
WIRE 384 -256 368 -256
WIRE 400 -256 384 -256
WIRE 128 -240 128 -256
WIRE 288 -240 288 -256
WIRE 400 -240 400 -256
WIRE -448 -208 -448 -256
WIRE 128 -208 128 -240
WIRE 144 -208 128 -208
WIRE -496 -192 -512 -192
WIRE 160 -192 128 -192
WIRE -352 -176 -368 -176
WIRE -160 -176 -208 -176
WIRE -144 -176 -160 -176
WIRE 80 -176 48 -176
WIRE 144 -176 144 -208
WIRE 144 -176 128 -176
WIRE 192 -176 176 -176
WIRE 272 -176 272 -192
WIRE -512 -160 -512 -192
WIRE -496 -160 -512 -160
WIRE -416 -160 -416 -192
WIRE -352 -160 -352 -176
WIRE 128 -160 128 -176
WIRE 336 -160 336 -192
WIRE 352 -160 336 -160
WIRE -416 -144 -416 -160
WIRE -400 -144 -416 -144
WIRE 272 -144 272 -176
WIRE -512 -128 -512 -160
WIRE -480 -128 -512 -128
WIRE -416 -128 -448 -128
WIRE -272 -128 -272 -160
WIRE -272 -128 -336 -128
WIRE -368 -112 -384 -112
WIRE 64 -112 48 -112
WIRE 400 -112 400 -144
WIRE 400 -112 368 -112
WIRE 128 -96 128 -112
WIRE 144 -96 128 -96
WIRE 160 -96 160 -192
WIRE 160 -96 144 -96
WIRE 256 -96 256 -112
WIRE 256 -96 176 -96
WIRE 336 -96 256 -96
WIRE 352 -96 336 -96
WIRE 368 -96 368 -112
WIRE 368 -96 352 -96
WIRE -144 -80 -208 -80
WIRE 144 -80 144 -96
WIRE 208 -80 144 -80
WIRE -512 -64 -512 -128
WIRE -496 -64 -512 -64
WIRE -464 -64 -480 -64
WIRE -416 -64 -416 -128
WIRE -400 -64 -400 -144
WIRE -400 -64 -416 -64
WIRE -368 -64 -368 -80
WIRE -160 -64 -160 -176
WIRE -160 -64 -368 -64
WIRE 144 -64 144 -80
WIRE 352 -64 352 -96
WIRE -464 -48 -464 -64
WIRE -448 -48 -464 -48
WIRE -336 -48 -336 -128
WIRE -208 -48 -208 -80
WIRE -208 -48 -240 -48
WIRE 64 -48 64 -112
WIRE 64 -48 -16 -48
WIRE 208 -48 208 -80
WIRE 208 -48 192 -48
WIRE 272 -48 256 -48
WIRE -48 -32 -160 -32
WIRE 80 -32 80 -176
WIRE 80 -32 -48 -32
WIRE 208 -32 208 -48
WIRE 224 -32 208 -32
WIRE -416 0 -496 0
WIRE -400 0 -416 0
WIRE -384 0 -384 -112
WIRE -384 0 -400 0
WIRE 160 16 144 16
WIRE 304 16 272 16
WIRE 336 16 304 16
WIRE 352 16 336 16
WIRE -400 32 -400 0
WIRE -240 32 -288 32
WIRE 96 32 96 -256
WIRE 96 32 80 32
WIRE 304 32 304 16
WIRE -240 48 -272 48
WIRE -160 48 -160 32
WIRE -48 48 -48 32
WIRE -48 48 -80 48
WIRE 128 48 96 48
WIRE 160 48 128 48
WIRE 224 48 176 48
WIRE 400 48 400 -112
WIRE -480 64 -480 32
WIRE -368 64 -368 -64
WIRE -368 64 -480 64
WIRE 128 64 128 48
WIRE -80 80 -80 48
WIRE -80 80 -128 80
WIRE 272 80 240 80
WIRE 336 80 272 80
WIRE 128 96 128 64
WIRE 144 96 128 96
WIRE -480 112 -480 64
WIRE -384 112 -400 112
WIRE -48 112 -160 112
WIRE -16 112 -16 -48
WIRE -16 112 -48 112
WIRE 160 112 128 112
WIRE -336 128 -336 96
WIRE -272 128 -304 128
WIRE -144 128 -160 128
WIRE -128 128 -128 80
WIRE -128 128 -144 128
WIRE 80 128 80 32
WIRE 80 128 -16 128
WIRE 144 128 144 96
WIRE 144 128 128 128
WIRE 192 128 176 128
WIRE 272 128 272 112
WIRE 336 128 336 112
WIRE 352 128 336 128
WIRE -144 144 -144 128
WIRE -16 144 -16 128
WIRE -16 144 -32 144
WIRE 128 144 128 128
WIRE 336 144 336 128
WIRE 368 144 336 144
WIRE -304 160 -304 128
WIRE -16 160 -16 144
WIRE 96 160 96 48
WIRE 272 160 272 128
WIRE -480 192 -480 176
WIRE -480 192 -496 192
WIRE -400 192 -480 192
WIRE -336 192 -400 192
WIRE -304 192 -304 160
WIRE -240 192 -240 160
WIRE -240 192 -304 192
WIRE -176 192 -240 192
WIRE 96 192 80 192
WIRE 96 208 96 192
WIRE 128 208 128 192
WIRE 128 208 96 208
WIRE 160 208 160 112
WIRE 160 208 128 208
WIRE 176 208 160 208
WIRE 336 208 176 208
WIRE 400 208 400 144
WIRE 400 208 336 208
FLAG 384 -256 V+
FLAG 256 -112 1
FLAG 368 144 2
FLAG 80 192 0
FLAG 288 -240 0
FLAG 192 -48 0
FLAG 160 16 VC
FLAG 240 80 0
FLAG 304 32 3
FLAG -496 192 0
FLAG -176 160 VC
FLAG 256 -48 V+
FLAG 240 -208 1
FLAG -448 -208 0
FLAG -288 32 0
FLAG -368 -80 4
FLAG -112 192 0
FLAG -384 112 bat.
SYMBOL cap -112 176 R90
WINDOW 0 19 -23 Invisible 0
WINDOW 3 16 73 VTop 0
SYMATTR InstName C3
SYMATTR Value .01µ
SYMBOL ind2 336 32 M180
WINDOW 0 -26 63 Left 0
WINDOW 3 49 32 VRight 0
SYMATTR InstName L1
SYMATTR Value 400µ
SYMBOL ind2 -512 -144 R270
WINDOW 0 31 34 VTop 0
WINDOW 3 13 31 VBottom 0
SYMATTR InstName L2
SYMATTR Value 40µ
SYMATTR SpiceLine Rser=.01
SYMBOL schottky -432 -64 R0
WINDOW 0 24 0 Invisible 0
WINDOW 3 24 72 Invisible 0
SYMATTR InstName D6
SYMATTR Value MUR460
SYMBOL voltage 144 32 R180
WINDOW 3 10 70 Bottom 0
WINDOW 123 -32 56 VBottom 0
WINDOW 0 -7 59 Invisible 0
SYMATTR Value 10
SYMATTR InstName V3
SYMATTR SpiceLine Rser=.01
SYMBOL sw 176 224 M180
WINDOW 3 27 27 Left 0
WINDOW 0 51 67 Invisible 0
SYMATTR Value SWb
SYMATTR InstName S1
SYMBOL voltage 384 -256 R90
WINDOW 123 32 56 VTop 0
WINDOW 3 -30 51 VTop 0
WINDOW 0 18 55 Invisible 0
SYMATTR Value 320
SYMATTR InstName V1
SYMATTR SpiceLine Rser=.01
SYMBOL sw 176 -80 M180
WINDOW 3 24 28 Left 0
WINDOW 0 51 67 Invisible 0
SYMATTR Value SWb
SYMATTR InstName S2
SYMBOL cap 144 -256 R0
WINDOW 0 -72 129 Invisible 0
WINDOW 3 36 39 Invisible 0
SYMATTR InstName C2
SYMATTR Value 5p
SYMBOL cap 144 48 R0
WINDOW 0 -72 129 Invisible 0
WINDOW 3 40 40 Invisible 0
SYMATTR InstName C7
SYMATTR Value 5p
SYMBOL nmos 352 48 R0
WINDOW 0 56 32 Invisible 0
WINDOW 3 56 72 Invisible 0
SYMATTR InstName M2
SYMATTR Value Si4490DY
SYMBOL voltage 224 64 R180
WINDOW 123 32 56 VTop 0
WINDOW 3 17 40 Top 0
WINDOW 0 18 55 Invisible 0
SYMATTR Value 15
SYMATTR InstName V4
SYMATTR SpiceLine Rser=.01
SYMBOL sw 176 144 M180
WINDOW 3 -75 107 Left 0
WINDOW 0 51 67 Invisible 0
SYMATTR Value SWa
SYMATTR InstName S3
SYMBOL sw 176 -160 M180
WINDOW 3 -65 113 Left 0
WINDOW 0 51 67 Invisible 0
SYMATTR Value SWa
SYMATTR InstName S4
SYMBOL nmos 352 -240 R0
WINDOW 0 56 32 Invisible 0
WINDOW 3 56 72 Invisible 0
SYMATTR InstName M1
SYMATTR Value Si4490DY
SYMBOL voltage 240 -304 R0
WINDOW 123 32 56 VTop 0
WINDOW 3 0 45 Top 0
WINDOW 0 18 55 Invisible 0
SYMATTR Value 15
SYMATTR InstName V2
SYMATTR SpiceLine Rser=.01
SYMBOL res 288 -160 M270
WINDOW 0 28 51 Invisible 0
WINDOW 3 -5 49 VBottom 0
SYMATTR InstName R12
SYMATTR Value 100
SYMBOL res 176 144 R270
WINDOW 0 28 51 Invisible 0
WINDOW 3 0 52 VBottom 0
SYMATTR InstName R6
SYMATTR Value 100
SYMBOL pnp2 272 208 M180
WINDOW 0 84 32 Invisible 0
WINDOW 3 84 68 Invisible 0
SYMATTR InstName Q4
SYMATTR Value 2N3906
SYMBOL pnp2 272 -96 M180
WINDOW 0 84 32 Invisible 0
WINDOW 3 84 68 Invisible 0
SYMATTR InstName Q5
SYMATTR Value 2N3906
SYMBOL cap 352 80 R180
WINDOW 0 -27 71 Invisible 0
WINDOW 3 -44 49 Left 0
SYMATTR InstName C13
SYMATTR Value .1µ
SYMBOL diode 272 -208 M90
WINDOW 0 48 -4 Invisible 0
WINDOW 3 -32 31 Invisible 0
SYMATTR InstName D23
SYMATTR Value 1N4148
SYMBOL diode 272 96 M90
WINDOW 0 48 -4 Invisible 0
WINDOW 3 -32 31 Invisible 0
SYMATTR InstName D24
SYMATTR Value 1N4148
SYMBOL schottky -512 -64 R0
WINDOW 0 24 0 Invisible 0
WINDOW 3 24 72 Invisible 0
SYMATTR InstName D5
SYMATTR Value MUR460
SYMBOL schottky -512 -256 R0
WINDOW 0 24 0 Invisible 0
WINDOW 3 24 72 Invisible 0
SYMATTR InstName D7
SYMATTR Value MUR460
SYMBOL schottky -432 -256 R0
WINDOW 0 24 0 Invisible 0
WINDOW 3 24 72 Invisible 0
SYMATTR InstName D9
SYMATTR Value MUR460
SYMBOL diode 320 -96 M180
WINDOW 0 24 72 Invisible 0
WINDOW 3 24 0 Invisible 0
SYMATTR InstName D15
SYMATTR Value 1N4148
SYMBOL diode 288 16 R180
WINDOW 0 24 72 Invisible 0
WINDOW 3 24 0 Invisible 0
SYMATTR InstName D18
SYMATTR Value MURS320
SYMBOL diode 288 80 R180
WINDOW 0 24 72 Invisible 0
WINDOW 3 24 0 Invisible 0
SYMATTR InstName D16
SYMATTR Value MURS320
SYMBOL diode 320 208 M180
WINDOW 0 24 72 Invisible 0
WINDOW 3 24 0 Invisible 0
SYMATTR InstName D1
SYMATTR Value 1N4148
SYMBOL Optos\\4N25 -48 -112 R0
WINDOW 0 7 2 Center 0
WINDOW 3 -8 25 Center 0
SYMATTR InstName U2
SYMBOL res -144 32 R90
WINDOW 0 0 56 Invisible 0
WINDOW 3 36 63 VTop 0
SYMATTR InstName R1
SYMATTR Value 1k
SYMBOL ind2 -256 32 M0
WINDOW 3 36 70 Left 0
SYMATTR Value 4µ
SYMATTR InstName L3
SYMBOL diode -176 32 M180
WINDOW 0 24 72 Invisible 0
WINDOW 3 24 0 Invisible 0
SYMATTR InstName D3
SYMATTR Value 1N4148
SYMBOL diode -176 112 M180
WINDOW 0 24 72 Invisible 0
WINDOW 3 24 0 Invisible 0
SYMATTR InstName D4
SYMATTR Value 1N4148
SYMBOL diode -64 112 M180
WINDOW 0 24 72 Invisible 0
WINDOW 3 24 0 Invisible 0
SYMATTR InstName D10
SYMATTR Value 1N4148
SYMBOL diode -64 32 M180
WINDOW 0 24 72 Invisible 0
WINDOW 3 24 0 Invisible 0
SYMATTR InstName D12
SYMATTR Value 1N4148
SYMBOL pnp2 -272 -80 M180
WINDOW 0 84 32 Invisible 0
WINDOW 3 84 68 Invisible 0
SYMATTR InstName Q1
SYMATTR Value 2N3906
SYMBOL res -64 32 R90
WINDOW 0 0 56 Invisible 0
WINDOW 3 -29 40 VTop 0
SYMATTR InstName R4
SYMATTR Value 10meg
SYMBOL res -256 48 M180
WINDOW 0 36 76 Invisible 0
WINDOW 3 76 48 Right 0
SYMATTR InstName R3
SYMATTR Value 3.3k
SYMBOL cap -464 -64 R180
WINDOW 0 -27 71 Invisible 0
WINDOW 3 34 56 VLeft 0
SYMATTR InstName C5
SYMATTR Value .01µ
SYMBOL res -464 -32 M180
WINDOW 0 36 76 Invisible 0
WINDOW 3 28 -2 Right 0
SYMATTR InstName R5
SYMATTR Value 10
SYMBOL CD40106B -224 80 R0
WINDOW 0 -16 16 Invisible 0
WINDOW 3 80 -95 Invisible 0
SYMATTR InstName U3
SYMATTR SpiceLine VDD=10  SPEED=1.0  TRIPDT=5e-9
SYMBOL CD40106B -96 96 R0
WINDOW 0 -6 1 Invisible 0
WINDOW 3 11 95 Left 0
SYMATTR InstName U1
SYMATTR SpiceLine VDD=10  SPEED=1.0  TRIPDT=5e-9
SYMBOL cap -464 176 R180
WINDOW 0 -27 71 Invisible 0
WINDOW 3 -15 43 VLeft 0
SYMATTR InstName C1
SYMATTR Value 100µ
SYMBOL voltage -400 96 R0
WINDOW 123 32 56 VTop 0
WINDOW 3 -4 51 Top 0
WINDOW 0 18 55 Invisible 0
SYMATTR Value 14.1
SYMATTR InstName V5
SYMATTR SpiceLine Rser=.04
SYMBOL res -352 48 M180
WINDOW 0 36 76 Invisible 0
WINDOW 3 49 85 VLeft 0
SYMATTR InstName R2
SYMATTR Value 10k
SYMBOL zener -320 192 R180
WINDOW 3 -221 55 Invisible 0
WINDOW 0 24 72 Invisible 0
SYMATTR Value BZX84C12L
SYMATTR InstName D13
SYMATTR Description Diode
SYMATTR Type diode
SYMBOL diode -384 -112 M180
WINDOW 0 24 72 Invisible 0
WINDOW 3 24 0 Invisible 0
SYMATTR InstName D17
SYMATTR Value 1N4148
SYMBOL res -256 -176 R90
WINDOW 0 0 56 Invisible 0
WINDOW 3 53 39 VTop 0
SYMATTR InstName R8
SYMATTR Value 2k
SYMBOL CD40106B 32 112 R0
WINDOW 0 -16 16 Invisible 0
WINDOW 3 80 -95 Invisible 0
SYMATTR InstName U5
SYMATTR SpiceLine VDD=10  SPEED=1.0  TRIPDT=5e-9
SYMBOL diode -304 144 M90
WINDOW 0 48 -4 Invisible 0
WINDOW 3 -32 31 Invisible 0
SYMATTR InstName D2
SYMATTR Value 1N4148
SYMBOL diode -240 144 M90
WINDOW 0 48 -4 Invisible 0
WINDOW 3 -32 31 Invisible 0
SYMATTR InstName D8
SYMATTR Value 1N4148
SYMBOL diode -320 32 M0
WINDOW 0 24 0 Invisible 0
WINDOW 3 24 72 Invisible 0
SYMATTR InstName D11
SYMATTR Value 1N4148
SYMBOL ind2 -496 128 R270
WINDOW 0 32 50 VTop 0
WINDOW 3 61 95 VBottom 0
SYMATTR InstName L4
SYMATTR Value 10µ
SYMATTR SpiceLine Rser=.01
SYMBOL res -384 16 R90
WINDOW 0 0 56 Invisible 0
WINDOW 3 17 16 Bottom 0
SYMATTR InstName R7
SYMATTR Value .001
TEXT -376 -224 Left 0 !.tran 0 30m 10u 1000n startup uic
TEXT -152 -272 Center 0 !.model SWb SW(Ron=7 Roff=10k Von=4 Voff=5)
TEXT -136 -248 Left 0 !.lib CD4000.LIB
TEXT -112 -200 Left 0 !K1 L1 L2 L3 0.96
TEXT -320 -200 Left 0 !.option noopiter
TEXT -504 144 VLeft 0 ;charge out
TEXT -296 176 Left 0 ;int. diodes
TEXT -152 -288 Center 0 !.model SWa SW(Ron=7 Roff=10k Von=6 Voff=5)
TEXT -384 -248 Left 0 ;ZCS USMPS batchgr
TEXT 112 -120 VLeft 0 ;1/2 IR211x
TEXT 112 176 VLeft 0 ;1/2 IR211x
