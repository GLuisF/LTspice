Version 4
SHEET 1 880 680
WIRE 16 -368 -80 -368
WIRE 112 -368 16 -368
WIRE 240 -368 112 -368
WIRE 368 -368 240 -368
WIRE 112 -352 112 -368
WIRE 368 -352 368 -368
WIRE 112 -256 112 -272
WIRE -416 -240 -464 -240
WIRE -304 -240 -336 -240
WIRE -80 -240 -80 -368
WIRE -80 -240 -112 -240
WIRE 368 -240 368 -272
WIRE 400 -240 368 -240
WIRE 432 -240 400 -240
WIRE -592 -224 -656 -224
WIRE -512 -224 -592 -224
WIRE 368 -224 368 -240
WIRE 176 -176 -112 -176
WIRE 272 -176 176 -176
WIRE 304 -176 272 -176
WIRE -512 -144 -512 -176
WIRE -464 -144 -464 -160
WIRE -304 -144 -416 -144
WIRE -80 -144 -112 -144
WIRE 176 -144 176 -176
WIRE -656 -128 -656 -144
WIRE -592 -128 -592 -144
WIRE 368 -96 368 -128
WIRE -320 -80 -352 -80
WIRE -80 -80 -80 -144
WIRE -80 -80 -240 -80
WIRE 176 -48 176 -64
WIRE 176 -48 -176 -48
WIRE 240 -48 240 -368
WIRE 320 -48 240 -48
WIRE -352 -32 -352 -80
WIRE -80 -16 -80 -80
WIRE -80 -16 -96 -16
WIRE -48 -16 -80 -16
WIRE 96 -16 -48 -16
WIRE 176 0 176 -48
WIRE -176 32 -176 -48
WIRE -160 32 -176 32
WIRE -352 64 -352 48
WIRE 320 96 320 -48
WIRE -96 112 -96 80
WIRE 96 112 96 48
WIRE 176 112 176 80
WIRE -416 192 -416 -144
WIRE -304 192 -416 192
WIRE 16 192 16 -368
WIRE 16 192 -112 192
WIRE 320 208 320 176
WIRE 352 208 320 208
WIRE 400 208 352 208
WIRE 16 256 -112 256
WIRE 112 256 16 256
WIRE 256 256 192 256
WIRE -304 288 -336 288
WIRE -64 288 -112 288
WIRE -48 288 -64 288
WIRE 16 288 16 256
WIRE -336 304 -336 288
WIRE 320 336 320 304
WIRE 16 400 16 368
FLAG 368 -96 0
FLAG -96 112 0
FLAG 176 112 0
FLAG 400 -240 Chrg
FLAG 272 -176 Q1B
FLAG -48 -16 U1B
FLAG 96 112 0
FLAG 112 -256 0
FLAG -352 64 0
FLAG -336 304 0
FLAG 16 400 0
FLAG 16 256 U2E
FLAG -64 288 U2B
FLAG 352 208 Opto
FLAG 320 336 0
FLAG -464 -144 0
FLAG -592 -128 0
FLAG -656 -128 0
FLAG -512 -144 0
SYMBOL res 352 -368 R0
SYMATTR InstName R2
SYMATTR Value 1k
SYMBOL voltage 112 -368 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
WINDOW 0 42 27 Left 0
WINDOW 3 39 58 Left 0
SYMATTR InstName V1
SYMATTR Value 11.5
SYMBOL NPN 304 -224 R0
SYMATTR InstName Q1
SYMATTR Value 2N2369
SYMBOL NPN -160 -16 R0
SYMATTR InstName Q2
SYMATTR Value 2N2222
SYMBOL res 160 -160 R0
SYMATTR InstName R1
SYMATTR Value 200
SYMBOL res 160 -16 R0
SYMATTR InstName R3
SYMATTR Value 750
SYMBOL cap 80 -16 R0
WINDOW 3 31 53 Left 0
SYMATTR Value 5pf
SYMATTR InstName C2
SYMBOL VOLTAGE -352 -48 R0
WINDOW 0 39 36 Left 0
WINDOW 3 31 79 Left 0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V3
SYMATTR Value 1.5V
SYMBOL res -224 -96 R90
WINDOW 0 0 56 VBottom 0
WINDOW 3 32 56 VTop 0
SYMATTR InstName R5
SYMATTR Value 220k
SYMBOL res 0 272 R0
SYMATTR InstName R7
SYMATTR Value 500
SYMBOL OPTOS\\4N25 -208 -176 R0
SYMATTR InstName U1
SYMBOL OPTOS\\4N25 -208 256 R0
SYMATTR InstName U2
SYMBOL NPN 256 208 R0
SYMATTR InstName Q3
SYMATTR Value 2N2369
SYMBOL res 208 240 R90
WINDOW 0 0 56 VBottom 0
WINDOW 3 32 56 VTop 0
SYMATTR InstName R6
SYMATTR Value 200
SYMBOL res 304 80 R0
SYMATTR InstName R8
SYMATTR Value 1k
SYMBOL BI -656 -144 R180
WINDOW 0 24 88 Left 0
WINDOW 3 -219 -114 Left 0
SYMATTR InstName B1
SYMATTR Value I=rand(time * 5e5 + 329) >= .5
SYMBOL G -464 -256 R0
WINDOW 0 -16 -6 Left 0
WINDOW 3 25 88 Left 0
SYMATTR InstName G1
SYMATTR Value 1m
SYMBOL res -608 -240 R0
SYMATTR InstName R4
SYMATTR Value 15
SYMBOL res -432 -224 R270
WINDOW 0 32 56 VTop 0
WINDOW 3 0 56 VBottom 0
SYMATTR InstName R9
SYMATTR Value 1
TEXT -752 -64 Left 0 !.tran 10u
TEXT -776 -352 Left 0 ;'Compare Charge Ctrl to Plain 4N25
