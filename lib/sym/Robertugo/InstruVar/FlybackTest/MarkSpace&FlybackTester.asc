Version 4
SHEET 1 1308 788
WIRE -448 112 -496 112
WIRE -336 112 -448 112
WIRE -272 112 -336 112
WIRE -208 112 -272 112
WIRE 192 112 -192 112
WIRE 256 112 192 112
WIRE 416 112 336 112
WIRE -272 128 -272 112
WIRE -208 128 -208 112
WIRE 256 128 -208 128
WIRE -496 144 -496 112
WIRE -336 144 -336 112
WIRE -176 160 -240 160
WIRE 192 160 192 112
WIRE 192 160 48 160
WIRE 256 160 256 128
WIRE -448 176 -448 112
WIRE -448 176 -464 176
WIRE -368 176 -448 176
WIRE 80 192 64 192
WIRE 416 208 416 112
WIRE -176 224 -224 224
WIRE 64 224 64 192
WIRE 64 224 48 224
WIRE 80 224 64 224
WIRE 192 224 192 160
WIRE 192 224 160 224
WIRE -496 240 -496 208
WIRE -336 240 -336 208
WIRE 256 256 256 240
WIRE 352 256 256 256
WIRE 192 272 192 224
WIRE -208 288 -208 128
WIRE -176 288 -208 288
WIRE 80 288 48 288
WIRE -496 320 -496 304
WIRE -336 320 -336 304
WIRE -336 320 -496 320
WIRE -224 320 -224 224
WIRE -224 320 -336 320
WIRE -496 336 -496 320
WIRE -336 336 -336 320
WIRE 256 336 256 256
WIRE -192 352 -192 112
WIRE -176 352 -192 352
WIRE 112 352 48 352
WIRE 192 368 192 352
WIRE 192 368 160 368
WIRE -224 384 -224 320
WIRE 80 384 80 288
WIRE 80 384 -224 384
WIRE 160 384 160 368
WIRE -416 400 -496 400
WIRE -336 400 -416 400
WIRE -416 432 -416 400
WIRE -368 432 -416 432
WIRE -240 432 -240 160
WIRE -240 432 -304 432
WIRE 112 432 112 416
WIRE 112 432 -240 432
WIRE 192 432 192 368
WIRE 192 432 112 432
WIRE 256 432 256 400
WIRE 256 432 192 432
WIRE 416 432 416 304
WIRE 416 432 256 432
FLAG 160 384 0
FLAG -272 128 Out
IOPIN -272 128 Out
FLAG 80 192 Od
IOPIN 80 192 Out
FLAG -416 400 Ramp
SYMBOL cap -304 416 R90
WINDOW 0 16 69 VBottom 0
WINDOW 3 -11 -2 VTop 0
SYMATTR InstName Cvar
SYMATTR Value {val}
SYMATTR SpiceLine V=50v
SYMBOL diode -512 240 R0
WINDOW 3 24 72 Invisible 0
WINDOW 0 21 64 Left 0
SYMATTR Value 1N914
SYMATTR InstName D1
SYMBOL diode -512 336 R0
WINDOW 3 24 72 Invisible 0
WINDOW 0 38 32 Left 0
SYMATTR Value 1N914
SYMATTR InstName D2
SYMBOL diode -320 400 R180
WINDOW 0 33 31 Left 0
WINDOW 3 24 0 Invisible 0
SYMATTR InstName D3
SYMATTR Value 1N914
SYMBOL diode -320 304 R180
WINDOW 0 19 1 Left 0
WINDOW 3 24 0 Invisible 0
SYMATTR InstName D4
SYMATTR Value 1N914
SYMBOL res 176 208 R90
WINDOW 0 57 89 VBottom 0
WINDOW 3 32 35 VTop 0
SYMATTR InstName Rd
SYMATTR Value 100k
SYMBOL Pote -480 112 M0
WINDOW 123 -55 86 Center 0
WINDOW 3 -39 109 Center 0
WINDOW 0 -36 -15 Left 0
SYMATTR Value2 set=mark
SYMATTR Value rt=pot
SYMATTR InstName mark
SYMBOL 555_ALL -16 272 R0
WINDOW 38 -83 78 Left 0
SYMATTR InstName U1
SYMBOL cap 128 416 R180
WINDOW 0 72 11 Left 0
WINDOW 3 24 8 Left 0
SYMATTR InstName Cbp
SYMATTR Value 10n
SYMATTR SpiceLine V=50v
SYMBOL Pote -352 112 R0
WINDOW 123 -40 31 Center 0
WINDOW 3 -43 50 Center 0
WINDOW 0 50 -17 Right 0
SYMATTR Value2 set=mark
SYMATTR Value rt=pot
SYMATTR InstName space
SYMBOL voltage 192 256 R0
WINDOW 0 -51 22 Left 0
WINDOW 3 -29 58 Left 0
SYMATTR InstName V+
SYMATTR Value {Vdd}
SYMBOL res 240 144 R0
WINDOW 0 -14 38 VRight 0
WINDOW 3 39 49 Left 0
SYMATTR InstName Rbuf
SYMATTR Value 68
SYMBOL ind 240 128 R270
WINDOW 0 -24 79 VTop 0
WINDOW 3 3 151 VBottom 0
SYMATTR InstName LFlyBack
SYMATTR Value 1m
SYMATTR SpiceLine Ipk=0.5 Rser=0.375 Rpar=0 Cpar=0 mfg="Coiltronics" pn="CTX100-1"
SYMBOL npn3 352 208 R0
WINDOW 3 -88 75 Left 0
WINDOW 0 -44 35 Left 0
SYMATTR Value BU508DR
SYMATTR InstName Qout
SYMBOL diode 240 400 M180
WINDOW 0 24 72 Left 0
WINDOW 3 24 0 Left 0
SYMATTR InstName Dret
SYMATTR Value 1N914
TEXT -152 96 Left 0 !.tran {30*mark*val*pot}
TEXT 440 128 Left 0 !.params: Vdd 12 Ronx=.1 pot=91k\n.step param mark .1 .9 .4\n.step param val 1n 50n 49n\n.meas tran ta FIND time WHEN V(out)={Vdd/2} td=.1m rise=1\n.meas tran tb FIND time WHEN V(out)={Vdd/2} td=.1m rise=11\n.meas tran Frec PARAM 10/(tb-ta)\n.Meas tran Tc FIND time WHEN V(Out)={Vdd/2} td=.1m fall=1\n.Meas tran Td FIND time WHEN V(Out)={Vdd/2} td=.1m fall=2\n.Meas tran T1 Param  (Tc-Ta)\n.Meas tran T2  Param  (Td-Ta)\n.Meas tran Ton Param If (T1>0, T1, T2)\n.Meas tran Duty% Param  Ton*Frec*100
TEXT 440 104 Left 0 ;LFlyBack es el bobinado primario del flyback (Hot & +B).
