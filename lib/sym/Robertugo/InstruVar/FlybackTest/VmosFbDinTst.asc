Version 4
SHEET 1 1932 852
WIRE -400 112 -480 112
WIRE -352 112 -400 112
WIRE -272 112 -352 112
WIRE 192 112 -192 112
WIRE -352 128 -352 112
WIRE -480 144 -480 112
WIRE 192 144 192 112
WIRE 256 144 192 144
WIRE 368 144 336 144
WIRE -272 160 -272 112
WIRE -272 160 -320 160
WIRE -176 160 -240 160
WIRE 192 160 192 144
WIRE 192 160 48 160
WIRE -400 176 -400 112
WIRE -400 176 -448 176
WIRE -272 176 -272 160
WIRE 368 176 368 144
WIRE 80 192 64 192
WIRE -176 224 -224 224
WIRE 64 224 64 192
WIRE 64 224 48 224
WIRE 80 224 64 224
WIRE 192 224 192 160
WIRE 192 224 160 224
WIRE -480 240 -480 208
WIRE -352 240 -352 192
WIRE 192 272 192 224
WIRE 272 272 272 256
WIRE -272 288 -272 256
WIRE -208 288 -272 288
WIRE -176 288 -208 288
WIRE 80 288 48 288
WIRE 368 288 368 256
WIRE -480 320 -480 304
WIRE -352 320 -352 304
WIRE -352 320 -480 320
WIRE -224 320 -224 224
WIRE -224 320 -352 320
WIRE -480 336 -480 320
WIRE -352 336 -352 320
WIRE -192 352 -192 112
WIRE -176 352 -192 352
WIRE 112 352 48 352
WIRE 192 368 192 352
WIRE 192 368 160 368
WIRE 272 368 272 352
WIRE 320 368 272 368
WIRE -224 384 -224 320
WIRE 80 384 80 288
WIRE 80 384 -224 384
WIRE 160 384 160 368
WIRE -416 400 -480 400
WIRE -352 400 -416 400
WIRE -208 416 -208 288
WIRE -192 416 -208 416
WIRE -416 432 -416 400
WIRE -368 432 -416 432
WIRE -240 432 -240 160
WIRE -240 432 -304 432
WIRE 112 432 112 416
WIRE 112 432 -240 432
WIRE 192 432 192 368
WIRE 192 432 112 432
WIRE 368 432 368 384
WIRE 368 432 192 432
FLAG 160 384 0
FLAG -192 416 Out
IOPIN -192 416 Out
FLAG 80 192 Od
IOPIN 80 192 Out
FLAG -416 400 Ramp
FLAG 272 256 Out
IOPIN 272 256 In
SYMBOL cap -304 416 R90
WINDOW 0 16 69 VBottom 0
WINDOW 3 -11 -2 VTop 0
SYMATTR InstName Ct
SYMATTR Value 10n
SYMATTR SpiceLine V=50v
SYMBOL diode -496 240 R0
WINDOW 3 24 72 Invisible 0
WINDOW 0 21 64 Left 0
SYMATTR Value 1N914
SYMATTR InstName D1
SYMBOL diode -496 336 R0
WINDOW 3 24 72 Invisible 0
WINDOW 0 22 1 Left 0
SYMATTR Value 1N914
SYMATTR InstName D2
SYMBOL diode -336 400 R180
WINDOW 0 19 60 Left 0
WINDOW 3 24 0 Invisible 0
SYMATTR InstName D3
SYMATTR Value 1N914
SYMBOL diode -336 304 R180
WINDOW 0 19 1 Left 0
WINDOW 3 24 0 Invisible 0
SYMATTR InstName D4
SYMATTR Value 1N914
SYMBOL res 176 208 R90
WINDOW 0 57 89 VBottom 0
WINDOW 3 32 35 VTop 0
SYMATTR InstName Rd
SYMATTR Value 100k
SYMBOL Pote -464 112 M0
WINDOW 123 -32 92 Center 0
WINDOW 3 -29 119 Center 0
WINDOW 0 -1 28 Right 0
SYMATTR Value2 Set=.1
SYMATTR Value rt=pot
SYMATTR InstName mark
SYMBOL 555_ALL -16 272 R0
WINDOW 38 -83 78 Left 0
SYMATTR InstName U1
SYMBOL cap 128 416 R180
WINDOW 0 67 9 Left 0
WINDOW 3 24 8 Left 0
SYMATTR InstName Cbp
SYMATTR Value 10n
SYMATTR SpiceLine V=50v
SYMBOL Pote -336 96 M0
WINDOW 123 -22 130 Center 0
WINDOW 3 -15 104 Center 0
WINDOW 0 5 34 Right 0
SYMATTR Value2 set=1m
SYMATTR Value rt=pot
SYMATTR InstName space
SYMBOL voltage 192 256 R0
WINDOW 0 -51 22 Left 0
WINDOW 3 -29 58 Left 0
SYMATTR InstName V+
SYMATTR Value {Vdd}
SYMBOL res -288 160 R0
WINDOW 0 22 45 Left 0
WINDOW 3 19 89 Left 0
SYMATTR InstName rs
SYMATTR Value 1k
SYMBOL nmos 320 288 R0
WINDOW 0 0 -12 Left 0
WINDOW 3 -28 99 Left 0
SYMATTR InstName M1
SYMATTR Value IRF640
SYMBOL res 256 256 R0
WINDOW 0 26 48 Left 0
WINDOW 3 26 83 Left 0
SYMATTR InstName R1
SYMATTR Value 1k
SYMBOL res 352 128 R90
WINDOW 0 17 109 VBottom 0
WINDOW 3 -14 12 VTop 0
SYMATTR InstName Rf
SYMATTR Value 1
SYMBOL ind 352 160 R0
WINDOW 0 -44 32 Left 0
WINDOW 3 -56 63 Left 0
SYMATTR InstName Lfb
SYMATTR Value 100µ
SYMATTR SpiceLine Ipk=0.5 Rser=0.375 Rpar=0 Cpar=0 mfg="Coiltronics" pn="CTX100-1"
TEXT -136 128 Left 0 !.tran 10m
TEXT 504 144 Left 0 !.params: Vdd 12 Ronx=.1 pot=91k\n.meas tran ta FIND time WHEN V(out)={Vdd/2} td=.1m rise=1\n.meas tran tb FIND time WHEN V(out)={Vdd/2} td=.1m rise=11\n.meas tran Frec PARAM 10/(tb-ta)\n.Meas tran Tc FIND time WHEN V(Out)={Vdd/2} td=.1m fall=1\n.Meas tran Td FIND time WHEN V(Out)={Vdd/2} td=.1m fall=2\n.Meas tran T1 Param  (Tc-Ta)\n.Meas tran T2  Param  (Td-Ta)\n.Meas tran Ton Param If (T1>0, T1, T2)\n.Meas tran Duty% Param  Ton*Frec*100
TEXT -480 64 Left 0 !.model IRF640 NMOS(Level=3 Gamma=0 Delta=0 Eta=0 Theta=0 Kappa=0.2 Vmax=0 Xj=0 Tox=100n Uo=600 Phi=.6 Rs=19.61m Kp=20.73u\n+W=.66 L=2u Vto=3.788 Rd=95.58m Rds=888.9K Cbd=1.872n Pb=.8 Mj=.5 Fc=.5 Cgso=1.745n Cgdo=334.7p Rg=2.954 Is=16.39p N=1 Tt=312n)
