Version 4
SHEET 1 1148 680
WIRE -272 112 -448 112
WIRE 240 128 -192 128
WIRE -448 144 -448 112
WIRE -176 160 -240 160
WIRE 240 160 240 128
WIRE 240 160 48 160
WIRE -384 176 -416 176
WIRE -208 176 -304 176
WIRE 80 192 64 192
WIRE -448 224 -448 208
WIRE -272 224 -272 112
WIRE -176 224 -224 224
WIRE 64 224 64 192
WIRE 64 224 48 224
WIRE 112 224 64 224
WIRE 240 224 240 160
WIRE 240 224 192 224
WIRE 240 272 240 224
WIRE 240 272 144 272
WIRE -208 288 -208 176
WIRE -176 288 -208 288
WIRE 80 288 48 288
WIRE 240 288 240 272
WIRE -448 304 -448 288
WIRE -272 304 -272 288
WIRE -272 304 -448 304
WIRE -224 304 -224 224
WIRE -224 304 -272 304
WIRE -448 320 -448 304
WIRE -272 320 -272 304
WIRE 144 320 144 272
WIRE -192 352 -192 128
WIRE -176 352 -192 352
WIRE 112 352 48 352
WIRE -224 384 -224 304
WIRE 80 384 80 288
WIRE 80 384 -224 384
WIRE 240 384 240 368
WIRE 240 384 208 384
WIRE -448 400 -448 384
WIRE -368 400 -448 400
WIRE -272 400 -272 384
WIRE -272 400 -368 400
WIRE 208 400 208 384
WIRE -208 416 -208 288
WIRE -192 416 -208 416
WIRE -368 432 -368 400
WIRE -336 432 -368 432
WIRE -240 432 -240 160
WIRE -240 432 -272 432
WIRE 144 432 144 384
WIRE 144 432 -240 432
WIRE 240 432 240 384
WIRE 240 432 144 432
FLAG 208 400 0
FLAG -192 416 Out
IOPIN -192 416 Out
FLAG 80 192 Od
IOPIN 80 192 Out
SYMBOL cap -272 416 R90
WINDOW 0 14 53 VBottom 0
WINDOW 3 -11 -2 VTop 0
SYMATTR InstName Ct
SYMATTR Value 1n
SYMATTR SpiceLine V=50v
SYMBOL diode -464 224 R0
WINDOW 3 24 72 Invisible 0
WINDOW 0 40 35 Left 0
SYMATTR Value 1N914
SYMATTR InstName D1
SYMBOL diode -464 320 R0
WINDOW 3 24 72 Invisible 0
WINDOW 0 38 32 Left 0
SYMATTR Value 1N914
SYMATTR InstName D2
SYMBOL diode -256 384 R180
WINDOW 0 33 31 Left 0
WINDOW 3 24 0 Invisible 0
SYMATTR InstName D3
SYMATTR Value 1N914
SYMBOL diode -256 288 R180
WINDOW 0 38 28 Left 0
WINDOW 3 24 0 Invisible 0
SYMATTR InstName D4
SYMATTR Value 1N914
SYMBOL Misc\\battery 240 272 R0
WINDOW 0 -57 17 Left 0
WINDOW 3 -66 94 Left 0
SYMATTR InstName V+
SYMATTR Value {Vdd}
SYMATTR Value2 AC 0 0
SYMATTR SpiceLine Rser=1 Cpar=100u
SYMBOL res 208 208 R90
WINDOW 0 57 89 VBottom 0
WINDOW 3 32 35 VTop 0
SYMATTR InstName Rd
SYMATTR Value 100k
SYMBOL Pote -432 112 M0
WINDOW 123 -73 115 Center 0
WINDOW 3 -39 91 Center 0
WINDOW 0 51 41 VRight 0
SYMATTR Value2 set=curdut
SYMATTR Value rt=100k
SYMATTR InstName Duty
SYMBOL Pote 128 288 R0
WINDOW 0 -16 81 VRight 0
WINDOW 3 -17 20 VCenter 0
WINDOW 123 -113 122 Center 0
SYMATTR InstName Freq
SYMATTR Value rt=10k
SYMATTR Value2 set=.667
SYMBOL 555_ALL -16 272 R0
WINDOW 38 -83 78 Left 0
SYMATTR InstName U1
SYMBOL res -288 160 R90
WINDOW 0 0 56 VBottom 0
WINDOW 3 32 36 VTop 0
SYMATTR InstName Rf
SYMATTR Value 1k
TEXT 392 112 Left 0 !.tran 2m
TEXT 392 136 Left 0 !.params: Vdd 12 Ronx=.1 \n;.step param curfrec .1 .9 .2\n.step param curdut 0 1 .5 \n.meas tran ta FIND time WHEN V(out)={Vdd/2} td=.2m rise=1\n.meas tran tb FIND time WHEN V(out)={Vdd/2} td=.2m rise=11\n.meas tran Frec PARAM 10/(tb-ta)\n.Meas tran Tc FIND time WHEN V(Out)={Vdd/2} td=.2m fall=1\n.Meas tran Td FIND time WHEN V(Out)={Vdd/2} td=.2m fall=2\n.Meas tran T1 Param  (Tc-Ta)\n.Meas tran T2  Param  (Td-Ta)\n.Meas tran Ton Param If (T1>0, T1, T2)\n.Meas tran Duty% Param  Ton*Frec*100
