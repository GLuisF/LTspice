Version 4
SHEET 1 1444 680
WIRE 32 144 -16 144
WIRE 160 144 96 144
WIRE -16 176 -16 144
WIRE 32 176 -16 176
WIRE -16 192 -16 176
WIRE 400 192 176 192
WIRE 32 208 32 176
WIRE 64 208 64 176
WIRE 64 208 32 208
WIRE 528 208 288 208
WIRE 624 208 528 208
WIRE 176 224 176 192
WIRE 176 224 16 224
WIRE 288 224 288 208
WIRE 256 240 192 240
WIRE 400 256 400 192
WIRE 400 256 320 256
WIRE 432 256 400 256
WIRE -16 272 -16 256
WIRE 160 272 160 144
WIRE 256 272 224 272
WIRE 400 272 400 256
WIRE 528 272 528 208
WIRE -16 352 -16 336
WIRE 160 352 160 336
WIRE 160 352 -16 352
WIRE 192 352 192 240
WIRE 192 352 160 352
WIRE -16 368 -16 352
WIRE 160 368 160 352
WIRE 224 368 224 272
WIRE 400 368 400 352
WIRE 400 368 224 368
WIRE 528 368 528 352
WIRE 528 368 400 368
WIRE 624 368 624 208
WIRE 224 384 224 368
WIRE -16 448 -16 432
WIRE 64 448 -16 448
WIRE 160 448 160 432
WIRE 160 448 64 448
WIRE 64 480 64 448
WIRE 96 480 64 480
WIRE 224 480 224 464
WIRE 224 480 160 480
WIRE 288 480 288 288
WIRE 288 480 224 480
WIRE 624 480 624 448
WIRE 624 480 288 480
WIRE 224 496 224 480
FLAG 224 496 0
FLAG 432 256 Out
IOPIN 432 256 Out
FLAG 64 448 Ramp
SYMBOL res 384 256 R0
SYMATTR InstName R1
SYMATTR Value 100k
SYMBOL res 208 368 R0
WINDOW 3 24 82 Left 0
SYMATTR Value 100k
SYMATTR InstName R2
SYMBOL voltage 624 352 R0
WINDOW 0 -20 58 Left 0
WINDOW 3 -228 108 Left 0
WINDOW 123 0 0 Left 0
WINDOW 39 -26 85 Left 0
SYMATTR InstName V+
SYMATTR Value PULSE(0 {VDD} 0 1u)
SYMBOL res 512 256 R0
SYMATTR InstName R3
SYMATTR Value 100k
SYMBOL Robertugo\\OPAMP5 288 192 R0
WINDOW 0 -29 64 Left 0
SYMATTR InstName U2
SYMATTR SpiceModel TL082
SYMBOL cap 160 464 R90
WINDOW 0 14 53 VBottom 0
WINDOW 3 -11 -2 VTop 0
SYMATTR InstName Ct
SYMATTR Value 10n
SYMATTR SpiceLine V=50v
SYMBOL diode -32 272 R0
WINDOW 3 24 72 Invisible 0
WINDOW 0 40 35 Left 0
SYMATTR Value 1N914
SYMATTR InstName D1
SYMBOL diode -32 368 R0
WINDOW 3 24 72 Invisible 0
WINDOW 0 38 32 Left 0
SYMATTR Value 1N914
SYMATTR InstName D2
SYMBOL diode 176 432 R180
WINDOW 0 33 31 Left 0
WINDOW 3 24 0 Invisible 0
SYMATTR InstName D3
SYMATTR Value 1N914
SYMBOL diode 176 336 R180
WINDOW 0 38 28 Left 0
WINDOW 3 24 0 Invisible 0
SYMATTR InstName D4
SYMATTR Value 1N914
SYMBOL Pote 0 160 M0
WINDOW 123 -73 115 Center 0
WINDOW 3 -39 91 Center 0
WINDOW 0 51 41 VRight 0
SYMATTR Value2 set={Cursor}
SYMATTR Value rt=10k
SYMATTR InstName Duty
SYMBOL Pote 0 160 R270
WINDOW 0 -1 -15 VRight 0
WINDOW 3 -44 118 VCenter 0
WINDOW 123 -17 116 VCenter 0
SYMATTR InstName Freq
SYMATTR Value rt=10k
SYMATTR Value2 Set=0
TEXT 430 192 Left 0 !.tran 0 2m 0
TEXT 680 192 Left 0 !.step param cursor .05 .95 .15\n.param Vdd=12\n.meas tran ta FIND time WHEN V(out)={Vdd/2} td=1m rise=1\n.meas tran tb FIND time WHEN V(out)={Vdd/2} td=1m rise=11\n.meas tran Frec PARAM 10/(tb-ta)\n.Meas tran Tc FIND time WHEN V(Out)={Vdd/2} td=1m fall=1\n.Meas tran Td FIND time WHEN V(Out)={Vdd/2} td=1m fall=2\n.Meas tran T1 Param  (Tc-Ta)\n.Meas tran T2  Param  (Td-Ta)\n.Meas tran Ton Param If (T1>0, T1, T2)\n.Meas tran Duty% Param  Ton*Frec*100
