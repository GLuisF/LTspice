* Model UC2854 PFC controller
* By Valentyn Volodin
* Created 03.11.2012
*  
.subckt UC2854 GD PKLIM CAOUT ISENSE MULTOUT IAC VAOUT VRMS REF ENA VSENSE RSET SS CT VCC GTDRV
A1 Vcc GD GD GD GD GD N002 GD SCHMITT Vhigh=15 Trise=10n Vt=13 Vh=3
A2 ENA GD GD GD GD GD N005 GD SCHMITT Vhigh=15 Trise=10n Vt=2.425 Vh=0.125
A3 N002 GD GD GD N005 N004 N003 GD AND Vhigh=15 Trise=10n Rout=0
R1 REF N001 0.5
G1 GD N001 N003 GD 1.866m
D1 GD N001 Z7_5
R2 N001 GD 417
S1 GD SS N004 GD SS
I1 Vcc SS 14µ load
V1 Rset GD 7
F1 GD CT V1 -1
D2 N008 N011 Ideal
I2 CT N008 10m load
R3 PKLIM GD 1k
A6 N012 N016 GD GD GD GD N013 GD SRFLOP Vhigh=15 Trise=10n
A7 N007 GD GD GD N017 GD N016 GD OR Vhigh=15 Trise=10n
A8 N015 N003 GD GD GD N012 N011 GD AND Vhigh=15 Td=80n Trise=80n Rout=10
A9 N013 N011 GD GD GD GD N014 GD AND Vhigh=15 Trise=35n
A10 CT CAOUT GD GD GD GD N007 GD SCHMITT Vhigh=15 Trise=10n Vt=0 Vh=1m
D3 N009 N014 Ideal
R4 Vcc N009 30k
G2 Vcc GD N003 GD 0.9m
E1 N010 GD N009 GD 1
D8 N010 GTDRV Don
D9 GTDRV N010 Doff
D10 GTDRV N006 Doff
R5 N003 N006 12
E2 N025 GD N019 GD 1
C2 N019 GD 15.9n ic=0
R6 N023 N018 1meg
R8 VAOUT N025 200
E3 N026 GD N021 GD 1
C3 N021 GD 15.9n ic=0
R9 N024 N020 1meg
R10 MULTOUT Isense 100k
R11 CAOUT N026 550
R12 Vrms GD 5meg
V2 N030 GD 5.7 Rser=1k
B2 GD MULTOUT I=min(I(V2)*(V(VAOUT)-1)/V(Vrms)**2,-I(V1)/1.87)
A5 PKLIM GD GD GD GD N017 GD GD SCHMITT Vhigh=15 Td=1u Trise=1u Vt=0 Vh=1m
C5 MULTOUT GD 60f ic=0
C1 SS GD 3p ic=0
A11 GD SS N022 N022 N022 N022 GD N022 VARISTOR
V6 N022 GD 7.5 Rser=1k
A4 CT GD GD GD GD N015 GD GD SCHMITT Vhigh=15 Trise=10n Vt=4 Vh=2.3
D4 Iac N030 Ideal
D5 SS REF Ideal1
C4 Iac GD 3p ic=0
E4 N023 GD N022 Vsense 100000
I3 N018 N019 5.5m load
C17 N018 GD 0.02p
I4 N019 N018 5.5m load
E5 N024 GD MULTOUT Isense 100000
I5 N020 N021 5.5m load
I6 N021 N020 5.5m load
C18 N020 GD 0.02p
V7 N027 GD 0.5
V8 N029 GD 16
V9 N028 GD 5.8
D6 N027 N021 Ideal
D7 N027 N019 Ideal
D11 N019 N028 Ideal
D12 N021 N029 Ideal
.model SS SW(Ron=100 Roff=1g Vt=7.5 Vh=-.5)
.model Ideal D(Ron=0 Roff=1g Vfwd=0)
.model Don D(Ron=8.5 Roff=1Meg Vfwd=.5 Ilimit=1)
.model Doff D(Ron=4.7 Roff=1Meg Vfwd=.1 Ilimit=1)
.model Z7_5 D(Ron=0 Roff=1G Vfwd=0 Vrev=7.5)
.model Ideal1 D(Ron=0 Roff=1g Vfwd=0.5)
.ends UC2854